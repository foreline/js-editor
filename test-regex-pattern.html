<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Regex Pattern</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .test { margin: 10px 0; padding: 10px; background: #f5f5f5; }
        .result { font-weight: bold; }
        .match { color: green; }
        .no-match { color: red; }
    </style>
</head>
<body>
    <h1>Test Trigger Detection Regex</h1>
    
    <div id="tests"></div>

    <script>
        const testsDiv = document.getElementById('tests');
        
        // This is the regex from the input event handler
        const triggerRegex = /^(#{1,6}\s|[\*\-]\s|[\*\-]\s*\[[x\s]\]\s*|\d+\.?\s|>\s|```|~~~)/;
        
        const testCases = [
            '# ',           // Should match header trigger
            '## ',          // Should match header trigger  
            '### ',         // Should match header trigger
            '- ',           // Should match list trigger
            '* ',           // Should match list trigger
            '1 ',           // Should match ordered list trigger
            '1. ',          // Should match ordered list trigger
            '> ',           // Should match quote trigger
            '```',          // Should match code trigger
            '- [ ]',        // Should match task list trigger
            '- [x]',        // Should match task list trigger
            '#',            // Should NOT match (no space)
            '-',            // Should NOT match (no space)
            '*',            // Should NOT match (no space)
            'regular text', // Should NOT match
            ' # ',          // Should NOT match (leading space)
        ];
        
        testCases.forEach(testCase => {
            const matches = triggerRegex.test(testCase);
            const div = document.createElement('div');
            div.className = 'test';
            div.innerHTML = `
                Test: "<strong>${testCase}</strong>" 
                <span class="result ${matches ? 'match' : 'no-match'}">
                    ${matches ? '✅ MATCHES' : '❌ NO MATCH'}
                </span>
            `;
            testsDiv.appendChild(div);
        });
        
        console.log('Regex pattern:', triggerRegex);
        console.log('Test results above show which patterns match the trigger detection regex');
    </script>
</body>
</html>
