{"version":3,"file":"index-DO4CSADs.js","sources":["../../node_modules/@popperjs/core/lib/enums.js","../../node_modules/@popperjs/core/lib/dom-utils/getNodeName.js","../../node_modules/@popperjs/core/lib/dom-utils/getWindow.js","../../node_modules/@popperjs/core/lib/dom-utils/instanceOf.js","../../node_modules/@popperjs/core/lib/modifiers/applyStyles.js","../../node_modules/@popperjs/core/lib/utils/getBasePlacement.js","../../node_modules/@popperjs/core/lib/utils/math.js","../../node_modules/@popperjs/core/lib/utils/userAgent.js","../../node_modules/@popperjs/core/lib/dom-utils/isLayoutViewport.js","../../node_modules/@popperjs/core/lib/dom-utils/getBoundingClientRect.js","../../node_modules/@popperjs/core/lib/dom-utils/getLayoutRect.js","../../node_modules/@popperjs/core/lib/dom-utils/contains.js","../../node_modules/@popperjs/core/lib/dom-utils/getComputedStyle.js","../../node_modules/@popperjs/core/lib/dom-utils/isTableElement.js","../../node_modules/@popperjs/core/lib/dom-utils/getDocumentElement.js","../../node_modules/@popperjs/core/lib/dom-utils/getParentNode.js","../../node_modules/@popperjs/core/lib/dom-utils/getOffsetParent.js","../../node_modules/@popperjs/core/lib/utils/getMainAxisFromPlacement.js","../../node_modules/@popperjs/core/lib/utils/within.js","../../node_modules/@popperjs/core/lib/utils/getFreshSideObject.js","../../node_modules/@popperjs/core/lib/utils/mergePaddingObject.js","../../node_modules/@popperjs/core/lib/utils/expandToHashMap.js","../../node_modules/@popperjs/core/lib/modifiers/arrow.js","../../node_modules/@popperjs/core/lib/utils/getVariation.js","../../node_modules/@popperjs/core/lib/modifiers/computeStyles.js","../../node_modules/@popperjs/core/lib/modifiers/eventListeners.js","../../node_modules/@popperjs/core/lib/utils/getOppositePlacement.js","../../node_modules/@popperjs/core/lib/utils/getOppositeVariationPlacement.js","../../node_modules/@popperjs/core/lib/dom-utils/getWindowScroll.js","../../node_modules/@popperjs/core/lib/dom-utils/getWindowScrollBarX.js","../../node_modules/@popperjs/core/lib/dom-utils/getViewportRect.js","../../node_modules/@popperjs/core/lib/dom-utils/getDocumentRect.js","../../node_modules/@popperjs/core/lib/dom-utils/isScrollParent.js","../../node_modules/@popperjs/core/lib/dom-utils/getScrollParent.js","../../node_modules/@popperjs/core/lib/dom-utils/listScrollParents.js","../../node_modules/@popperjs/core/lib/utils/rectToClientRect.js","../../node_modules/@popperjs/core/lib/dom-utils/getClippingRect.js","../../node_modules/@popperjs/core/lib/utils/computeOffsets.js","../../node_modules/@popperjs/core/lib/utils/detectOverflow.js","../../node_modules/@popperjs/core/lib/utils/computeAutoPlacement.js","../../node_modules/@popperjs/core/lib/modifiers/flip.js","../../node_modules/@popperjs/core/lib/modifiers/hide.js","../../node_modules/@popperjs/core/lib/modifiers/offset.js","../../node_modules/@popperjs/core/lib/modifiers/popperOffsets.js","../../node_modules/@popperjs/core/lib/utils/getAltAxis.js","../../node_modules/@popperjs/core/lib/modifiers/preventOverflow.js","../../node_modules/@popperjs/core/lib/dom-utils/getHTMLElementScroll.js","../../node_modules/@popperjs/core/lib/dom-utils/getNodeScroll.js","../../node_modules/@popperjs/core/lib/dom-utils/getCompositeRect.js","../../node_modules/@popperjs/core/lib/utils/orderModifiers.js","../../node_modules/@popperjs/core/lib/utils/debounce.js","../../node_modules/@popperjs/core/lib/utils/mergeByName.js","../../node_modules/@popperjs/core/lib/createPopper.js","../../node_modules/@popperjs/core/lib/popper-lite.js","../../node_modules/@popperjs/core/lib/popper.js","../../node_modules/bootstrap/dist/js/bootstrap.esm.js","../../src/utils/eventEmitter.js","../../src/ToolbarHandlers.js","../../src/BlockType.js","../../src/blocks/BaseBlock.js","../../src/blocks/ParagraphBlock.js","../../src/blocks/HeadingBlock.js","../../src/blocks/H1Block.js","../../src/blocks/H2Block.js","../../src/blocks/H3Block.js","../../src/blocks/H4Block.js","../../src/blocks/H5Block.js","../../src/blocks/H6Block.js","../../src/blocks/ListBlock.js","../../src/blocks/UnorderedListBlock.js","../../src/blocks/OrderedListBlock.js","../../src/blocks/TaskListBlock.js","../../node_modules/prismjs/prism.js","../../node_modules/prismjs/components/prism-markup.js","../../node_modules/prismjs/components/prism-markup-templating.js","../../node_modules/prismjs/components/prism-javascript.js","../../node_modules/prismjs/components/prism-typescript.js","../../node_modules/prismjs/components/prism-python.js","../../node_modules/prismjs/components/prism-java.js","../../node_modules/prismjs/components/prism-csharp.js","../../node_modules/prismjs/components/prism-php.js","../../node_modules/prismjs/components/prism-css.js","../../node_modules/prismjs/components/prism-json.js","../../node_modules/prismjs/components/prism-sql.js","../../node_modules/prismjs/components/prism-bash.js","../../src/utils/syntaxHighlighter.js","../../src/blocks/CodeBlock.js","../../src/blocks/QuoteBlock.js","../../src/blocks/DelimiterBlock.js","../../src/blocks/TableBlock.js","../../src/blocks/ImageBlock.js","../../src/blocks/BlockFactory.js","../../src/utils/log.js","../../src/Toolbar.js","../../node_modules/showdown/dist/showdown.js","../../src/Block.js","../../src/Parser.js","../../src/Utils.js","../../src/KeyHandler.js","../../src/DebugTooltip.js","../../src/Editor.js","../../index.html?html-proxy&index=1.js"],"sourcesContent":["export var top = 'top';\nexport var bottom = 'bottom';\nexport var right = 'right';\nexport var left = 'left';\nexport var auto = 'auto';\nexport var basePlacements = [top, bottom, right, left];\nexport var start = 'start';\nexport var end = 'end';\nexport var clippingParents = 'clippingParents';\nexport var viewport = 'viewport';\nexport var popper = 'popper';\nexport var reference = 'reference';\nexport var variationPlacements = /*#__PURE__*/basePlacements.reduce(function (acc, placement) {\n  return acc.concat([placement + \"-\" + start, placement + \"-\" + end]);\n}, []);\nexport var placements = /*#__PURE__*/[].concat(basePlacements, [auto]).reduce(function (acc, placement) {\n  return acc.concat([placement, placement + \"-\" + start, placement + \"-\" + end]);\n}, []); // modifiers that need to read the DOM\n\nexport var beforeRead = 'beforeRead';\nexport var read = 'read';\nexport var afterRead = 'afterRead'; // pure-logic modifiers\n\nexport var beforeMain = 'beforeMain';\nexport var main = 'main';\nexport var afterMain = 'afterMain'; // modifier with the purpose to write to the DOM (or write into a framework state)\n\nexport var beforeWrite = 'beforeWrite';\nexport var write = 'write';\nexport var afterWrite = 'afterWrite';\nexport var modifierPhases = [beforeRead, read, afterRead, beforeMain, main, afterMain, beforeWrite, write, afterWrite];","export default function getNodeName(element) {\n  return element ? (element.nodeName || '').toLowerCase() : null;\n}","export default function getWindow(node) {\n  if (node == null) {\n    return window;\n  }\n\n  if (node.toString() !== '[object Window]') {\n    var ownerDocument = node.ownerDocument;\n    return ownerDocument ? ownerDocument.defaultView || window : window;\n  }\n\n  return node;\n}","import getWindow from \"./getWindow.js\";\n\nfunction isElement(node) {\n  var OwnElement = getWindow(node).Element;\n  return node instanceof OwnElement || node instanceof Element;\n}\n\nfunction isHTMLElement(node) {\n  var OwnElement = getWindow(node).HTMLElement;\n  return node instanceof OwnElement || node instanceof HTMLElement;\n}\n\nfunction isShadowRoot(node) {\n  // IE 11 has no ShadowRoot\n  if (typeof ShadowRoot === 'undefined') {\n    return false;\n  }\n\n  var OwnElement = getWindow(node).ShadowRoot;\n  return node instanceof OwnElement || node instanceof ShadowRoot;\n}\n\nexport { isElement, isHTMLElement, isShadowRoot };","import getNodeName from \"../dom-utils/getNodeName.js\";\nimport { isHTMLElement } from \"../dom-utils/instanceOf.js\"; // This modifier takes the styles prepared by the `computeStyles` modifier\n// and applies them to the HTMLElements such as popper and arrow\n\nfunction applyStyles(_ref) {\n  var state = _ref.state;\n  Object.keys(state.elements).forEach(function (name) {\n    var style = state.styles[name] || {};\n    var attributes = state.attributes[name] || {};\n    var element = state.elements[name]; // arrow is optional + virtual elements\n\n    if (!isHTMLElement(element) || !getNodeName(element)) {\n      return;\n    } // Flow doesn't support to extend this property, but it's the most\n    // effective way to apply styles to an HTMLElement\n    // $FlowFixMe[cannot-write]\n\n\n    Object.assign(element.style, style);\n    Object.keys(attributes).forEach(function (name) {\n      var value = attributes[name];\n\n      if (value === false) {\n        element.removeAttribute(name);\n      } else {\n        element.setAttribute(name, value === true ? '' : value);\n      }\n    });\n  });\n}\n\nfunction effect(_ref2) {\n  var state = _ref2.state;\n  var initialStyles = {\n    popper: {\n      position: state.options.strategy,\n      left: '0',\n      top: '0',\n      margin: '0'\n    },\n    arrow: {\n      position: 'absolute'\n    },\n    reference: {}\n  };\n  Object.assign(state.elements.popper.style, initialStyles.popper);\n  state.styles = initialStyles;\n\n  if (state.elements.arrow) {\n    Object.assign(state.elements.arrow.style, initialStyles.arrow);\n  }\n\n  return function () {\n    Object.keys(state.elements).forEach(function (name) {\n      var element = state.elements[name];\n      var attributes = state.attributes[name] || {};\n      var styleProperties = Object.keys(state.styles.hasOwnProperty(name) ? state.styles[name] : initialStyles[name]); // Set all values to an empty string to unset them\n\n      var style = styleProperties.reduce(function (style, property) {\n        style[property] = '';\n        return style;\n      }, {}); // arrow is optional + virtual elements\n\n      if (!isHTMLElement(element) || !getNodeName(element)) {\n        return;\n      }\n\n      Object.assign(element.style, style);\n      Object.keys(attributes).forEach(function (attribute) {\n        element.removeAttribute(attribute);\n      });\n    });\n  };\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'applyStyles',\n  enabled: true,\n  phase: 'write',\n  fn: applyStyles,\n  effect: effect,\n  requires: ['computeStyles']\n};","import { auto } from \"../enums.js\";\nexport default function getBasePlacement(placement) {\n  return placement.split('-')[0];\n}","export var max = Math.max;\nexport var min = Math.min;\nexport var round = Math.round;","export default function getUAString() {\n  var uaData = navigator.userAgentData;\n\n  if (uaData != null && uaData.brands && Array.isArray(uaData.brands)) {\n    return uaData.brands.map(function (item) {\n      return item.brand + \"/\" + item.version;\n    }).join(' ');\n  }\n\n  return navigator.userAgent;\n}","import getUAString from \"../utils/userAgent.js\";\nexport default function isLayoutViewport() {\n  return !/^((?!chrome|android).)*safari/i.test(getUAString());\n}","import { isElement, isHTMLElement } from \"./instanceOf.js\";\nimport { round } from \"../utils/math.js\";\nimport getWindow from \"./getWindow.js\";\nimport isLayoutViewport from \"./isLayoutViewport.js\";\nexport default function getBoundingClientRect(element, includeScale, isFixedStrategy) {\n  if (includeScale === void 0) {\n    includeScale = false;\n  }\n\n  if (isFixedStrategy === void 0) {\n    isFixedStrategy = false;\n  }\n\n  var clientRect = element.getBoundingClientRect();\n  var scaleX = 1;\n  var scaleY = 1;\n\n  if (includeScale && isHTMLElement(element)) {\n    scaleX = element.offsetWidth > 0 ? round(clientRect.width) / element.offsetWidth || 1 : 1;\n    scaleY = element.offsetHeight > 0 ? round(clientRect.height) / element.offsetHeight || 1 : 1;\n  }\n\n  var _ref = isElement(element) ? getWindow(element) : window,\n      visualViewport = _ref.visualViewport;\n\n  var addVisualOffsets = !isLayoutViewport() && isFixedStrategy;\n  var x = (clientRect.left + (addVisualOffsets && visualViewport ? visualViewport.offsetLeft : 0)) / scaleX;\n  var y = (clientRect.top + (addVisualOffsets && visualViewport ? visualViewport.offsetTop : 0)) / scaleY;\n  var width = clientRect.width / scaleX;\n  var height = clientRect.height / scaleY;\n  return {\n    width: width,\n    height: height,\n    top: y,\n    right: x + width,\n    bottom: y + height,\n    left: x,\n    x: x,\n    y: y\n  };\n}","import getBoundingClientRect from \"./getBoundingClientRect.js\"; // Returns the layout rect of an element relative to its offsetParent. Layout\n// means it doesn't take into account transforms.\n\nexport default function getLayoutRect(element) {\n  var clientRect = getBoundingClientRect(element); // Use the clientRect sizes if it's not been transformed.\n  // Fixes https://github.com/popperjs/popper-core/issues/1223\n\n  var width = element.offsetWidth;\n  var height = element.offsetHeight;\n\n  if (Math.abs(clientRect.width - width) <= 1) {\n    width = clientRect.width;\n  }\n\n  if (Math.abs(clientRect.height - height) <= 1) {\n    height = clientRect.height;\n  }\n\n  return {\n    x: element.offsetLeft,\n    y: element.offsetTop,\n    width: width,\n    height: height\n  };\n}","import { isShadowRoot } from \"./instanceOf.js\";\nexport default function contains(parent, child) {\n  var rootNode = child.getRootNode && child.getRootNode(); // First, attempt with faster native method\n\n  if (parent.contains(child)) {\n    return true;\n  } // then fallback to custom implementation with Shadow DOM support\n  else if (rootNode && isShadowRoot(rootNode)) {\n      var next = child;\n\n      do {\n        if (next && parent.isSameNode(next)) {\n          return true;\n        } // $FlowFixMe[prop-missing]: need a better way to handle this...\n\n\n        next = next.parentNode || next.host;\n      } while (next);\n    } // Give up, the result is false\n\n\n  return false;\n}","import getWindow from \"./getWindow.js\";\nexport default function getComputedStyle(element) {\n  return getWindow(element).getComputedStyle(element);\n}","import getNodeName from \"./getNodeName.js\";\nexport default function isTableElement(element) {\n  return ['table', 'td', 'th'].indexOf(getNodeName(element)) >= 0;\n}","import { isElement } from \"./instanceOf.js\";\nexport default function getDocumentElement(element) {\n  // $FlowFixMe[incompatible-return]: assume body is always available\n  return ((isElement(element) ? element.ownerDocument : // $FlowFixMe[prop-missing]\n  element.document) || window.document).documentElement;\n}","import getNodeName from \"./getNodeName.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport { isShadowRoot } from \"./instanceOf.js\";\nexport default function getParentNode(element) {\n  if (getNodeName(element) === 'html') {\n    return element;\n  }\n\n  return (// this is a quicker (but less type safe) way to save quite some bytes from the bundle\n    // $FlowFixMe[incompatible-return]\n    // $FlowFixMe[prop-missing]\n    element.assignedSlot || // step into the shadow DOM of the parent of a slotted node\n    element.parentNode || ( // DOM Element detected\n    isShadowRoot(element) ? element.host : null) || // ShadowRoot detected\n    // $FlowFixMe[incompatible-call]: HTMLElement is a Node\n    getDocumentElement(element) // fallback\n\n  );\n}","import getWindow from \"./getWindow.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport getComputedStyle from \"./getComputedStyle.js\";\nimport { isHTMLElement, isShadowRoot } from \"./instanceOf.js\";\nimport isTableElement from \"./isTableElement.js\";\nimport getParentNode from \"./getParentNode.js\";\nimport getUAString from \"../utils/userAgent.js\";\n\nfunction getTrueOffsetParent(element) {\n  if (!isHTMLElement(element) || // https://github.com/popperjs/popper-core/issues/837\n  getComputedStyle(element).position === 'fixed') {\n    return null;\n  }\n\n  return element.offsetParent;\n} // `.offsetParent` reports `null` for fixed elements, while absolute elements\n// return the containing block\n\n\nfunction getContainingBlock(element) {\n  var isFirefox = /firefox/i.test(getUAString());\n  var isIE = /Trident/i.test(getUAString());\n\n  if (isIE && isHTMLElement(element)) {\n    // In IE 9, 10 and 11 fixed elements containing block is always established by the viewport\n    var elementCss = getComputedStyle(element);\n\n    if (elementCss.position === 'fixed') {\n      return null;\n    }\n  }\n\n  var currentNode = getParentNode(element);\n\n  if (isShadowRoot(currentNode)) {\n    currentNode = currentNode.host;\n  }\n\n  while (isHTMLElement(currentNode) && ['html', 'body'].indexOf(getNodeName(currentNode)) < 0) {\n    var css = getComputedStyle(currentNode); // This is non-exhaustive but covers the most common CSS properties that\n    // create a containing block.\n    // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n\n    if (css.transform !== 'none' || css.perspective !== 'none' || css.contain === 'paint' || ['transform', 'perspective'].indexOf(css.willChange) !== -1 || isFirefox && css.willChange === 'filter' || isFirefox && css.filter && css.filter !== 'none') {\n      return currentNode;\n    } else {\n      currentNode = currentNode.parentNode;\n    }\n  }\n\n  return null;\n} // Gets the closest ancestor positioned element. Handles some edge cases,\n// such as table ancestors and cross browser bugs.\n\n\nexport default function getOffsetParent(element) {\n  var window = getWindow(element);\n  var offsetParent = getTrueOffsetParent(element);\n\n  while (offsetParent && isTableElement(offsetParent) && getComputedStyle(offsetParent).position === 'static') {\n    offsetParent = getTrueOffsetParent(offsetParent);\n  }\n\n  if (offsetParent && (getNodeName(offsetParent) === 'html' || getNodeName(offsetParent) === 'body' && getComputedStyle(offsetParent).position === 'static')) {\n    return window;\n  }\n\n  return offsetParent || getContainingBlock(element) || window;\n}","export default function getMainAxisFromPlacement(placement) {\n  return ['top', 'bottom'].indexOf(placement) >= 0 ? 'x' : 'y';\n}","import { max as mathMax, min as mathMin } from \"./math.js\";\nexport function within(min, value, max) {\n  return mathMax(min, mathMin(value, max));\n}\nexport function withinMaxClamp(min, value, max) {\n  var v = within(min, value, max);\n  return v > max ? max : v;\n}","export default function getFreshSideObject() {\n  return {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0\n  };\n}","import getFreshSideObject from \"./getFreshSideObject.js\";\nexport default function mergePaddingObject(paddingObject) {\n  return Object.assign({}, getFreshSideObject(), paddingObject);\n}","export default function expandToHashMap(value, keys) {\n  return keys.reduce(function (hashMap, key) {\n    hashMap[key] = value;\n    return hashMap;\n  }, {});\n}","import getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getLayoutRect from \"../dom-utils/getLayoutRect.js\";\nimport contains from \"../dom-utils/contains.js\";\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\nimport getMainAxisFromPlacement from \"../utils/getMainAxisFromPlacement.js\";\nimport { within } from \"../utils/within.js\";\nimport mergePaddingObject from \"../utils/mergePaddingObject.js\";\nimport expandToHashMap from \"../utils/expandToHashMap.js\";\nimport { left, right, basePlacements, top, bottom } from \"../enums.js\"; // eslint-disable-next-line import/no-unused-modules\n\nvar toPaddingObject = function toPaddingObject(padding, state) {\n  padding = typeof padding === 'function' ? padding(Object.assign({}, state.rects, {\n    placement: state.placement\n  })) : padding;\n  return mergePaddingObject(typeof padding !== 'number' ? padding : expandToHashMap(padding, basePlacements));\n};\n\nfunction arrow(_ref) {\n  var _state$modifiersData$;\n\n  var state = _ref.state,\n      name = _ref.name,\n      options = _ref.options;\n  var arrowElement = state.elements.arrow;\n  var popperOffsets = state.modifiersData.popperOffsets;\n  var basePlacement = getBasePlacement(state.placement);\n  var axis = getMainAxisFromPlacement(basePlacement);\n  var isVertical = [left, right].indexOf(basePlacement) >= 0;\n  var len = isVertical ? 'height' : 'width';\n\n  if (!arrowElement || !popperOffsets) {\n    return;\n  }\n\n  var paddingObject = toPaddingObject(options.padding, state);\n  var arrowRect = getLayoutRect(arrowElement);\n  var minProp = axis === 'y' ? top : left;\n  var maxProp = axis === 'y' ? bottom : right;\n  var endDiff = state.rects.reference[len] + state.rects.reference[axis] - popperOffsets[axis] - state.rects.popper[len];\n  var startDiff = popperOffsets[axis] - state.rects.reference[axis];\n  var arrowOffsetParent = getOffsetParent(arrowElement);\n  var clientSize = arrowOffsetParent ? axis === 'y' ? arrowOffsetParent.clientHeight || 0 : arrowOffsetParent.clientWidth || 0 : 0;\n  var centerToReference = endDiff / 2 - startDiff / 2; // Make sure the arrow doesn't overflow the popper if the center point is\n  // outside of the popper bounds\n\n  var min = paddingObject[minProp];\n  var max = clientSize - arrowRect[len] - paddingObject[maxProp];\n  var center = clientSize / 2 - arrowRect[len] / 2 + centerToReference;\n  var offset = within(min, center, max); // Prevents breaking syntax highlighting...\n\n  var axisProp = axis;\n  state.modifiersData[name] = (_state$modifiersData$ = {}, _state$modifiersData$[axisProp] = offset, _state$modifiersData$.centerOffset = offset - center, _state$modifiersData$);\n}\n\nfunction effect(_ref2) {\n  var state = _ref2.state,\n      options = _ref2.options;\n  var _options$element = options.element,\n      arrowElement = _options$element === void 0 ? '[data-popper-arrow]' : _options$element;\n\n  if (arrowElement == null) {\n    return;\n  } // CSS selector\n\n\n  if (typeof arrowElement === 'string') {\n    arrowElement = state.elements.popper.querySelector(arrowElement);\n\n    if (!arrowElement) {\n      return;\n    }\n  }\n\n  if (!contains(state.elements.popper, arrowElement)) {\n    return;\n  }\n\n  state.elements.arrow = arrowElement;\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'arrow',\n  enabled: true,\n  phase: 'main',\n  fn: arrow,\n  effect: effect,\n  requires: ['popperOffsets'],\n  requiresIfExists: ['preventOverflow']\n};","export default function getVariation(placement) {\n  return placement.split('-')[1];\n}","import { top, left, right, bottom, end } from \"../enums.js\";\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\nimport getWindow from \"../dom-utils/getWindow.js\";\nimport getDocumentElement from \"../dom-utils/getDocumentElement.js\";\nimport getComputedStyle from \"../dom-utils/getComputedStyle.js\";\nimport getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getVariation from \"../utils/getVariation.js\";\nimport { round } from \"../utils/math.js\"; // eslint-disable-next-line import/no-unused-modules\n\nvar unsetSides = {\n  top: 'auto',\n  right: 'auto',\n  bottom: 'auto',\n  left: 'auto'\n}; // Round the offsets to the nearest suitable subpixel based on the DPR.\n// Zooming can change the DPR, but it seems to report a value that will\n// cleanly divide the values into the appropriate subpixels.\n\nfunction roundOffsetsByDPR(_ref, win) {\n  var x = _ref.x,\n      y = _ref.y;\n  var dpr = win.devicePixelRatio || 1;\n  return {\n    x: round(x * dpr) / dpr || 0,\n    y: round(y * dpr) / dpr || 0\n  };\n}\n\nexport function mapToStyles(_ref2) {\n  var _Object$assign2;\n\n  var popper = _ref2.popper,\n      popperRect = _ref2.popperRect,\n      placement = _ref2.placement,\n      variation = _ref2.variation,\n      offsets = _ref2.offsets,\n      position = _ref2.position,\n      gpuAcceleration = _ref2.gpuAcceleration,\n      adaptive = _ref2.adaptive,\n      roundOffsets = _ref2.roundOffsets,\n      isFixed = _ref2.isFixed;\n  var _offsets$x = offsets.x,\n      x = _offsets$x === void 0 ? 0 : _offsets$x,\n      _offsets$y = offsets.y,\n      y = _offsets$y === void 0 ? 0 : _offsets$y;\n\n  var _ref3 = typeof roundOffsets === 'function' ? roundOffsets({\n    x: x,\n    y: y\n  }) : {\n    x: x,\n    y: y\n  };\n\n  x = _ref3.x;\n  y = _ref3.y;\n  var hasX = offsets.hasOwnProperty('x');\n  var hasY = offsets.hasOwnProperty('y');\n  var sideX = left;\n  var sideY = top;\n  var win = window;\n\n  if (adaptive) {\n    var offsetParent = getOffsetParent(popper);\n    var heightProp = 'clientHeight';\n    var widthProp = 'clientWidth';\n\n    if (offsetParent === getWindow(popper)) {\n      offsetParent = getDocumentElement(popper);\n\n      if (getComputedStyle(offsetParent).position !== 'static' && position === 'absolute') {\n        heightProp = 'scrollHeight';\n        widthProp = 'scrollWidth';\n      }\n    } // $FlowFixMe[incompatible-cast]: force type refinement, we compare offsetParent with window above, but Flow doesn't detect it\n\n\n    offsetParent = offsetParent;\n\n    if (placement === top || (placement === left || placement === right) && variation === end) {\n      sideY = bottom;\n      var offsetY = isFixed && offsetParent === win && win.visualViewport ? win.visualViewport.height : // $FlowFixMe[prop-missing]\n      offsetParent[heightProp];\n      y -= offsetY - popperRect.height;\n      y *= gpuAcceleration ? 1 : -1;\n    }\n\n    if (placement === left || (placement === top || placement === bottom) && variation === end) {\n      sideX = right;\n      var offsetX = isFixed && offsetParent === win && win.visualViewport ? win.visualViewport.width : // $FlowFixMe[prop-missing]\n      offsetParent[widthProp];\n      x -= offsetX - popperRect.width;\n      x *= gpuAcceleration ? 1 : -1;\n    }\n  }\n\n  var commonStyles = Object.assign({\n    position: position\n  }, adaptive && unsetSides);\n\n  var _ref4 = roundOffsets === true ? roundOffsetsByDPR({\n    x: x,\n    y: y\n  }, getWindow(popper)) : {\n    x: x,\n    y: y\n  };\n\n  x = _ref4.x;\n  y = _ref4.y;\n\n  if (gpuAcceleration) {\n    var _Object$assign;\n\n    return Object.assign({}, commonStyles, (_Object$assign = {}, _Object$assign[sideY] = hasY ? '0' : '', _Object$assign[sideX] = hasX ? '0' : '', _Object$assign.transform = (win.devicePixelRatio || 1) <= 1 ? \"translate(\" + x + \"px, \" + y + \"px)\" : \"translate3d(\" + x + \"px, \" + y + \"px, 0)\", _Object$assign));\n  }\n\n  return Object.assign({}, commonStyles, (_Object$assign2 = {}, _Object$assign2[sideY] = hasY ? y + \"px\" : '', _Object$assign2[sideX] = hasX ? x + \"px\" : '', _Object$assign2.transform = '', _Object$assign2));\n}\n\nfunction computeStyles(_ref5) {\n  var state = _ref5.state,\n      options = _ref5.options;\n  var _options$gpuAccelerat = options.gpuAcceleration,\n      gpuAcceleration = _options$gpuAccelerat === void 0 ? true : _options$gpuAccelerat,\n      _options$adaptive = options.adaptive,\n      adaptive = _options$adaptive === void 0 ? true : _options$adaptive,\n      _options$roundOffsets = options.roundOffsets,\n      roundOffsets = _options$roundOffsets === void 0 ? true : _options$roundOffsets;\n  var commonStyles = {\n    placement: getBasePlacement(state.placement),\n    variation: getVariation(state.placement),\n    popper: state.elements.popper,\n    popperRect: state.rects.popper,\n    gpuAcceleration: gpuAcceleration,\n    isFixed: state.options.strategy === 'fixed'\n  };\n\n  if (state.modifiersData.popperOffsets != null) {\n    state.styles.popper = Object.assign({}, state.styles.popper, mapToStyles(Object.assign({}, commonStyles, {\n      offsets: state.modifiersData.popperOffsets,\n      position: state.options.strategy,\n      adaptive: adaptive,\n      roundOffsets: roundOffsets\n    })));\n  }\n\n  if (state.modifiersData.arrow != null) {\n    state.styles.arrow = Object.assign({}, state.styles.arrow, mapToStyles(Object.assign({}, commonStyles, {\n      offsets: state.modifiersData.arrow,\n      position: 'absolute',\n      adaptive: false,\n      roundOffsets: roundOffsets\n    })));\n  }\n\n  state.attributes.popper = Object.assign({}, state.attributes.popper, {\n    'data-popper-placement': state.placement\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'computeStyles',\n  enabled: true,\n  phase: 'beforeWrite',\n  fn: computeStyles,\n  data: {}\n};","import getWindow from \"../dom-utils/getWindow.js\"; // eslint-disable-next-line import/no-unused-modules\n\nvar passive = {\n  passive: true\n};\n\nfunction effect(_ref) {\n  var state = _ref.state,\n      instance = _ref.instance,\n      options = _ref.options;\n  var _options$scroll = options.scroll,\n      scroll = _options$scroll === void 0 ? true : _options$scroll,\n      _options$resize = options.resize,\n      resize = _options$resize === void 0 ? true : _options$resize;\n  var window = getWindow(state.elements.popper);\n  var scrollParents = [].concat(state.scrollParents.reference, state.scrollParents.popper);\n\n  if (scroll) {\n    scrollParents.forEach(function (scrollParent) {\n      scrollParent.addEventListener('scroll', instance.update, passive);\n    });\n  }\n\n  if (resize) {\n    window.addEventListener('resize', instance.update, passive);\n  }\n\n  return function () {\n    if (scroll) {\n      scrollParents.forEach(function (scrollParent) {\n        scrollParent.removeEventListener('scroll', instance.update, passive);\n      });\n    }\n\n    if (resize) {\n      window.removeEventListener('resize', instance.update, passive);\n    }\n  };\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'eventListeners',\n  enabled: true,\n  phase: 'write',\n  fn: function fn() {},\n  effect: effect,\n  data: {}\n};","var hash = {\n  left: 'right',\n  right: 'left',\n  bottom: 'top',\n  top: 'bottom'\n};\nexport default function getOppositePlacement(placement) {\n  return placement.replace(/left|right|bottom|top/g, function (matched) {\n    return hash[matched];\n  });\n}","var hash = {\n  start: 'end',\n  end: 'start'\n};\nexport default function getOppositeVariationPlacement(placement) {\n  return placement.replace(/start|end/g, function (matched) {\n    return hash[matched];\n  });\n}","import getWindow from \"./getWindow.js\";\nexport default function getWindowScroll(node) {\n  var win = getWindow(node);\n  var scrollLeft = win.pageXOffset;\n  var scrollTop = win.pageYOffset;\n  return {\n    scrollLeft: scrollLeft,\n    scrollTop: scrollTop\n  };\n}","import getBoundingClientRect from \"./getBoundingClientRect.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport getWindowScroll from \"./getWindowScroll.js\";\nexport default function getWindowScrollBarX(element) {\n  // If <html> has a CSS width greater than the viewport, then this will be\n  // incorrect for RTL.\n  // Popper 1 is broken in this case and never had a bug report so let's assume\n  // it's not an issue. I don't think anyone ever specifies width on <html>\n  // anyway.\n  // Browsers where the left scrollbar doesn't cause an issue report `0` for\n  // this (e.g. Edge 2019, IE11, Safari)\n  return getBoundingClientRect(getDocumentElement(element)).left + getWindowScroll(element).scrollLeft;\n}","import getWindow from \"./getWindow.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport getWindowScrollBarX from \"./getWindowScrollBarX.js\";\nimport isLayoutViewport from \"./isLayoutViewport.js\";\nexport default function getViewportRect(element, strategy) {\n  var win = getWindow(element);\n  var html = getDocumentElement(element);\n  var visualViewport = win.visualViewport;\n  var width = html.clientWidth;\n  var height = html.clientHeight;\n  var x = 0;\n  var y = 0;\n\n  if (visualViewport) {\n    width = visualViewport.width;\n    height = visualViewport.height;\n    var layoutViewport = isLayoutViewport();\n\n    if (layoutViewport || !layoutViewport && strategy === 'fixed') {\n      x = visualViewport.offsetLeft;\n      y = visualViewport.offsetTop;\n    }\n  }\n\n  return {\n    width: width,\n    height: height,\n    x: x + getWindowScrollBarX(element),\n    y: y\n  };\n}","import getDocumentElement from \"./getDocumentElement.js\";\nimport getComputedStyle from \"./getComputedStyle.js\";\nimport getWindowScrollBarX from \"./getWindowScrollBarX.js\";\nimport getWindowScroll from \"./getWindowScroll.js\";\nimport { max } from \"../utils/math.js\"; // Gets the entire size of the scrollable document area, even extending outside\n// of the `<html>` and `<body>` rect bounds if horizontally scrollable\n\nexport default function getDocumentRect(element) {\n  var _element$ownerDocumen;\n\n  var html = getDocumentElement(element);\n  var winScroll = getWindowScroll(element);\n  var body = (_element$ownerDocumen = element.ownerDocument) == null ? void 0 : _element$ownerDocumen.body;\n  var width = max(html.scrollWidth, html.clientWidth, body ? body.scrollWidth : 0, body ? body.clientWidth : 0);\n  var height = max(html.scrollHeight, html.clientHeight, body ? body.scrollHeight : 0, body ? body.clientHeight : 0);\n  var x = -winScroll.scrollLeft + getWindowScrollBarX(element);\n  var y = -winScroll.scrollTop;\n\n  if (getComputedStyle(body || html).direction === 'rtl') {\n    x += max(html.clientWidth, body ? body.clientWidth : 0) - width;\n  }\n\n  return {\n    width: width,\n    height: height,\n    x: x,\n    y: y\n  };\n}","import getComputedStyle from \"./getComputedStyle.js\";\nexport default function isScrollParent(element) {\n  // Firefox wants us to check `-x` and `-y` variations as well\n  var _getComputedStyle = getComputedStyle(element),\n      overflow = _getComputedStyle.overflow,\n      overflowX = _getComputedStyle.overflowX,\n      overflowY = _getComputedStyle.overflowY;\n\n  return /auto|scroll|overlay|hidden/.test(overflow + overflowY + overflowX);\n}","import getParentNode from \"./getParentNode.js\";\nimport isScrollParent from \"./isScrollParent.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nexport default function getScrollParent(node) {\n  if (['html', 'body', '#document'].indexOf(getNodeName(node)) >= 0) {\n    // $FlowFixMe[incompatible-return]: assume body is always available\n    return node.ownerDocument.body;\n  }\n\n  if (isHTMLElement(node) && isScrollParent(node)) {\n    return node;\n  }\n\n  return getScrollParent(getParentNode(node));\n}","import getScrollParent from \"./getScrollParent.js\";\nimport getParentNode from \"./getParentNode.js\";\nimport getWindow from \"./getWindow.js\";\nimport isScrollParent from \"./isScrollParent.js\";\n/*\ngiven a DOM element, return the list of all scroll parents, up the list of ancesors\nuntil we get to the top window object. This list is what we attach scroll listeners\nto, because if any of these parent elements scroll, we'll need to re-calculate the\nreference element's position.\n*/\n\nexport default function listScrollParents(element, list) {\n  var _element$ownerDocumen;\n\n  if (list === void 0) {\n    list = [];\n  }\n\n  var scrollParent = getScrollParent(element);\n  var isBody = scrollParent === ((_element$ownerDocumen = element.ownerDocument) == null ? void 0 : _element$ownerDocumen.body);\n  var win = getWindow(scrollParent);\n  var target = isBody ? [win].concat(win.visualViewport || [], isScrollParent(scrollParent) ? scrollParent : []) : scrollParent;\n  var updatedList = list.concat(target);\n  return isBody ? updatedList : // $FlowFixMe[incompatible-call]: isBody tells us target will be an HTMLElement here\n  updatedList.concat(listScrollParents(getParentNode(target)));\n}","export default function rectToClientRect(rect) {\n  return Object.assign({}, rect, {\n    left: rect.x,\n    top: rect.y,\n    right: rect.x + rect.width,\n    bottom: rect.y + rect.height\n  });\n}","import { viewport } from \"../enums.js\";\nimport getViewportRect from \"./getViewportRect.js\";\nimport getDocumentRect from \"./getDocumentRect.js\";\nimport listScrollParents from \"./listScrollParents.js\";\nimport getOffsetParent from \"./getOffsetParent.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport getComputedStyle from \"./getComputedStyle.js\";\nimport { isElement, isHTMLElement } from \"./instanceOf.js\";\nimport getBoundingClientRect from \"./getBoundingClientRect.js\";\nimport getParentNode from \"./getParentNode.js\";\nimport contains from \"./contains.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport rectToClientRect from \"../utils/rectToClientRect.js\";\nimport { max, min } from \"../utils/math.js\";\n\nfunction getInnerBoundingClientRect(element, strategy) {\n  var rect = getBoundingClientRect(element, false, strategy === 'fixed');\n  rect.top = rect.top + element.clientTop;\n  rect.left = rect.left + element.clientLeft;\n  rect.bottom = rect.top + element.clientHeight;\n  rect.right = rect.left + element.clientWidth;\n  rect.width = element.clientWidth;\n  rect.height = element.clientHeight;\n  rect.x = rect.left;\n  rect.y = rect.top;\n  return rect;\n}\n\nfunction getClientRectFromMixedType(element, clippingParent, strategy) {\n  return clippingParent === viewport ? rectToClientRect(getViewportRect(element, strategy)) : isElement(clippingParent) ? getInnerBoundingClientRect(clippingParent, strategy) : rectToClientRect(getDocumentRect(getDocumentElement(element)));\n} // A \"clipping parent\" is an overflowable container with the characteristic of\n// clipping (or hiding) overflowing elements with a position different from\n// `initial`\n\n\nfunction getClippingParents(element) {\n  var clippingParents = listScrollParents(getParentNode(element));\n  var canEscapeClipping = ['absolute', 'fixed'].indexOf(getComputedStyle(element).position) >= 0;\n  var clipperElement = canEscapeClipping && isHTMLElement(element) ? getOffsetParent(element) : element;\n\n  if (!isElement(clipperElement)) {\n    return [];\n  } // $FlowFixMe[incompatible-return]: https://github.com/facebook/flow/issues/1414\n\n\n  return clippingParents.filter(function (clippingParent) {\n    return isElement(clippingParent) && contains(clippingParent, clipperElement) && getNodeName(clippingParent) !== 'body';\n  });\n} // Gets the maximum area that the element is visible in due to any number of\n// clipping parents\n\n\nexport default function getClippingRect(element, boundary, rootBoundary, strategy) {\n  var mainClippingParents = boundary === 'clippingParents' ? getClippingParents(element) : [].concat(boundary);\n  var clippingParents = [].concat(mainClippingParents, [rootBoundary]);\n  var firstClippingParent = clippingParents[0];\n  var clippingRect = clippingParents.reduce(function (accRect, clippingParent) {\n    var rect = getClientRectFromMixedType(element, clippingParent, strategy);\n    accRect.top = max(rect.top, accRect.top);\n    accRect.right = min(rect.right, accRect.right);\n    accRect.bottom = min(rect.bottom, accRect.bottom);\n    accRect.left = max(rect.left, accRect.left);\n    return accRect;\n  }, getClientRectFromMixedType(element, firstClippingParent, strategy));\n  clippingRect.width = clippingRect.right - clippingRect.left;\n  clippingRect.height = clippingRect.bottom - clippingRect.top;\n  clippingRect.x = clippingRect.left;\n  clippingRect.y = clippingRect.top;\n  return clippingRect;\n}","import getBasePlacement from \"./getBasePlacement.js\";\nimport getVariation from \"./getVariation.js\";\nimport getMainAxisFromPlacement from \"./getMainAxisFromPlacement.js\";\nimport { top, right, bottom, left, start, end } from \"../enums.js\";\nexport default function computeOffsets(_ref) {\n  var reference = _ref.reference,\n      element = _ref.element,\n      placement = _ref.placement;\n  var basePlacement = placement ? getBasePlacement(placement) : null;\n  var variation = placement ? getVariation(placement) : null;\n  var commonX = reference.x + reference.width / 2 - element.width / 2;\n  var commonY = reference.y + reference.height / 2 - element.height / 2;\n  var offsets;\n\n  switch (basePlacement) {\n    case top:\n      offsets = {\n        x: commonX,\n        y: reference.y - element.height\n      };\n      break;\n\n    case bottom:\n      offsets = {\n        x: commonX,\n        y: reference.y + reference.height\n      };\n      break;\n\n    case right:\n      offsets = {\n        x: reference.x + reference.width,\n        y: commonY\n      };\n      break;\n\n    case left:\n      offsets = {\n        x: reference.x - element.width,\n        y: commonY\n      };\n      break;\n\n    default:\n      offsets = {\n        x: reference.x,\n        y: reference.y\n      };\n  }\n\n  var mainAxis = basePlacement ? getMainAxisFromPlacement(basePlacement) : null;\n\n  if (mainAxis != null) {\n    var len = mainAxis === 'y' ? 'height' : 'width';\n\n    switch (variation) {\n      case start:\n        offsets[mainAxis] = offsets[mainAxis] - (reference[len] / 2 - element[len] / 2);\n        break;\n\n      case end:\n        offsets[mainAxis] = offsets[mainAxis] + (reference[len] / 2 - element[len] / 2);\n        break;\n\n      default:\n    }\n  }\n\n  return offsets;\n}","import getClippingRect from \"../dom-utils/getClippingRect.js\";\nimport getDocumentElement from \"../dom-utils/getDocumentElement.js\";\nimport getBoundingClientRect from \"../dom-utils/getBoundingClientRect.js\";\nimport computeOffsets from \"./computeOffsets.js\";\nimport rectToClientRect from \"./rectToClientRect.js\";\nimport { clippingParents, reference, popper, bottom, top, right, basePlacements, viewport } from \"../enums.js\";\nimport { isElement } from \"../dom-utils/instanceOf.js\";\nimport mergePaddingObject from \"./mergePaddingObject.js\";\nimport expandToHashMap from \"./expandToHashMap.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport default function detectOverflow(state, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options = options,\n      _options$placement = _options.placement,\n      placement = _options$placement === void 0 ? state.placement : _options$placement,\n      _options$strategy = _options.strategy,\n      strategy = _options$strategy === void 0 ? state.strategy : _options$strategy,\n      _options$boundary = _options.boundary,\n      boundary = _options$boundary === void 0 ? clippingParents : _options$boundary,\n      _options$rootBoundary = _options.rootBoundary,\n      rootBoundary = _options$rootBoundary === void 0 ? viewport : _options$rootBoundary,\n      _options$elementConte = _options.elementContext,\n      elementContext = _options$elementConte === void 0 ? popper : _options$elementConte,\n      _options$altBoundary = _options.altBoundary,\n      altBoundary = _options$altBoundary === void 0 ? false : _options$altBoundary,\n      _options$padding = _options.padding,\n      padding = _options$padding === void 0 ? 0 : _options$padding;\n  var paddingObject = mergePaddingObject(typeof padding !== 'number' ? padding : expandToHashMap(padding, basePlacements));\n  var altContext = elementContext === popper ? reference : popper;\n  var popperRect = state.rects.popper;\n  var element = state.elements[altBoundary ? altContext : elementContext];\n  var clippingClientRect = getClippingRect(isElement(element) ? element : element.contextElement || getDocumentElement(state.elements.popper), boundary, rootBoundary, strategy);\n  var referenceClientRect = getBoundingClientRect(state.elements.reference);\n  var popperOffsets = computeOffsets({\n    reference: referenceClientRect,\n    element: popperRect,\n    strategy: 'absolute',\n    placement: placement\n  });\n  var popperClientRect = rectToClientRect(Object.assign({}, popperRect, popperOffsets));\n  var elementClientRect = elementContext === popper ? popperClientRect : referenceClientRect; // positive = overflowing the clipping rect\n  // 0 or negative = within the clipping rect\n\n  var overflowOffsets = {\n    top: clippingClientRect.top - elementClientRect.top + paddingObject.top,\n    bottom: elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom,\n    left: clippingClientRect.left - elementClientRect.left + paddingObject.left,\n    right: elementClientRect.right - clippingClientRect.right + paddingObject.right\n  };\n  var offsetData = state.modifiersData.offset; // Offsets can be applied only to the popper element\n\n  if (elementContext === popper && offsetData) {\n    var offset = offsetData[placement];\n    Object.keys(overflowOffsets).forEach(function (key) {\n      var multiply = [right, bottom].indexOf(key) >= 0 ? 1 : -1;\n      var axis = [top, bottom].indexOf(key) >= 0 ? 'y' : 'x';\n      overflowOffsets[key] += offset[axis] * multiply;\n    });\n  }\n\n  return overflowOffsets;\n}","import getVariation from \"./getVariation.js\";\nimport { variationPlacements, basePlacements, placements as allPlacements } from \"../enums.js\";\nimport detectOverflow from \"./detectOverflow.js\";\nimport getBasePlacement from \"./getBasePlacement.js\";\nexport default function computeAutoPlacement(state, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options = options,\n      placement = _options.placement,\n      boundary = _options.boundary,\n      rootBoundary = _options.rootBoundary,\n      padding = _options.padding,\n      flipVariations = _options.flipVariations,\n      _options$allowedAutoP = _options.allowedAutoPlacements,\n      allowedAutoPlacements = _options$allowedAutoP === void 0 ? allPlacements : _options$allowedAutoP;\n  var variation = getVariation(placement);\n  var placements = variation ? flipVariations ? variationPlacements : variationPlacements.filter(function (placement) {\n    return getVariation(placement) === variation;\n  }) : basePlacements;\n  var allowedPlacements = placements.filter(function (placement) {\n    return allowedAutoPlacements.indexOf(placement) >= 0;\n  });\n\n  if (allowedPlacements.length === 0) {\n    allowedPlacements = placements;\n  } // $FlowFixMe[incompatible-type]: Flow seems to have problems with two array unions...\n\n\n  var overflows = allowedPlacements.reduce(function (acc, placement) {\n    acc[placement] = detectOverflow(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      padding: padding\n    })[getBasePlacement(placement)];\n    return acc;\n  }, {});\n  return Object.keys(overflows).sort(function (a, b) {\n    return overflows[a] - overflows[b];\n  });\n}","import getOppositePlacement from \"../utils/getOppositePlacement.js\";\nimport getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getOppositeVariationPlacement from \"../utils/getOppositeVariationPlacement.js\";\nimport detectOverflow from \"../utils/detectOverflow.js\";\nimport computeAutoPlacement from \"../utils/computeAutoPlacement.js\";\nimport { bottom, top, start, right, left, auto } from \"../enums.js\";\nimport getVariation from \"../utils/getVariation.js\"; // eslint-disable-next-line import/no-unused-modules\n\nfunction getExpandedFallbackPlacements(placement) {\n  if (getBasePlacement(placement) === auto) {\n    return [];\n  }\n\n  var oppositePlacement = getOppositePlacement(placement);\n  return [getOppositeVariationPlacement(placement), oppositePlacement, getOppositeVariationPlacement(oppositePlacement)];\n}\n\nfunction flip(_ref) {\n  var state = _ref.state,\n      options = _ref.options,\n      name = _ref.name;\n\n  if (state.modifiersData[name]._skip) {\n    return;\n  }\n\n  var _options$mainAxis = options.mainAxis,\n      checkMainAxis = _options$mainAxis === void 0 ? true : _options$mainAxis,\n      _options$altAxis = options.altAxis,\n      checkAltAxis = _options$altAxis === void 0 ? true : _options$altAxis,\n      specifiedFallbackPlacements = options.fallbackPlacements,\n      padding = options.padding,\n      boundary = options.boundary,\n      rootBoundary = options.rootBoundary,\n      altBoundary = options.altBoundary,\n      _options$flipVariatio = options.flipVariations,\n      flipVariations = _options$flipVariatio === void 0 ? true : _options$flipVariatio,\n      allowedAutoPlacements = options.allowedAutoPlacements;\n  var preferredPlacement = state.options.placement;\n  var basePlacement = getBasePlacement(preferredPlacement);\n  var isBasePlacement = basePlacement === preferredPlacement;\n  var fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipVariations ? [getOppositePlacement(preferredPlacement)] : getExpandedFallbackPlacements(preferredPlacement));\n  var placements = [preferredPlacement].concat(fallbackPlacements).reduce(function (acc, placement) {\n    return acc.concat(getBasePlacement(placement) === auto ? computeAutoPlacement(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      padding: padding,\n      flipVariations: flipVariations,\n      allowedAutoPlacements: allowedAutoPlacements\n    }) : placement);\n  }, []);\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var checksMap = new Map();\n  var makeFallbackChecks = true;\n  var firstFittingPlacement = placements[0];\n\n  for (var i = 0; i < placements.length; i++) {\n    var placement = placements[i];\n\n    var _basePlacement = getBasePlacement(placement);\n\n    var isStartVariation = getVariation(placement) === start;\n    var isVertical = [top, bottom].indexOf(_basePlacement) >= 0;\n    var len = isVertical ? 'width' : 'height';\n    var overflow = detectOverflow(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      altBoundary: altBoundary,\n      padding: padding\n    });\n    var mainVariationSide = isVertical ? isStartVariation ? right : left : isStartVariation ? bottom : top;\n\n    if (referenceRect[len] > popperRect[len]) {\n      mainVariationSide = getOppositePlacement(mainVariationSide);\n    }\n\n    var altVariationSide = getOppositePlacement(mainVariationSide);\n    var checks = [];\n\n    if (checkMainAxis) {\n      checks.push(overflow[_basePlacement] <= 0);\n    }\n\n    if (checkAltAxis) {\n      checks.push(overflow[mainVariationSide] <= 0, overflow[altVariationSide] <= 0);\n    }\n\n    if (checks.every(function (check) {\n      return check;\n    })) {\n      firstFittingPlacement = placement;\n      makeFallbackChecks = false;\n      break;\n    }\n\n    checksMap.set(placement, checks);\n  }\n\n  if (makeFallbackChecks) {\n    // `2` may be desired in some cases  research later\n    var numberOfChecks = flipVariations ? 3 : 1;\n\n    var _loop = function _loop(_i) {\n      var fittingPlacement = placements.find(function (placement) {\n        var checks = checksMap.get(placement);\n\n        if (checks) {\n          return checks.slice(0, _i).every(function (check) {\n            return check;\n          });\n        }\n      });\n\n      if (fittingPlacement) {\n        firstFittingPlacement = fittingPlacement;\n        return \"break\";\n      }\n    };\n\n    for (var _i = numberOfChecks; _i > 0; _i--) {\n      var _ret = _loop(_i);\n\n      if (_ret === \"break\") break;\n    }\n  }\n\n  if (state.placement !== firstFittingPlacement) {\n    state.modifiersData[name]._skip = true;\n    state.placement = firstFittingPlacement;\n    state.reset = true;\n  }\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'flip',\n  enabled: true,\n  phase: 'main',\n  fn: flip,\n  requiresIfExists: ['offset'],\n  data: {\n    _skip: false\n  }\n};","import { top, bottom, left, right } from \"../enums.js\";\nimport detectOverflow from \"../utils/detectOverflow.js\";\n\nfunction getSideOffsets(overflow, rect, preventedOffsets) {\n  if (preventedOffsets === void 0) {\n    preventedOffsets = {\n      x: 0,\n      y: 0\n    };\n  }\n\n  return {\n    top: overflow.top - rect.height - preventedOffsets.y,\n    right: overflow.right - rect.width + preventedOffsets.x,\n    bottom: overflow.bottom - rect.height + preventedOffsets.y,\n    left: overflow.left - rect.width - preventedOffsets.x\n  };\n}\n\nfunction isAnySideFullyClipped(overflow) {\n  return [top, right, bottom, left].some(function (side) {\n    return overflow[side] >= 0;\n  });\n}\n\nfunction hide(_ref) {\n  var state = _ref.state,\n      name = _ref.name;\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var preventedOffsets = state.modifiersData.preventOverflow;\n  var referenceOverflow = detectOverflow(state, {\n    elementContext: 'reference'\n  });\n  var popperAltOverflow = detectOverflow(state, {\n    altBoundary: true\n  });\n  var referenceClippingOffsets = getSideOffsets(referenceOverflow, referenceRect);\n  var popperEscapeOffsets = getSideOffsets(popperAltOverflow, popperRect, preventedOffsets);\n  var isReferenceHidden = isAnySideFullyClipped(referenceClippingOffsets);\n  var hasPopperEscaped = isAnySideFullyClipped(popperEscapeOffsets);\n  state.modifiersData[name] = {\n    referenceClippingOffsets: referenceClippingOffsets,\n    popperEscapeOffsets: popperEscapeOffsets,\n    isReferenceHidden: isReferenceHidden,\n    hasPopperEscaped: hasPopperEscaped\n  };\n  state.attributes.popper = Object.assign({}, state.attributes.popper, {\n    'data-popper-reference-hidden': isReferenceHidden,\n    'data-popper-escaped': hasPopperEscaped\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'hide',\n  enabled: true,\n  phase: 'main',\n  requiresIfExists: ['preventOverflow'],\n  fn: hide\n};","import getBasePlacement from \"../utils/getBasePlacement.js\";\nimport { top, left, right, placements } from \"../enums.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport function distanceAndSkiddingToXY(placement, rects, offset) {\n  var basePlacement = getBasePlacement(placement);\n  var invertDistance = [left, top].indexOf(basePlacement) >= 0 ? -1 : 1;\n\n  var _ref = typeof offset === 'function' ? offset(Object.assign({}, rects, {\n    placement: placement\n  })) : offset,\n      skidding = _ref[0],\n      distance = _ref[1];\n\n  skidding = skidding || 0;\n  distance = (distance || 0) * invertDistance;\n  return [left, right].indexOf(basePlacement) >= 0 ? {\n    x: distance,\n    y: skidding\n  } : {\n    x: skidding,\n    y: distance\n  };\n}\n\nfunction offset(_ref2) {\n  var state = _ref2.state,\n      options = _ref2.options,\n      name = _ref2.name;\n  var _options$offset = options.offset,\n      offset = _options$offset === void 0 ? [0, 0] : _options$offset;\n  var data = placements.reduce(function (acc, placement) {\n    acc[placement] = distanceAndSkiddingToXY(placement, state.rects, offset);\n    return acc;\n  }, {});\n  var _data$state$placement = data[state.placement],\n      x = _data$state$placement.x,\n      y = _data$state$placement.y;\n\n  if (state.modifiersData.popperOffsets != null) {\n    state.modifiersData.popperOffsets.x += x;\n    state.modifiersData.popperOffsets.y += y;\n  }\n\n  state.modifiersData[name] = data;\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'offset',\n  enabled: true,\n  phase: 'main',\n  requires: ['popperOffsets'],\n  fn: offset\n};","import computeOffsets from \"../utils/computeOffsets.js\";\n\nfunction popperOffsets(_ref) {\n  var state = _ref.state,\n      name = _ref.name;\n  // Offsets are the actual position the popper needs to have to be\n  // properly positioned near its reference element\n  // This is the most basic placement, and will be adjusted by\n  // the modifiers in the next step\n  state.modifiersData[name] = computeOffsets({\n    reference: state.rects.reference,\n    element: state.rects.popper,\n    strategy: 'absolute',\n    placement: state.placement\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'popperOffsets',\n  enabled: true,\n  phase: 'read',\n  fn: popperOffsets,\n  data: {}\n};","export default function getAltAxis(axis) {\n  return axis === 'x' ? 'y' : 'x';\n}","import { top, left, right, bottom, start } from \"../enums.js\";\nimport getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getMainAxisFromPlacement from \"../utils/getMainAxisFromPlacement.js\";\nimport getAltAxis from \"../utils/getAltAxis.js\";\nimport { within, withinMaxClamp } from \"../utils/within.js\";\nimport getLayoutRect from \"../dom-utils/getLayoutRect.js\";\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\nimport detectOverflow from \"../utils/detectOverflow.js\";\nimport getVariation from \"../utils/getVariation.js\";\nimport getFreshSideObject from \"../utils/getFreshSideObject.js\";\nimport { min as mathMin, max as mathMax } from \"../utils/math.js\";\n\nfunction preventOverflow(_ref) {\n  var state = _ref.state,\n      options = _ref.options,\n      name = _ref.name;\n  var _options$mainAxis = options.mainAxis,\n      checkMainAxis = _options$mainAxis === void 0 ? true : _options$mainAxis,\n      _options$altAxis = options.altAxis,\n      checkAltAxis = _options$altAxis === void 0 ? false : _options$altAxis,\n      boundary = options.boundary,\n      rootBoundary = options.rootBoundary,\n      altBoundary = options.altBoundary,\n      padding = options.padding,\n      _options$tether = options.tether,\n      tether = _options$tether === void 0 ? true : _options$tether,\n      _options$tetherOffset = options.tetherOffset,\n      tetherOffset = _options$tetherOffset === void 0 ? 0 : _options$tetherOffset;\n  var overflow = detectOverflow(state, {\n    boundary: boundary,\n    rootBoundary: rootBoundary,\n    padding: padding,\n    altBoundary: altBoundary\n  });\n  var basePlacement = getBasePlacement(state.placement);\n  var variation = getVariation(state.placement);\n  var isBasePlacement = !variation;\n  var mainAxis = getMainAxisFromPlacement(basePlacement);\n  var altAxis = getAltAxis(mainAxis);\n  var popperOffsets = state.modifiersData.popperOffsets;\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var tetherOffsetValue = typeof tetherOffset === 'function' ? tetherOffset(Object.assign({}, state.rects, {\n    placement: state.placement\n  })) : tetherOffset;\n  var normalizedTetherOffsetValue = typeof tetherOffsetValue === 'number' ? {\n    mainAxis: tetherOffsetValue,\n    altAxis: tetherOffsetValue\n  } : Object.assign({\n    mainAxis: 0,\n    altAxis: 0\n  }, tetherOffsetValue);\n  var offsetModifierState = state.modifiersData.offset ? state.modifiersData.offset[state.placement] : null;\n  var data = {\n    x: 0,\n    y: 0\n  };\n\n  if (!popperOffsets) {\n    return;\n  }\n\n  if (checkMainAxis) {\n    var _offsetModifierState$;\n\n    var mainSide = mainAxis === 'y' ? top : left;\n    var altSide = mainAxis === 'y' ? bottom : right;\n    var len = mainAxis === 'y' ? 'height' : 'width';\n    var offset = popperOffsets[mainAxis];\n    var min = offset + overflow[mainSide];\n    var max = offset - overflow[altSide];\n    var additive = tether ? -popperRect[len] / 2 : 0;\n    var minLen = variation === start ? referenceRect[len] : popperRect[len];\n    var maxLen = variation === start ? -popperRect[len] : -referenceRect[len]; // We need to include the arrow in the calculation so the arrow doesn't go\n    // outside the reference bounds\n\n    var arrowElement = state.elements.arrow;\n    var arrowRect = tether && arrowElement ? getLayoutRect(arrowElement) : {\n      width: 0,\n      height: 0\n    };\n    var arrowPaddingObject = state.modifiersData['arrow#persistent'] ? state.modifiersData['arrow#persistent'].padding : getFreshSideObject();\n    var arrowPaddingMin = arrowPaddingObject[mainSide];\n    var arrowPaddingMax = arrowPaddingObject[altSide]; // If the reference length is smaller than the arrow length, we don't want\n    // to include its full size in the calculation. If the reference is small\n    // and near the edge of a boundary, the popper can overflow even if the\n    // reference is not overflowing as well (e.g. virtual elements with no\n    // width or height)\n\n    var arrowLen = within(0, referenceRect[len], arrowRect[len]);\n    var minOffset = isBasePlacement ? referenceRect[len] / 2 - additive - arrowLen - arrowPaddingMin - normalizedTetherOffsetValue.mainAxis : minLen - arrowLen - arrowPaddingMin - normalizedTetherOffsetValue.mainAxis;\n    var maxOffset = isBasePlacement ? -referenceRect[len] / 2 + additive + arrowLen + arrowPaddingMax + normalizedTetherOffsetValue.mainAxis : maxLen + arrowLen + arrowPaddingMax + normalizedTetherOffsetValue.mainAxis;\n    var arrowOffsetParent = state.elements.arrow && getOffsetParent(state.elements.arrow);\n    var clientOffset = arrowOffsetParent ? mainAxis === 'y' ? arrowOffsetParent.clientTop || 0 : arrowOffsetParent.clientLeft || 0 : 0;\n    var offsetModifierValue = (_offsetModifierState$ = offsetModifierState == null ? void 0 : offsetModifierState[mainAxis]) != null ? _offsetModifierState$ : 0;\n    var tetherMin = offset + minOffset - offsetModifierValue - clientOffset;\n    var tetherMax = offset + maxOffset - offsetModifierValue;\n    var preventedOffset = within(tether ? mathMin(min, tetherMin) : min, offset, tether ? mathMax(max, tetherMax) : max);\n    popperOffsets[mainAxis] = preventedOffset;\n    data[mainAxis] = preventedOffset - offset;\n  }\n\n  if (checkAltAxis) {\n    var _offsetModifierState$2;\n\n    var _mainSide = mainAxis === 'x' ? top : left;\n\n    var _altSide = mainAxis === 'x' ? bottom : right;\n\n    var _offset = popperOffsets[altAxis];\n\n    var _len = altAxis === 'y' ? 'height' : 'width';\n\n    var _min = _offset + overflow[_mainSide];\n\n    var _max = _offset - overflow[_altSide];\n\n    var isOriginSide = [top, left].indexOf(basePlacement) !== -1;\n\n    var _offsetModifierValue = (_offsetModifierState$2 = offsetModifierState == null ? void 0 : offsetModifierState[altAxis]) != null ? _offsetModifierState$2 : 0;\n\n    var _tetherMin = isOriginSide ? _min : _offset - referenceRect[_len] - popperRect[_len] - _offsetModifierValue + normalizedTetherOffsetValue.altAxis;\n\n    var _tetherMax = isOriginSide ? _offset + referenceRect[_len] + popperRect[_len] - _offsetModifierValue - normalizedTetherOffsetValue.altAxis : _max;\n\n    var _preventedOffset = tether && isOriginSide ? withinMaxClamp(_tetherMin, _offset, _tetherMax) : within(tether ? _tetherMin : _min, _offset, tether ? _tetherMax : _max);\n\n    popperOffsets[altAxis] = _preventedOffset;\n    data[altAxis] = _preventedOffset - _offset;\n  }\n\n  state.modifiersData[name] = data;\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'preventOverflow',\n  enabled: true,\n  phase: 'main',\n  fn: preventOverflow,\n  requiresIfExists: ['offset']\n};","export default function getHTMLElementScroll(element) {\n  return {\n    scrollLeft: element.scrollLeft,\n    scrollTop: element.scrollTop\n  };\n}","import getWindowScroll from \"./getWindowScroll.js\";\nimport getWindow from \"./getWindow.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nimport getHTMLElementScroll from \"./getHTMLElementScroll.js\";\nexport default function getNodeScroll(node) {\n  if (node === getWindow(node) || !isHTMLElement(node)) {\n    return getWindowScroll(node);\n  } else {\n    return getHTMLElementScroll(node);\n  }\n}","import getBoundingClientRect from \"./getBoundingClientRect.js\";\nimport getNodeScroll from \"./getNodeScroll.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nimport getWindowScrollBarX from \"./getWindowScrollBarX.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport isScrollParent from \"./isScrollParent.js\";\nimport { round } from \"../utils/math.js\";\n\nfunction isElementScaled(element) {\n  var rect = element.getBoundingClientRect();\n  var scaleX = round(rect.width) / element.offsetWidth || 1;\n  var scaleY = round(rect.height) / element.offsetHeight || 1;\n  return scaleX !== 1 || scaleY !== 1;\n} // Returns the composite rect of an element relative to its offsetParent.\n// Composite means it takes into account transforms as well as layout.\n\n\nexport default function getCompositeRect(elementOrVirtualElement, offsetParent, isFixed) {\n  if (isFixed === void 0) {\n    isFixed = false;\n  }\n\n  var isOffsetParentAnElement = isHTMLElement(offsetParent);\n  var offsetParentIsScaled = isHTMLElement(offsetParent) && isElementScaled(offsetParent);\n  var documentElement = getDocumentElement(offsetParent);\n  var rect = getBoundingClientRect(elementOrVirtualElement, offsetParentIsScaled, isFixed);\n  var scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  var offsets = {\n    x: 0,\n    y: 0\n  };\n\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || // https://github.com/popperjs/popper-core/issues/1078\n    isScrollParent(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n\n    if (isHTMLElement(offsetParent)) {\n      offsets = getBoundingClientRect(offsetParent, true);\n      offsets.x += offsetParent.clientLeft;\n      offsets.y += offsetParent.clientTop;\n    } else if (documentElement) {\n      offsets.x = getWindowScrollBarX(documentElement);\n    }\n  }\n\n  return {\n    x: rect.left + scroll.scrollLeft - offsets.x,\n    y: rect.top + scroll.scrollTop - offsets.y,\n    width: rect.width,\n    height: rect.height\n  };\n}","import { modifierPhases } from \"../enums.js\"; // source: https://stackoverflow.com/questions/49875255\n\nfunction order(modifiers) {\n  var map = new Map();\n  var visited = new Set();\n  var result = [];\n  modifiers.forEach(function (modifier) {\n    map.set(modifier.name, modifier);\n  }); // On visiting object, check for its dependencies and visit them recursively\n\n  function sort(modifier) {\n    visited.add(modifier.name);\n    var requires = [].concat(modifier.requires || [], modifier.requiresIfExists || []);\n    requires.forEach(function (dep) {\n      if (!visited.has(dep)) {\n        var depModifier = map.get(dep);\n\n        if (depModifier) {\n          sort(depModifier);\n        }\n      }\n    });\n    result.push(modifier);\n  }\n\n  modifiers.forEach(function (modifier) {\n    if (!visited.has(modifier.name)) {\n      // check for visited object\n      sort(modifier);\n    }\n  });\n  return result;\n}\n\nexport default function orderModifiers(modifiers) {\n  // order based on dependencies\n  var orderedModifiers = order(modifiers); // order based on phase\n\n  return modifierPhases.reduce(function (acc, phase) {\n    return acc.concat(orderedModifiers.filter(function (modifier) {\n      return modifier.phase === phase;\n    }));\n  }, []);\n}","export default function debounce(fn) {\n  var pending;\n  return function () {\n    if (!pending) {\n      pending = new Promise(function (resolve) {\n        Promise.resolve().then(function () {\n          pending = undefined;\n          resolve(fn());\n        });\n      });\n    }\n\n    return pending;\n  };\n}","export default function mergeByName(modifiers) {\n  var merged = modifiers.reduce(function (merged, current) {\n    var existing = merged[current.name];\n    merged[current.name] = existing ? Object.assign({}, existing, current, {\n      options: Object.assign({}, existing.options, current.options),\n      data: Object.assign({}, existing.data, current.data)\n    }) : current;\n    return merged;\n  }, {}); // IE11 does not support Object.values\n\n  return Object.keys(merged).map(function (key) {\n    return merged[key];\n  });\n}","import getCompositeRect from \"./dom-utils/getCompositeRect.js\";\nimport getLayoutRect from \"./dom-utils/getLayoutRect.js\";\nimport listScrollParents from \"./dom-utils/listScrollParents.js\";\nimport getOffsetParent from \"./dom-utils/getOffsetParent.js\";\nimport orderModifiers from \"./utils/orderModifiers.js\";\nimport debounce from \"./utils/debounce.js\";\nimport mergeByName from \"./utils/mergeByName.js\";\nimport detectOverflow from \"./utils/detectOverflow.js\";\nimport { isElement } from \"./dom-utils/instanceOf.js\";\nvar DEFAULT_OPTIONS = {\n  placement: 'bottom',\n  modifiers: [],\n  strategy: 'absolute'\n};\n\nfunction areValidElements() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return !args.some(function (element) {\n    return !(element && typeof element.getBoundingClientRect === 'function');\n  });\n}\n\nexport function popperGenerator(generatorOptions) {\n  if (generatorOptions === void 0) {\n    generatorOptions = {};\n  }\n\n  var _generatorOptions = generatorOptions,\n      _generatorOptions$def = _generatorOptions.defaultModifiers,\n      defaultModifiers = _generatorOptions$def === void 0 ? [] : _generatorOptions$def,\n      _generatorOptions$def2 = _generatorOptions.defaultOptions,\n      defaultOptions = _generatorOptions$def2 === void 0 ? DEFAULT_OPTIONS : _generatorOptions$def2;\n  return function createPopper(reference, popper, options) {\n    if (options === void 0) {\n      options = defaultOptions;\n    }\n\n    var state = {\n      placement: 'bottom',\n      orderedModifiers: [],\n      options: Object.assign({}, DEFAULT_OPTIONS, defaultOptions),\n      modifiersData: {},\n      elements: {\n        reference: reference,\n        popper: popper\n      },\n      attributes: {},\n      styles: {}\n    };\n    var effectCleanupFns = [];\n    var isDestroyed = false;\n    var instance = {\n      state: state,\n      setOptions: function setOptions(setOptionsAction) {\n        var options = typeof setOptionsAction === 'function' ? setOptionsAction(state.options) : setOptionsAction;\n        cleanupModifierEffects();\n        state.options = Object.assign({}, defaultOptions, state.options, options);\n        state.scrollParents = {\n          reference: isElement(reference) ? listScrollParents(reference) : reference.contextElement ? listScrollParents(reference.contextElement) : [],\n          popper: listScrollParents(popper)\n        }; // Orders the modifiers based on their dependencies and `phase`\n        // properties\n\n        var orderedModifiers = orderModifiers(mergeByName([].concat(defaultModifiers, state.options.modifiers))); // Strip out disabled modifiers\n\n        state.orderedModifiers = orderedModifiers.filter(function (m) {\n          return m.enabled;\n        });\n        runModifierEffects();\n        return instance.update();\n      },\n      // Sync update  it will always be executed, even if not necessary. This\n      // is useful for low frequency updates where sync behavior simplifies the\n      // logic.\n      // For high frequency updates (e.g. `resize` and `scroll` events), always\n      // prefer the async Popper#update method\n      forceUpdate: function forceUpdate() {\n        if (isDestroyed) {\n          return;\n        }\n\n        var _state$elements = state.elements,\n            reference = _state$elements.reference,\n            popper = _state$elements.popper; // Don't proceed if `reference` or `popper` are not valid elements\n        // anymore\n\n        if (!areValidElements(reference, popper)) {\n          return;\n        } // Store the reference and popper rects to be read by modifiers\n\n\n        state.rects = {\n          reference: getCompositeRect(reference, getOffsetParent(popper), state.options.strategy === 'fixed'),\n          popper: getLayoutRect(popper)\n        }; // Modifiers have the ability to reset the current update cycle. The\n        // most common use case for this is the `flip` modifier changing the\n        // placement, which then needs to re-run all the modifiers, because the\n        // logic was previously ran for the previous placement and is therefore\n        // stale/incorrect\n\n        state.reset = false;\n        state.placement = state.options.placement; // On each update cycle, the `modifiersData` property for each modifier\n        // is filled with the initial data specified by the modifier. This means\n        // it doesn't persist and is fresh on each update.\n        // To ensure persistent data, use `${name}#persistent`\n\n        state.orderedModifiers.forEach(function (modifier) {\n          return state.modifiersData[modifier.name] = Object.assign({}, modifier.data);\n        });\n\n        for (var index = 0; index < state.orderedModifiers.length; index++) {\n          if (state.reset === true) {\n            state.reset = false;\n            index = -1;\n            continue;\n          }\n\n          var _state$orderedModifie = state.orderedModifiers[index],\n              fn = _state$orderedModifie.fn,\n              _state$orderedModifie2 = _state$orderedModifie.options,\n              _options = _state$orderedModifie2 === void 0 ? {} : _state$orderedModifie2,\n              name = _state$orderedModifie.name;\n\n          if (typeof fn === 'function') {\n            state = fn({\n              state: state,\n              options: _options,\n              name: name,\n              instance: instance\n            }) || state;\n          }\n        }\n      },\n      // Async and optimistically optimized update  it will not be executed if\n      // not necessary (debounced to run at most once-per-tick)\n      update: debounce(function () {\n        return new Promise(function (resolve) {\n          instance.forceUpdate();\n          resolve(state);\n        });\n      }),\n      destroy: function destroy() {\n        cleanupModifierEffects();\n        isDestroyed = true;\n      }\n    };\n\n    if (!areValidElements(reference, popper)) {\n      return instance;\n    }\n\n    instance.setOptions(options).then(function (state) {\n      if (!isDestroyed && options.onFirstUpdate) {\n        options.onFirstUpdate(state);\n      }\n    }); // Modifiers have the ability to execute arbitrary code before the first\n    // update cycle runs. They will be executed in the same order as the update\n    // cycle. This is useful when a modifier adds some persistent data that\n    // other modifiers need to use, but the modifier is run after the dependent\n    // one.\n\n    function runModifierEffects() {\n      state.orderedModifiers.forEach(function (_ref) {\n        var name = _ref.name,\n            _ref$options = _ref.options,\n            options = _ref$options === void 0 ? {} : _ref$options,\n            effect = _ref.effect;\n\n        if (typeof effect === 'function') {\n          var cleanupFn = effect({\n            state: state,\n            name: name,\n            instance: instance,\n            options: options\n          });\n\n          var noopFn = function noopFn() {};\n\n          effectCleanupFns.push(cleanupFn || noopFn);\n        }\n      });\n    }\n\n    function cleanupModifierEffects() {\n      effectCleanupFns.forEach(function (fn) {\n        return fn();\n      });\n      effectCleanupFns = [];\n    }\n\n    return instance;\n  };\n}\nexport var createPopper = /*#__PURE__*/popperGenerator(); // eslint-disable-next-line import/no-unused-modules\n\nexport { detectOverflow };","import { popperGenerator, detectOverflow } from \"./createPopper.js\";\nimport eventListeners from \"./modifiers/eventListeners.js\";\nimport popperOffsets from \"./modifiers/popperOffsets.js\";\nimport computeStyles from \"./modifiers/computeStyles.js\";\nimport applyStyles from \"./modifiers/applyStyles.js\";\nvar defaultModifiers = [eventListeners, popperOffsets, computeStyles, applyStyles];\nvar createPopper = /*#__PURE__*/popperGenerator({\n  defaultModifiers: defaultModifiers\n}); // eslint-disable-next-line import/no-unused-modules\n\nexport { createPopper, popperGenerator, defaultModifiers, detectOverflow };","import { popperGenerator, detectOverflow } from \"./createPopper.js\";\nimport eventListeners from \"./modifiers/eventListeners.js\";\nimport popperOffsets from \"./modifiers/popperOffsets.js\";\nimport computeStyles from \"./modifiers/computeStyles.js\";\nimport applyStyles from \"./modifiers/applyStyles.js\";\nimport offset from \"./modifiers/offset.js\";\nimport flip from \"./modifiers/flip.js\";\nimport preventOverflow from \"./modifiers/preventOverflow.js\";\nimport arrow from \"./modifiers/arrow.js\";\nimport hide from \"./modifiers/hide.js\";\nvar defaultModifiers = [eventListeners, popperOffsets, computeStyles, applyStyles, offset, flip, preventOverflow, arrow, hide];\nvar createPopper = /*#__PURE__*/popperGenerator({\n  defaultModifiers: defaultModifiers\n}); // eslint-disable-next-line import/no-unused-modules\n\nexport { createPopper, popperGenerator, defaultModifiers, detectOverflow }; // eslint-disable-next-line import/no-unused-modules\n\nexport { createPopper as createPopperLite } from \"./popper-lite.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport * from \"./modifiers/index.js\";","/*!\n  * Bootstrap v5.3.3 (https://getbootstrap.com/)\n  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)\n  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n  */\nimport * as Popper from '@popperjs/core';\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap dom/data.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\n/**\n * Constants\n */\n\nconst elementMap = new Map();\nconst Data = {\n  set(element, key, instance) {\n    if (!elementMap.has(element)) {\n      elementMap.set(element, new Map());\n    }\n    const instanceMap = elementMap.get(element);\n\n    // make it clear we only want one instance per element\n    // can be removed later when multiple key/instances are fine to be used\n    if (!instanceMap.has(key) && instanceMap.size !== 0) {\n      // eslint-disable-next-line no-console\n      console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(instanceMap.keys())[0]}.`);\n      return;\n    }\n    instanceMap.set(key, instance);\n  },\n  get(element, key) {\n    if (elementMap.has(element)) {\n      return elementMap.get(element).get(key) || null;\n    }\n    return null;\n  },\n  remove(element, key) {\n    if (!elementMap.has(element)) {\n      return;\n    }\n    const instanceMap = elementMap.get(element);\n    instanceMap.delete(key);\n\n    // free up element references if there are no instances left for an element\n    if (instanceMap.size === 0) {\n      elementMap.delete(element);\n    }\n  }\n};\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap util/index.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nconst MAX_UID = 1000000;\nconst MILLISECONDS_MULTIPLIER = 1000;\nconst TRANSITION_END = 'transitionend';\n\n/**\n * Properly escape IDs selectors to handle weird IDs\n * @param {string} selector\n * @returns {string}\n */\nconst parseSelector = selector => {\n  if (selector && window.CSS && window.CSS.escape) {\n    // document.querySelector needs escaping to handle IDs (html5+) containing for instance /\n    selector = selector.replace(/#([^\\s\"#']+)/g, (match, id) => `#${CSS.escape(id)}`);\n  }\n  return selector;\n};\n\n// Shout-out Angus Croll (https://goo.gl/pxwQGp)\nconst toType = object => {\n  if (object === null || object === undefined) {\n    return `${object}`;\n  }\n  return Object.prototype.toString.call(object).match(/\\s([a-z]+)/i)[1].toLowerCase();\n};\n\n/**\n * Public Util API\n */\n\nconst getUID = prefix => {\n  do {\n    prefix += Math.floor(Math.random() * MAX_UID);\n  } while (document.getElementById(prefix));\n  return prefix;\n};\nconst getTransitionDurationFromElement = element => {\n  if (!element) {\n    return 0;\n  }\n\n  // Get transition-duration of the element\n  let {\n    transitionDuration,\n    transitionDelay\n  } = window.getComputedStyle(element);\n  const floatTransitionDuration = Number.parseFloat(transitionDuration);\n  const floatTransitionDelay = Number.parseFloat(transitionDelay);\n\n  // Return 0 if element or transition duration is not found\n  if (!floatTransitionDuration && !floatTransitionDelay) {\n    return 0;\n  }\n\n  // If multiple durations are defined, take the first\n  transitionDuration = transitionDuration.split(',')[0];\n  transitionDelay = transitionDelay.split(',')[0];\n  return (Number.parseFloat(transitionDuration) + Number.parseFloat(transitionDelay)) * MILLISECONDS_MULTIPLIER;\n};\nconst triggerTransitionEnd = element => {\n  element.dispatchEvent(new Event(TRANSITION_END));\n};\nconst isElement = object => {\n  if (!object || typeof object !== 'object') {\n    return false;\n  }\n  if (typeof object.jquery !== 'undefined') {\n    object = object[0];\n  }\n  return typeof object.nodeType !== 'undefined';\n};\nconst getElement = object => {\n  // it's a jQuery object or a node element\n  if (isElement(object)) {\n    return object.jquery ? object[0] : object;\n  }\n  if (typeof object === 'string' && object.length > 0) {\n    return document.querySelector(parseSelector(object));\n  }\n  return null;\n};\nconst isVisible = element => {\n  if (!isElement(element) || element.getClientRects().length === 0) {\n    return false;\n  }\n  const elementIsVisible = getComputedStyle(element).getPropertyValue('visibility') === 'visible';\n  // Handle `details` element as its content may falsie appear visible when it is closed\n  const closedDetails = element.closest('details:not([open])');\n  if (!closedDetails) {\n    return elementIsVisible;\n  }\n  if (closedDetails !== element) {\n    const summary = element.closest('summary');\n    if (summary && summary.parentNode !== closedDetails) {\n      return false;\n    }\n    if (summary === null) {\n      return false;\n    }\n  }\n  return elementIsVisible;\n};\nconst isDisabled = element => {\n  if (!element || element.nodeType !== Node.ELEMENT_NODE) {\n    return true;\n  }\n  if (element.classList.contains('disabled')) {\n    return true;\n  }\n  if (typeof element.disabled !== 'undefined') {\n    return element.disabled;\n  }\n  return element.hasAttribute('disabled') && element.getAttribute('disabled') !== 'false';\n};\nconst findShadowRoot = element => {\n  if (!document.documentElement.attachShadow) {\n    return null;\n  }\n\n  // Can find the shadow root otherwise it'll return the document\n  if (typeof element.getRootNode === 'function') {\n    const root = element.getRootNode();\n    return root instanceof ShadowRoot ? root : null;\n  }\n  if (element instanceof ShadowRoot) {\n    return element;\n  }\n\n  // when we don't find a shadow root\n  if (!element.parentNode) {\n    return null;\n  }\n  return findShadowRoot(element.parentNode);\n};\nconst noop = () => {};\n\n/**\n * Trick to restart an element's animation\n *\n * @param {HTMLElement} element\n * @return void\n *\n * @see https://www.charistheo.io/blog/2021/02/restart-a-css-animation-with-javascript/#restarting-a-css-animation\n */\nconst reflow = element => {\n  element.offsetHeight; // eslint-disable-line no-unused-expressions\n};\nconst getjQuery = () => {\n  if (window.jQuery && !document.body.hasAttribute('data-bs-no-jquery')) {\n    return window.jQuery;\n  }\n  return null;\n};\nconst DOMContentLoadedCallbacks = [];\nconst onDOMContentLoaded = callback => {\n  if (document.readyState === 'loading') {\n    // add listener on the first call when the document is in loading state\n    if (!DOMContentLoadedCallbacks.length) {\n      document.addEventListener('DOMContentLoaded', () => {\n        for (const callback of DOMContentLoadedCallbacks) {\n          callback();\n        }\n      });\n    }\n    DOMContentLoadedCallbacks.push(callback);\n  } else {\n    callback();\n  }\n};\nconst isRTL = () => document.documentElement.dir === 'rtl';\nconst defineJQueryPlugin = plugin => {\n  onDOMContentLoaded(() => {\n    const $ = getjQuery();\n    /* istanbul ignore if */\n    if ($) {\n      const name = plugin.NAME;\n      const JQUERY_NO_CONFLICT = $.fn[name];\n      $.fn[name] = plugin.jQueryInterface;\n      $.fn[name].Constructor = plugin;\n      $.fn[name].noConflict = () => {\n        $.fn[name] = JQUERY_NO_CONFLICT;\n        return plugin.jQueryInterface;\n      };\n    }\n  });\n};\nconst execute = (possibleCallback, args = [], defaultValue = possibleCallback) => {\n  return typeof possibleCallback === 'function' ? possibleCallback(...args) : defaultValue;\n};\nconst executeAfterTransition = (callback, transitionElement, waitForTransition = true) => {\n  if (!waitForTransition) {\n    execute(callback);\n    return;\n  }\n  const durationPadding = 5;\n  const emulatedDuration = getTransitionDurationFromElement(transitionElement) + durationPadding;\n  let called = false;\n  const handler = ({\n    target\n  }) => {\n    if (target !== transitionElement) {\n      return;\n    }\n    called = true;\n    transitionElement.removeEventListener(TRANSITION_END, handler);\n    execute(callback);\n  };\n  transitionElement.addEventListener(TRANSITION_END, handler);\n  setTimeout(() => {\n    if (!called) {\n      triggerTransitionEnd(transitionElement);\n    }\n  }, emulatedDuration);\n};\n\n/**\n * Return the previous/next element of a list.\n *\n * @param {array} list    The list of elements\n * @param activeElement   The active element\n * @param shouldGetNext   Choose to get next or previous element\n * @param isCycleAllowed\n * @return {Element|elem} The proper element\n */\nconst getNextActiveElement = (list, activeElement, shouldGetNext, isCycleAllowed) => {\n  const listLength = list.length;\n  let index = list.indexOf(activeElement);\n\n  // if the element does not exist in the list return an element\n  // depending on the direction and if cycle is allowed\n  if (index === -1) {\n    return !shouldGetNext && isCycleAllowed ? list[listLength - 1] : list[0];\n  }\n  index += shouldGetNext ? 1 : -1;\n  if (isCycleAllowed) {\n    index = (index + listLength) % listLength;\n  }\n  return list[Math.max(0, Math.min(index, listLength - 1))];\n};\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap dom/event-handler.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\n\n/**\n * Constants\n */\n\nconst namespaceRegex = /[^.]*(?=\\..*)\\.|.*/;\nconst stripNameRegex = /\\..*/;\nconst stripUidRegex = /::\\d+$/;\nconst eventRegistry = {}; // Events storage\nlet uidEvent = 1;\nconst customEvents = {\n  mouseenter: 'mouseover',\n  mouseleave: 'mouseout'\n};\nconst nativeEvents = new Set(['click', 'dblclick', 'mouseup', 'mousedown', 'contextmenu', 'mousewheel', 'DOMMouseScroll', 'mouseover', 'mouseout', 'mousemove', 'selectstart', 'selectend', 'keydown', 'keypress', 'keyup', 'orientationchange', 'touchstart', 'touchmove', 'touchend', 'touchcancel', 'pointerdown', 'pointermove', 'pointerup', 'pointerleave', 'pointercancel', 'gesturestart', 'gesturechange', 'gestureend', 'focus', 'blur', 'change', 'reset', 'select', 'submit', 'focusin', 'focusout', 'load', 'unload', 'beforeunload', 'resize', 'move', 'DOMContentLoaded', 'readystatechange', 'error', 'abort', 'scroll']);\n\n/**\n * Private methods\n */\n\nfunction makeEventUid(element, uid) {\n  return uid && `${uid}::${uidEvent++}` || element.uidEvent || uidEvent++;\n}\nfunction getElementEvents(element) {\n  const uid = makeEventUid(element);\n  element.uidEvent = uid;\n  eventRegistry[uid] = eventRegistry[uid] || {};\n  return eventRegistry[uid];\n}\nfunction bootstrapHandler(element, fn) {\n  return function handler(event) {\n    hydrateObj(event, {\n      delegateTarget: element\n    });\n    if (handler.oneOff) {\n      EventHandler.off(element, event.type, fn);\n    }\n    return fn.apply(element, [event]);\n  };\n}\nfunction bootstrapDelegationHandler(element, selector, fn) {\n  return function handler(event) {\n    const domElements = element.querySelectorAll(selector);\n    for (let {\n      target\n    } = event; target && target !== this; target = target.parentNode) {\n      for (const domElement of domElements) {\n        if (domElement !== target) {\n          continue;\n        }\n        hydrateObj(event, {\n          delegateTarget: target\n        });\n        if (handler.oneOff) {\n          EventHandler.off(element, event.type, selector, fn);\n        }\n        return fn.apply(target, [event]);\n      }\n    }\n  };\n}\nfunction findHandler(events, callable, delegationSelector = null) {\n  return Object.values(events).find(event => event.callable === callable && event.delegationSelector === delegationSelector);\n}\nfunction normalizeParameters(originalTypeEvent, handler, delegationFunction) {\n  const isDelegated = typeof handler === 'string';\n  // TODO: tooltip passes `false` instead of selector, so we need to check\n  const callable = isDelegated ? delegationFunction : handler || delegationFunction;\n  let typeEvent = getTypeEvent(originalTypeEvent);\n  if (!nativeEvents.has(typeEvent)) {\n    typeEvent = originalTypeEvent;\n  }\n  return [isDelegated, callable, typeEvent];\n}\nfunction addHandler(element, originalTypeEvent, handler, delegationFunction, oneOff) {\n  if (typeof originalTypeEvent !== 'string' || !element) {\n    return;\n  }\n  let [isDelegated, callable, typeEvent] = normalizeParameters(originalTypeEvent, handler, delegationFunction);\n\n  // in case of mouseenter or mouseleave wrap the handler within a function that checks for its DOM position\n  // this prevents the handler from being dispatched the same way as mouseover or mouseout does\n  if (originalTypeEvent in customEvents) {\n    const wrapFunction = fn => {\n      return function (event) {\n        if (!event.relatedTarget || event.relatedTarget !== event.delegateTarget && !event.delegateTarget.contains(event.relatedTarget)) {\n          return fn.call(this, event);\n        }\n      };\n    };\n    callable = wrapFunction(callable);\n  }\n  const events = getElementEvents(element);\n  const handlers = events[typeEvent] || (events[typeEvent] = {});\n  const previousFunction = findHandler(handlers, callable, isDelegated ? handler : null);\n  if (previousFunction) {\n    previousFunction.oneOff = previousFunction.oneOff && oneOff;\n    return;\n  }\n  const uid = makeEventUid(callable, originalTypeEvent.replace(namespaceRegex, ''));\n  const fn = isDelegated ? bootstrapDelegationHandler(element, handler, callable) : bootstrapHandler(element, callable);\n  fn.delegationSelector = isDelegated ? handler : null;\n  fn.callable = callable;\n  fn.oneOff = oneOff;\n  fn.uidEvent = uid;\n  handlers[uid] = fn;\n  element.addEventListener(typeEvent, fn, isDelegated);\n}\nfunction removeHandler(element, events, typeEvent, handler, delegationSelector) {\n  const fn = findHandler(events[typeEvent], handler, delegationSelector);\n  if (!fn) {\n    return;\n  }\n  element.removeEventListener(typeEvent, fn, Boolean(delegationSelector));\n  delete events[typeEvent][fn.uidEvent];\n}\nfunction removeNamespacedHandlers(element, events, typeEvent, namespace) {\n  const storeElementEvent = events[typeEvent] || {};\n  for (const [handlerKey, event] of Object.entries(storeElementEvent)) {\n    if (handlerKey.includes(namespace)) {\n      removeHandler(element, events, typeEvent, event.callable, event.delegationSelector);\n    }\n  }\n}\nfunction getTypeEvent(event) {\n  // allow to get the native events from namespaced events ('click.bs.button' --> 'click')\n  event = event.replace(stripNameRegex, '');\n  return customEvents[event] || event;\n}\nconst EventHandler = {\n  on(element, event, handler, delegationFunction) {\n    addHandler(element, event, handler, delegationFunction, false);\n  },\n  one(element, event, handler, delegationFunction) {\n    addHandler(element, event, handler, delegationFunction, true);\n  },\n  off(element, originalTypeEvent, handler, delegationFunction) {\n    if (typeof originalTypeEvent !== 'string' || !element) {\n      return;\n    }\n    const [isDelegated, callable, typeEvent] = normalizeParameters(originalTypeEvent, handler, delegationFunction);\n    const inNamespace = typeEvent !== originalTypeEvent;\n    const events = getElementEvents(element);\n    const storeElementEvent = events[typeEvent] || {};\n    const isNamespace = originalTypeEvent.startsWith('.');\n    if (typeof callable !== 'undefined') {\n      // Simplest case: handler is passed, remove that listener ONLY.\n      if (!Object.keys(storeElementEvent).length) {\n        return;\n      }\n      removeHandler(element, events, typeEvent, callable, isDelegated ? handler : null);\n      return;\n    }\n    if (isNamespace) {\n      for (const elementEvent of Object.keys(events)) {\n        removeNamespacedHandlers(element, events, elementEvent, originalTypeEvent.slice(1));\n      }\n    }\n    for (const [keyHandlers, event] of Object.entries(storeElementEvent)) {\n      const handlerKey = keyHandlers.replace(stripUidRegex, '');\n      if (!inNamespace || originalTypeEvent.includes(handlerKey)) {\n        removeHandler(element, events, typeEvent, event.callable, event.delegationSelector);\n      }\n    }\n  },\n  trigger(element, event, args) {\n    if (typeof event !== 'string' || !element) {\n      return null;\n    }\n    const $ = getjQuery();\n    const typeEvent = getTypeEvent(event);\n    const inNamespace = event !== typeEvent;\n    let jQueryEvent = null;\n    let bubbles = true;\n    let nativeDispatch = true;\n    let defaultPrevented = false;\n    if (inNamespace && $) {\n      jQueryEvent = $.Event(event, args);\n      $(element).trigger(jQueryEvent);\n      bubbles = !jQueryEvent.isPropagationStopped();\n      nativeDispatch = !jQueryEvent.isImmediatePropagationStopped();\n      defaultPrevented = jQueryEvent.isDefaultPrevented();\n    }\n    const evt = hydrateObj(new Event(event, {\n      bubbles,\n      cancelable: true\n    }), args);\n    if (defaultPrevented) {\n      evt.preventDefault();\n    }\n    if (nativeDispatch) {\n      element.dispatchEvent(evt);\n    }\n    if (evt.defaultPrevented && jQueryEvent) {\n      jQueryEvent.preventDefault();\n    }\n    return evt;\n  }\n};\nfunction hydrateObj(obj, meta = {}) {\n  for (const [key, value] of Object.entries(meta)) {\n    try {\n      obj[key] = value;\n    } catch (_unused) {\n      Object.defineProperty(obj, key, {\n        configurable: true,\n        get() {\n          return value;\n        }\n      });\n    }\n  }\n  return obj;\n}\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap dom/manipulator.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nfunction normalizeData(value) {\n  if (value === 'true') {\n    return true;\n  }\n  if (value === 'false') {\n    return false;\n  }\n  if (value === Number(value).toString()) {\n    return Number(value);\n  }\n  if (value === '' || value === 'null') {\n    return null;\n  }\n  if (typeof value !== 'string') {\n    return value;\n  }\n  try {\n    return JSON.parse(decodeURIComponent(value));\n  } catch (_unused) {\n    return value;\n  }\n}\nfunction normalizeDataKey(key) {\n  return key.replace(/[A-Z]/g, chr => `-${chr.toLowerCase()}`);\n}\nconst Manipulator = {\n  setDataAttribute(element, key, value) {\n    element.setAttribute(`data-bs-${normalizeDataKey(key)}`, value);\n  },\n  removeDataAttribute(element, key) {\n    element.removeAttribute(`data-bs-${normalizeDataKey(key)}`);\n  },\n  getDataAttributes(element) {\n    if (!element) {\n      return {};\n    }\n    const attributes = {};\n    const bsKeys = Object.keys(element.dataset).filter(key => key.startsWith('bs') && !key.startsWith('bsConfig'));\n    for (const key of bsKeys) {\n      let pureKey = key.replace(/^bs/, '');\n      pureKey = pureKey.charAt(0).toLowerCase() + pureKey.slice(1, pureKey.length);\n      attributes[pureKey] = normalizeData(element.dataset[key]);\n    }\n    return attributes;\n  },\n  getDataAttribute(element, key) {\n    return normalizeData(element.getAttribute(`data-bs-${normalizeDataKey(key)}`));\n  }\n};\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap util/config.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\n\n/**\n * Class definition\n */\n\nclass Config {\n  // Getters\n  static get Default() {\n    return {};\n  }\n  static get DefaultType() {\n    return {};\n  }\n  static get NAME() {\n    throw new Error('You have to implement the static method \"NAME\", for each component!');\n  }\n  _getConfig(config) {\n    config = this._mergeConfigObj(config);\n    config = this._configAfterMerge(config);\n    this._typeCheckConfig(config);\n    return config;\n  }\n  _configAfterMerge(config) {\n    return config;\n  }\n  _mergeConfigObj(config, element) {\n    const jsonConfig = isElement(element) ? Manipulator.getDataAttribute(element, 'config') : {}; // try to parse\n\n    return {\n      ...this.constructor.Default,\n      ...(typeof jsonConfig === 'object' ? jsonConfig : {}),\n      ...(isElement(element) ? Manipulator.getDataAttributes(element) : {}),\n      ...(typeof config === 'object' ? config : {})\n    };\n  }\n  _typeCheckConfig(config, configTypes = this.constructor.DefaultType) {\n    for (const [property, expectedTypes] of Object.entries(configTypes)) {\n      const value = config[property];\n      const valueType = isElement(value) ? 'element' : toType(value);\n      if (!new RegExp(expectedTypes).test(valueType)) {\n        throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option \"${property}\" provided type \"${valueType}\" but expected type \"${expectedTypes}\".`);\n      }\n    }\n  }\n}\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap base-component.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\n\n/**\n * Constants\n */\n\nconst VERSION = '5.3.3';\n\n/**\n * Class definition\n */\n\nclass BaseComponent extends Config {\n  constructor(element, config) {\n    super();\n    element = getElement(element);\n    if (!element) {\n      return;\n    }\n    this._element = element;\n    this._config = this._getConfig(config);\n    Data.set(this._element, this.constructor.DATA_KEY, this);\n  }\n\n  // Public\n  dispose() {\n    Data.remove(this._element, this.constructor.DATA_KEY);\n    EventHandler.off(this._element, this.constructor.EVENT_KEY);\n    for (const propertyName of Object.getOwnPropertyNames(this)) {\n      this[propertyName] = null;\n    }\n  }\n  _queueCallback(callback, element, isAnimated = true) {\n    executeAfterTransition(callback, element, isAnimated);\n  }\n  _getConfig(config) {\n    config = this._mergeConfigObj(config, this._element);\n    config = this._configAfterMerge(config);\n    this._typeCheckConfig(config);\n    return config;\n  }\n\n  // Static\n  static getInstance(element) {\n    return Data.get(getElement(element), this.DATA_KEY);\n  }\n  static getOrCreateInstance(element, config = {}) {\n    return this.getInstance(element) || new this(element, typeof config === 'object' ? config : null);\n  }\n  static get VERSION() {\n    return VERSION;\n  }\n  static get DATA_KEY() {\n    return `bs.${this.NAME}`;\n  }\n  static get EVENT_KEY() {\n    return `.${this.DATA_KEY}`;\n  }\n  static eventName(name) {\n    return `${name}${this.EVENT_KEY}`;\n  }\n}\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap dom/selector-engine.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nconst getSelector = element => {\n  let selector = element.getAttribute('data-bs-target');\n  if (!selector || selector === '#') {\n    let hrefAttribute = element.getAttribute('href');\n\n    // The only valid content that could double as a selector are IDs or classes,\n    // so everything starting with `#` or `.`. If a \"real\" URL is used as the selector,\n    // `document.querySelector` will rightfully complain it is invalid.\n    // See https://github.com/twbs/bootstrap/issues/32273\n    if (!hrefAttribute || !hrefAttribute.includes('#') && !hrefAttribute.startsWith('.')) {\n      return null;\n    }\n\n    // Just in case some CMS puts out a full URL with the anchor appended\n    if (hrefAttribute.includes('#') && !hrefAttribute.startsWith('#')) {\n      hrefAttribute = `#${hrefAttribute.split('#')[1]}`;\n    }\n    selector = hrefAttribute && hrefAttribute !== '#' ? hrefAttribute.trim() : null;\n  }\n  return selector ? selector.split(',').map(sel => parseSelector(sel)).join(',') : null;\n};\nconst SelectorEngine = {\n  find(selector, element = document.documentElement) {\n    return [].concat(...Element.prototype.querySelectorAll.call(element, selector));\n  },\n  findOne(selector, element = document.documentElement) {\n    return Element.prototype.querySelector.call(element, selector);\n  },\n  children(element, selector) {\n    return [].concat(...element.children).filter(child => child.matches(selector));\n  },\n  parents(element, selector) {\n    const parents = [];\n    let ancestor = element.parentNode.closest(selector);\n    while (ancestor) {\n      parents.push(ancestor);\n      ancestor = ancestor.parentNode.closest(selector);\n    }\n    return parents;\n  },\n  prev(element, selector) {\n    let previous = element.previousElementSibling;\n    while (previous) {\n      if (previous.matches(selector)) {\n        return [previous];\n      }\n      previous = previous.previousElementSibling;\n    }\n    return [];\n  },\n  // TODO: this is now unused; remove later along with prev()\n  next(element, selector) {\n    let next = element.nextElementSibling;\n    while (next) {\n      if (next.matches(selector)) {\n        return [next];\n      }\n      next = next.nextElementSibling;\n    }\n    return [];\n  },\n  focusableChildren(element) {\n    const focusables = ['a', 'button', 'input', 'textarea', 'select', 'details', '[tabindex]', '[contenteditable=\"true\"]'].map(selector => `${selector}:not([tabindex^=\"-\"])`).join(',');\n    return this.find(focusables, element).filter(el => !isDisabled(el) && isVisible(el));\n  },\n  getSelectorFromElement(element) {\n    const selector = getSelector(element);\n    if (selector) {\n      return SelectorEngine.findOne(selector) ? selector : null;\n    }\n    return null;\n  },\n  getElementFromSelector(element) {\n    const selector = getSelector(element);\n    return selector ? SelectorEngine.findOne(selector) : null;\n  },\n  getMultipleElementsFromSelector(element) {\n    const selector = getSelector(element);\n    return selector ? SelectorEngine.find(selector) : [];\n  }\n};\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap util/component-functions.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nconst enableDismissTrigger = (component, method = 'hide') => {\n  const clickEvent = `click.dismiss${component.EVENT_KEY}`;\n  const name = component.NAME;\n  EventHandler.on(document, clickEvent, `[data-bs-dismiss=\"${name}\"]`, function (event) {\n    if (['A', 'AREA'].includes(this.tagName)) {\n      event.preventDefault();\n    }\n    if (isDisabled(this)) {\n      return;\n    }\n    const target = SelectorEngine.getElementFromSelector(this) || this.closest(`.${name}`);\n    const instance = component.getOrCreateInstance(target);\n\n    // Method argument is left, for Alert and only, as it doesn't implement the 'hide' method\n    instance[method]();\n  });\n};\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap alert.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\n\n/**\n * Constants\n */\n\nconst NAME$f = 'alert';\nconst DATA_KEY$a = 'bs.alert';\nconst EVENT_KEY$b = `.${DATA_KEY$a}`;\nconst EVENT_CLOSE = `close${EVENT_KEY$b}`;\nconst EVENT_CLOSED = `closed${EVENT_KEY$b}`;\nconst CLASS_NAME_FADE$5 = 'fade';\nconst CLASS_NAME_SHOW$8 = 'show';\n\n/**\n * Class definition\n */\n\nclass Alert extends BaseComponent {\n  // Getters\n  static get NAME() {\n    return NAME$f;\n  }\n\n  // Public\n  close() {\n    const closeEvent = EventHandler.trigger(this._element, EVENT_CLOSE);\n    if (closeEvent.defaultPrevented) {\n      return;\n    }\n    this._element.classList.remove(CLASS_NAME_SHOW$8);\n    const isAnimated = this._element.classList.contains(CLASS_NAME_FADE$5);\n    this._queueCallback(() => this._destroyElement(), this._element, isAnimated);\n  }\n\n  // Private\n  _destroyElement() {\n    this._element.remove();\n    EventHandler.trigger(this._element, EVENT_CLOSED);\n    this.dispose();\n  }\n\n  // Static\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = Alert.getOrCreateInstance(this);\n      if (typeof config !== 'string') {\n        return;\n      }\n      if (data[config] === undefined || config.startsWith('_') || config === 'constructor') {\n        throw new TypeError(`No method named \"${config}\"`);\n      }\n      data[config](this);\n    });\n  }\n}\n\n/**\n * Data API implementation\n */\n\nenableDismissTrigger(Alert, 'close');\n\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(Alert);\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap button.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\n\n/**\n * Constants\n */\n\nconst NAME$e = 'button';\nconst DATA_KEY$9 = 'bs.button';\nconst EVENT_KEY$a = `.${DATA_KEY$9}`;\nconst DATA_API_KEY$6 = '.data-api';\nconst CLASS_NAME_ACTIVE$3 = 'active';\nconst SELECTOR_DATA_TOGGLE$5 = '[data-bs-toggle=\"button\"]';\nconst EVENT_CLICK_DATA_API$6 = `click${EVENT_KEY$a}${DATA_API_KEY$6}`;\n\n/**\n * Class definition\n */\n\nclass Button extends BaseComponent {\n  // Getters\n  static get NAME() {\n    return NAME$e;\n  }\n\n  // Public\n  toggle() {\n    // Toggle class and sync the `aria-pressed` attribute with the return value of the `.toggle()` method\n    this._element.setAttribute('aria-pressed', this._element.classList.toggle(CLASS_NAME_ACTIVE$3));\n  }\n\n  // Static\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = Button.getOrCreateInstance(this);\n      if (config === 'toggle') {\n        data[config]();\n      }\n    });\n  }\n}\n\n/**\n * Data API implementation\n */\n\nEventHandler.on(document, EVENT_CLICK_DATA_API$6, SELECTOR_DATA_TOGGLE$5, event => {\n  event.preventDefault();\n  const button = event.target.closest(SELECTOR_DATA_TOGGLE$5);\n  const data = Button.getOrCreateInstance(button);\n  data.toggle();\n});\n\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(Button);\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap util/swipe.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\n\n/**\n * Constants\n */\n\nconst NAME$d = 'swipe';\nconst EVENT_KEY$9 = '.bs.swipe';\nconst EVENT_TOUCHSTART = `touchstart${EVENT_KEY$9}`;\nconst EVENT_TOUCHMOVE = `touchmove${EVENT_KEY$9}`;\nconst EVENT_TOUCHEND = `touchend${EVENT_KEY$9}`;\nconst EVENT_POINTERDOWN = `pointerdown${EVENT_KEY$9}`;\nconst EVENT_POINTERUP = `pointerup${EVENT_KEY$9}`;\nconst POINTER_TYPE_TOUCH = 'touch';\nconst POINTER_TYPE_PEN = 'pen';\nconst CLASS_NAME_POINTER_EVENT = 'pointer-event';\nconst SWIPE_THRESHOLD = 40;\nconst Default$c = {\n  endCallback: null,\n  leftCallback: null,\n  rightCallback: null\n};\nconst DefaultType$c = {\n  endCallback: '(function|null)',\n  leftCallback: '(function|null)',\n  rightCallback: '(function|null)'\n};\n\n/**\n * Class definition\n */\n\nclass Swipe extends Config {\n  constructor(element, config) {\n    super();\n    this._element = element;\n    if (!element || !Swipe.isSupported()) {\n      return;\n    }\n    this._config = this._getConfig(config);\n    this._deltaX = 0;\n    this._supportPointerEvents = Boolean(window.PointerEvent);\n    this._initEvents();\n  }\n\n  // Getters\n  static get Default() {\n    return Default$c;\n  }\n  static get DefaultType() {\n    return DefaultType$c;\n  }\n  static get NAME() {\n    return NAME$d;\n  }\n\n  // Public\n  dispose() {\n    EventHandler.off(this._element, EVENT_KEY$9);\n  }\n\n  // Private\n  _start(event) {\n    if (!this._supportPointerEvents) {\n      this._deltaX = event.touches[0].clientX;\n      return;\n    }\n    if (this._eventIsPointerPenTouch(event)) {\n      this._deltaX = event.clientX;\n    }\n  }\n  _end(event) {\n    if (this._eventIsPointerPenTouch(event)) {\n      this._deltaX = event.clientX - this._deltaX;\n    }\n    this._handleSwipe();\n    execute(this._config.endCallback);\n  }\n  _move(event) {\n    this._deltaX = event.touches && event.touches.length > 1 ? 0 : event.touches[0].clientX - this._deltaX;\n  }\n  _handleSwipe() {\n    const absDeltaX = Math.abs(this._deltaX);\n    if (absDeltaX <= SWIPE_THRESHOLD) {\n      return;\n    }\n    const direction = absDeltaX / this._deltaX;\n    this._deltaX = 0;\n    if (!direction) {\n      return;\n    }\n    execute(direction > 0 ? this._config.rightCallback : this._config.leftCallback);\n  }\n  _initEvents() {\n    if (this._supportPointerEvents) {\n      EventHandler.on(this._element, EVENT_POINTERDOWN, event => this._start(event));\n      EventHandler.on(this._element, EVENT_POINTERUP, event => this._end(event));\n      this._element.classList.add(CLASS_NAME_POINTER_EVENT);\n    } else {\n      EventHandler.on(this._element, EVENT_TOUCHSTART, event => this._start(event));\n      EventHandler.on(this._element, EVENT_TOUCHMOVE, event => this._move(event));\n      EventHandler.on(this._element, EVENT_TOUCHEND, event => this._end(event));\n    }\n  }\n  _eventIsPointerPenTouch(event) {\n    return this._supportPointerEvents && (event.pointerType === POINTER_TYPE_PEN || event.pointerType === POINTER_TYPE_TOUCH);\n  }\n\n  // Static\n  static isSupported() {\n    return 'ontouchstart' in document.documentElement || navigator.maxTouchPoints > 0;\n  }\n}\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap carousel.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\n\n/**\n * Constants\n */\n\nconst NAME$c = 'carousel';\nconst DATA_KEY$8 = 'bs.carousel';\nconst EVENT_KEY$8 = `.${DATA_KEY$8}`;\nconst DATA_API_KEY$5 = '.data-api';\nconst ARROW_LEFT_KEY$1 = 'ArrowLeft';\nconst ARROW_RIGHT_KEY$1 = 'ArrowRight';\nconst TOUCHEVENT_COMPAT_WAIT = 500; // Time for mouse compat events to fire after touch\n\nconst ORDER_NEXT = 'next';\nconst ORDER_PREV = 'prev';\nconst DIRECTION_LEFT = 'left';\nconst DIRECTION_RIGHT = 'right';\nconst EVENT_SLIDE = `slide${EVENT_KEY$8}`;\nconst EVENT_SLID = `slid${EVENT_KEY$8}`;\nconst EVENT_KEYDOWN$1 = `keydown${EVENT_KEY$8}`;\nconst EVENT_MOUSEENTER$1 = `mouseenter${EVENT_KEY$8}`;\nconst EVENT_MOUSELEAVE$1 = `mouseleave${EVENT_KEY$8}`;\nconst EVENT_DRAG_START = `dragstart${EVENT_KEY$8}`;\nconst EVENT_LOAD_DATA_API$3 = `load${EVENT_KEY$8}${DATA_API_KEY$5}`;\nconst EVENT_CLICK_DATA_API$5 = `click${EVENT_KEY$8}${DATA_API_KEY$5}`;\nconst CLASS_NAME_CAROUSEL = 'carousel';\nconst CLASS_NAME_ACTIVE$2 = 'active';\nconst CLASS_NAME_SLIDE = 'slide';\nconst CLASS_NAME_END = 'carousel-item-end';\nconst CLASS_NAME_START = 'carousel-item-start';\nconst CLASS_NAME_NEXT = 'carousel-item-next';\nconst CLASS_NAME_PREV = 'carousel-item-prev';\nconst SELECTOR_ACTIVE = '.active';\nconst SELECTOR_ITEM = '.carousel-item';\nconst SELECTOR_ACTIVE_ITEM = SELECTOR_ACTIVE + SELECTOR_ITEM;\nconst SELECTOR_ITEM_IMG = '.carousel-item img';\nconst SELECTOR_INDICATORS = '.carousel-indicators';\nconst SELECTOR_DATA_SLIDE = '[data-bs-slide], [data-bs-slide-to]';\nconst SELECTOR_DATA_RIDE = '[data-bs-ride=\"carousel\"]';\nconst KEY_TO_DIRECTION = {\n  [ARROW_LEFT_KEY$1]: DIRECTION_RIGHT,\n  [ARROW_RIGHT_KEY$1]: DIRECTION_LEFT\n};\nconst Default$b = {\n  interval: 5000,\n  keyboard: true,\n  pause: 'hover',\n  ride: false,\n  touch: true,\n  wrap: true\n};\nconst DefaultType$b = {\n  interval: '(number|boolean)',\n  // TODO:v6 remove boolean support\n  keyboard: 'boolean',\n  pause: '(string|boolean)',\n  ride: '(boolean|string)',\n  touch: 'boolean',\n  wrap: 'boolean'\n};\n\n/**\n * Class definition\n */\n\nclass Carousel extends BaseComponent {\n  constructor(element, config) {\n    super(element, config);\n    this._interval = null;\n    this._activeElement = null;\n    this._isSliding = false;\n    this.touchTimeout = null;\n    this._swipeHelper = null;\n    this._indicatorsElement = SelectorEngine.findOne(SELECTOR_INDICATORS, this._element);\n    this._addEventListeners();\n    if (this._config.ride === CLASS_NAME_CAROUSEL) {\n      this.cycle();\n    }\n  }\n\n  // Getters\n  static get Default() {\n    return Default$b;\n  }\n  static get DefaultType() {\n    return DefaultType$b;\n  }\n  static get NAME() {\n    return NAME$c;\n  }\n\n  // Public\n  next() {\n    this._slide(ORDER_NEXT);\n  }\n  nextWhenVisible() {\n    // FIXME TODO use `document.visibilityState`\n    // Don't call next when the page isn't visible\n    // or the carousel or its parent isn't visible\n    if (!document.hidden && isVisible(this._element)) {\n      this.next();\n    }\n  }\n  prev() {\n    this._slide(ORDER_PREV);\n  }\n  pause() {\n    if (this._isSliding) {\n      triggerTransitionEnd(this._element);\n    }\n    this._clearInterval();\n  }\n  cycle() {\n    this._clearInterval();\n    this._updateInterval();\n    this._interval = setInterval(() => this.nextWhenVisible(), this._config.interval);\n  }\n  _maybeEnableCycle() {\n    if (!this._config.ride) {\n      return;\n    }\n    if (this._isSliding) {\n      EventHandler.one(this._element, EVENT_SLID, () => this.cycle());\n      return;\n    }\n    this.cycle();\n  }\n  to(index) {\n    const items = this._getItems();\n    if (index > items.length - 1 || index < 0) {\n      return;\n    }\n    if (this._isSliding) {\n      EventHandler.one(this._element, EVENT_SLID, () => this.to(index));\n      return;\n    }\n    const activeIndex = this._getItemIndex(this._getActive());\n    if (activeIndex === index) {\n      return;\n    }\n    const order = index > activeIndex ? ORDER_NEXT : ORDER_PREV;\n    this._slide(order, items[index]);\n  }\n  dispose() {\n    if (this._swipeHelper) {\n      this._swipeHelper.dispose();\n    }\n    super.dispose();\n  }\n\n  // Private\n  _configAfterMerge(config) {\n    config.defaultInterval = config.interval;\n    return config;\n  }\n  _addEventListeners() {\n    if (this._config.keyboard) {\n      EventHandler.on(this._element, EVENT_KEYDOWN$1, event => this._keydown(event));\n    }\n    if (this._config.pause === 'hover') {\n      EventHandler.on(this._element, EVENT_MOUSEENTER$1, () => this.pause());\n      EventHandler.on(this._element, EVENT_MOUSELEAVE$1, () => this._maybeEnableCycle());\n    }\n    if (this._config.touch && Swipe.isSupported()) {\n      this._addTouchEventListeners();\n    }\n  }\n  _addTouchEventListeners() {\n    for (const img of SelectorEngine.find(SELECTOR_ITEM_IMG, this._element)) {\n      EventHandler.on(img, EVENT_DRAG_START, event => event.preventDefault());\n    }\n    const endCallBack = () => {\n      if (this._config.pause !== 'hover') {\n        return;\n      }\n\n      // If it's a touch-enabled device, mouseenter/leave are fired as\n      // part of the mouse compatibility events on first tap - the carousel\n      // would stop cycling until user tapped out of it;\n      // here, we listen for touchend, explicitly pause the carousel\n      // (as if it's the second time we tap on it, mouseenter compat event\n      // is NOT fired) and after a timeout (to allow for mouse compatibility\n      // events to fire) we explicitly restart cycling\n\n      this.pause();\n      if (this.touchTimeout) {\n        clearTimeout(this.touchTimeout);\n      }\n      this.touchTimeout = setTimeout(() => this._maybeEnableCycle(), TOUCHEVENT_COMPAT_WAIT + this._config.interval);\n    };\n    const swipeConfig = {\n      leftCallback: () => this._slide(this._directionToOrder(DIRECTION_LEFT)),\n      rightCallback: () => this._slide(this._directionToOrder(DIRECTION_RIGHT)),\n      endCallback: endCallBack\n    };\n    this._swipeHelper = new Swipe(this._element, swipeConfig);\n  }\n  _keydown(event) {\n    if (/input|textarea/i.test(event.target.tagName)) {\n      return;\n    }\n    const direction = KEY_TO_DIRECTION[event.key];\n    if (direction) {\n      event.preventDefault();\n      this._slide(this._directionToOrder(direction));\n    }\n  }\n  _getItemIndex(element) {\n    return this._getItems().indexOf(element);\n  }\n  _setActiveIndicatorElement(index) {\n    if (!this._indicatorsElement) {\n      return;\n    }\n    const activeIndicator = SelectorEngine.findOne(SELECTOR_ACTIVE, this._indicatorsElement);\n    activeIndicator.classList.remove(CLASS_NAME_ACTIVE$2);\n    activeIndicator.removeAttribute('aria-current');\n    const newActiveIndicator = SelectorEngine.findOne(`[data-bs-slide-to=\"${index}\"]`, this._indicatorsElement);\n    if (newActiveIndicator) {\n      newActiveIndicator.classList.add(CLASS_NAME_ACTIVE$2);\n      newActiveIndicator.setAttribute('aria-current', 'true');\n    }\n  }\n  _updateInterval() {\n    const element = this._activeElement || this._getActive();\n    if (!element) {\n      return;\n    }\n    const elementInterval = Number.parseInt(element.getAttribute('data-bs-interval'), 10);\n    this._config.interval = elementInterval || this._config.defaultInterval;\n  }\n  _slide(order, element = null) {\n    if (this._isSliding) {\n      return;\n    }\n    const activeElement = this._getActive();\n    const isNext = order === ORDER_NEXT;\n    const nextElement = element || getNextActiveElement(this._getItems(), activeElement, isNext, this._config.wrap);\n    if (nextElement === activeElement) {\n      return;\n    }\n    const nextElementIndex = this._getItemIndex(nextElement);\n    const triggerEvent = eventName => {\n      return EventHandler.trigger(this._element, eventName, {\n        relatedTarget: nextElement,\n        direction: this._orderToDirection(order),\n        from: this._getItemIndex(activeElement),\n        to: nextElementIndex\n      });\n    };\n    const slideEvent = triggerEvent(EVENT_SLIDE);\n    if (slideEvent.defaultPrevented) {\n      return;\n    }\n    if (!activeElement || !nextElement) {\n      // Some weirdness is happening, so we bail\n      // TODO: change tests that use empty divs to avoid this check\n      return;\n    }\n    const isCycling = Boolean(this._interval);\n    this.pause();\n    this._isSliding = true;\n    this._setActiveIndicatorElement(nextElementIndex);\n    this._activeElement = nextElement;\n    const directionalClassName = isNext ? CLASS_NAME_START : CLASS_NAME_END;\n    const orderClassName = isNext ? CLASS_NAME_NEXT : CLASS_NAME_PREV;\n    nextElement.classList.add(orderClassName);\n    reflow(nextElement);\n    activeElement.classList.add(directionalClassName);\n    nextElement.classList.add(directionalClassName);\n    const completeCallBack = () => {\n      nextElement.classList.remove(directionalClassName, orderClassName);\n      nextElement.classList.add(CLASS_NAME_ACTIVE$2);\n      activeElement.classList.remove(CLASS_NAME_ACTIVE$2, orderClassName, directionalClassName);\n      this._isSliding = false;\n      triggerEvent(EVENT_SLID);\n    };\n    this._queueCallback(completeCallBack, activeElement, this._isAnimated());\n    if (isCycling) {\n      this.cycle();\n    }\n  }\n  _isAnimated() {\n    return this._element.classList.contains(CLASS_NAME_SLIDE);\n  }\n  _getActive() {\n    return SelectorEngine.findOne(SELECTOR_ACTIVE_ITEM, this._element);\n  }\n  _getItems() {\n    return SelectorEngine.find(SELECTOR_ITEM, this._element);\n  }\n  _clearInterval() {\n    if (this._interval) {\n      clearInterval(this._interval);\n      this._interval = null;\n    }\n  }\n  _directionToOrder(direction) {\n    if (isRTL()) {\n      return direction === DIRECTION_LEFT ? ORDER_PREV : ORDER_NEXT;\n    }\n    return direction === DIRECTION_LEFT ? ORDER_NEXT : ORDER_PREV;\n  }\n  _orderToDirection(order) {\n    if (isRTL()) {\n      return order === ORDER_PREV ? DIRECTION_LEFT : DIRECTION_RIGHT;\n    }\n    return order === ORDER_PREV ? DIRECTION_RIGHT : DIRECTION_LEFT;\n  }\n\n  // Static\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = Carousel.getOrCreateInstance(this, config);\n      if (typeof config === 'number') {\n        data.to(config);\n        return;\n      }\n      if (typeof config === 'string') {\n        if (data[config] === undefined || config.startsWith('_') || config === 'constructor') {\n          throw new TypeError(`No method named \"${config}\"`);\n        }\n        data[config]();\n      }\n    });\n  }\n}\n\n/**\n * Data API implementation\n */\n\nEventHandler.on(document, EVENT_CLICK_DATA_API$5, SELECTOR_DATA_SLIDE, function (event) {\n  const target = SelectorEngine.getElementFromSelector(this);\n  if (!target || !target.classList.contains(CLASS_NAME_CAROUSEL)) {\n    return;\n  }\n  event.preventDefault();\n  const carousel = Carousel.getOrCreateInstance(target);\n  const slideIndex = this.getAttribute('data-bs-slide-to');\n  if (slideIndex) {\n    carousel.to(slideIndex);\n    carousel._maybeEnableCycle();\n    return;\n  }\n  if (Manipulator.getDataAttribute(this, 'slide') === 'next') {\n    carousel.next();\n    carousel._maybeEnableCycle();\n    return;\n  }\n  carousel.prev();\n  carousel._maybeEnableCycle();\n});\nEventHandler.on(window, EVENT_LOAD_DATA_API$3, () => {\n  const carousels = SelectorEngine.find(SELECTOR_DATA_RIDE);\n  for (const carousel of carousels) {\n    Carousel.getOrCreateInstance(carousel);\n  }\n});\n\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(Carousel);\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap collapse.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\n\n/**\n * Constants\n */\n\nconst NAME$b = 'collapse';\nconst DATA_KEY$7 = 'bs.collapse';\nconst EVENT_KEY$7 = `.${DATA_KEY$7}`;\nconst DATA_API_KEY$4 = '.data-api';\nconst EVENT_SHOW$6 = `show${EVENT_KEY$7}`;\nconst EVENT_SHOWN$6 = `shown${EVENT_KEY$7}`;\nconst EVENT_HIDE$6 = `hide${EVENT_KEY$7}`;\nconst EVENT_HIDDEN$6 = `hidden${EVENT_KEY$7}`;\nconst EVENT_CLICK_DATA_API$4 = `click${EVENT_KEY$7}${DATA_API_KEY$4}`;\nconst CLASS_NAME_SHOW$7 = 'show';\nconst CLASS_NAME_COLLAPSE = 'collapse';\nconst CLASS_NAME_COLLAPSING = 'collapsing';\nconst CLASS_NAME_COLLAPSED = 'collapsed';\nconst CLASS_NAME_DEEPER_CHILDREN = `:scope .${CLASS_NAME_COLLAPSE} .${CLASS_NAME_COLLAPSE}`;\nconst CLASS_NAME_HORIZONTAL = 'collapse-horizontal';\nconst WIDTH = 'width';\nconst HEIGHT = 'height';\nconst SELECTOR_ACTIVES = '.collapse.show, .collapse.collapsing';\nconst SELECTOR_DATA_TOGGLE$4 = '[data-bs-toggle=\"collapse\"]';\nconst Default$a = {\n  parent: null,\n  toggle: true\n};\nconst DefaultType$a = {\n  parent: '(null|element)',\n  toggle: 'boolean'\n};\n\n/**\n * Class definition\n */\n\nclass Collapse extends BaseComponent {\n  constructor(element, config) {\n    super(element, config);\n    this._isTransitioning = false;\n    this._triggerArray = [];\n    const toggleList = SelectorEngine.find(SELECTOR_DATA_TOGGLE$4);\n    for (const elem of toggleList) {\n      const selector = SelectorEngine.getSelectorFromElement(elem);\n      const filterElement = SelectorEngine.find(selector).filter(foundElement => foundElement === this._element);\n      if (selector !== null && filterElement.length) {\n        this._triggerArray.push(elem);\n      }\n    }\n    this._initializeChildren();\n    if (!this._config.parent) {\n      this._addAriaAndCollapsedClass(this._triggerArray, this._isShown());\n    }\n    if (this._config.toggle) {\n      this.toggle();\n    }\n  }\n\n  // Getters\n  static get Default() {\n    return Default$a;\n  }\n  static get DefaultType() {\n    return DefaultType$a;\n  }\n  static get NAME() {\n    return NAME$b;\n  }\n\n  // Public\n  toggle() {\n    if (this._isShown()) {\n      this.hide();\n    } else {\n      this.show();\n    }\n  }\n  show() {\n    if (this._isTransitioning || this._isShown()) {\n      return;\n    }\n    let activeChildren = [];\n\n    // find active children\n    if (this._config.parent) {\n      activeChildren = this._getFirstLevelChildren(SELECTOR_ACTIVES).filter(element => element !== this._element).map(element => Collapse.getOrCreateInstance(element, {\n        toggle: false\n      }));\n    }\n    if (activeChildren.length && activeChildren[0]._isTransitioning) {\n      return;\n    }\n    const startEvent = EventHandler.trigger(this._element, EVENT_SHOW$6);\n    if (startEvent.defaultPrevented) {\n      return;\n    }\n    for (const activeInstance of activeChildren) {\n      activeInstance.hide();\n    }\n    const dimension = this._getDimension();\n    this._element.classList.remove(CLASS_NAME_COLLAPSE);\n    this._element.classList.add(CLASS_NAME_COLLAPSING);\n    this._element.style[dimension] = 0;\n    this._addAriaAndCollapsedClass(this._triggerArray, true);\n    this._isTransitioning = true;\n    const complete = () => {\n      this._isTransitioning = false;\n      this._element.classList.remove(CLASS_NAME_COLLAPSING);\n      this._element.classList.add(CLASS_NAME_COLLAPSE, CLASS_NAME_SHOW$7);\n      this._element.style[dimension] = '';\n      EventHandler.trigger(this._element, EVENT_SHOWN$6);\n    };\n    const capitalizedDimension = dimension[0].toUpperCase() + dimension.slice(1);\n    const scrollSize = `scroll${capitalizedDimension}`;\n    this._queueCallback(complete, this._element, true);\n    this._element.style[dimension] = `${this._element[scrollSize]}px`;\n  }\n  hide() {\n    if (this._isTransitioning || !this._isShown()) {\n      return;\n    }\n    const startEvent = EventHandler.trigger(this._element, EVENT_HIDE$6);\n    if (startEvent.defaultPrevented) {\n      return;\n    }\n    const dimension = this._getDimension();\n    this._element.style[dimension] = `${this._element.getBoundingClientRect()[dimension]}px`;\n    reflow(this._element);\n    this._element.classList.add(CLASS_NAME_COLLAPSING);\n    this._element.classList.remove(CLASS_NAME_COLLAPSE, CLASS_NAME_SHOW$7);\n    for (const trigger of this._triggerArray) {\n      const element = SelectorEngine.getElementFromSelector(trigger);\n      if (element && !this._isShown(element)) {\n        this._addAriaAndCollapsedClass([trigger], false);\n      }\n    }\n    this._isTransitioning = true;\n    const complete = () => {\n      this._isTransitioning = false;\n      this._element.classList.remove(CLASS_NAME_COLLAPSING);\n      this._element.classList.add(CLASS_NAME_COLLAPSE);\n      EventHandler.trigger(this._element, EVENT_HIDDEN$6);\n    };\n    this._element.style[dimension] = '';\n    this._queueCallback(complete, this._element, true);\n  }\n  _isShown(element = this._element) {\n    return element.classList.contains(CLASS_NAME_SHOW$7);\n  }\n\n  // Private\n  _configAfterMerge(config) {\n    config.toggle = Boolean(config.toggle); // Coerce string values\n    config.parent = getElement(config.parent);\n    return config;\n  }\n  _getDimension() {\n    return this._element.classList.contains(CLASS_NAME_HORIZONTAL) ? WIDTH : HEIGHT;\n  }\n  _initializeChildren() {\n    if (!this._config.parent) {\n      return;\n    }\n    const children = this._getFirstLevelChildren(SELECTOR_DATA_TOGGLE$4);\n    for (const element of children) {\n      const selected = SelectorEngine.getElementFromSelector(element);\n      if (selected) {\n        this._addAriaAndCollapsedClass([element], this._isShown(selected));\n      }\n    }\n  }\n  _getFirstLevelChildren(selector) {\n    const children = SelectorEngine.find(CLASS_NAME_DEEPER_CHILDREN, this._config.parent);\n    // remove children if greater depth\n    return SelectorEngine.find(selector, this._config.parent).filter(element => !children.includes(element));\n  }\n  _addAriaAndCollapsedClass(triggerArray, isOpen) {\n    if (!triggerArray.length) {\n      return;\n    }\n    for (const element of triggerArray) {\n      element.classList.toggle(CLASS_NAME_COLLAPSED, !isOpen);\n      element.setAttribute('aria-expanded', isOpen);\n    }\n  }\n\n  // Static\n  static jQueryInterface(config) {\n    const _config = {};\n    if (typeof config === 'string' && /show|hide/.test(config)) {\n      _config.toggle = false;\n    }\n    return this.each(function () {\n      const data = Collapse.getOrCreateInstance(this, _config);\n      if (typeof config === 'string') {\n        if (typeof data[config] === 'undefined') {\n          throw new TypeError(`No method named \"${config}\"`);\n        }\n        data[config]();\n      }\n    });\n  }\n}\n\n/**\n * Data API implementation\n */\n\nEventHandler.on(document, EVENT_CLICK_DATA_API$4, SELECTOR_DATA_TOGGLE$4, function (event) {\n  // preventDefault only for <a> elements (which change the URL) not inside the collapsible element\n  if (event.target.tagName === 'A' || event.delegateTarget && event.delegateTarget.tagName === 'A') {\n    event.preventDefault();\n  }\n  for (const element of SelectorEngine.getMultipleElementsFromSelector(this)) {\n    Collapse.getOrCreateInstance(element, {\n      toggle: false\n    }).toggle();\n  }\n});\n\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(Collapse);\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap dropdown.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\n\n/**\n * Constants\n */\n\nconst NAME$a = 'dropdown';\nconst DATA_KEY$6 = 'bs.dropdown';\nconst EVENT_KEY$6 = `.${DATA_KEY$6}`;\nconst DATA_API_KEY$3 = '.data-api';\nconst ESCAPE_KEY$2 = 'Escape';\nconst TAB_KEY$1 = 'Tab';\nconst ARROW_UP_KEY$1 = 'ArrowUp';\nconst ARROW_DOWN_KEY$1 = 'ArrowDown';\nconst RIGHT_MOUSE_BUTTON = 2; // MouseEvent.button value for the secondary button, usually the right button\n\nconst EVENT_HIDE$5 = `hide${EVENT_KEY$6}`;\nconst EVENT_HIDDEN$5 = `hidden${EVENT_KEY$6}`;\nconst EVENT_SHOW$5 = `show${EVENT_KEY$6}`;\nconst EVENT_SHOWN$5 = `shown${EVENT_KEY$6}`;\nconst EVENT_CLICK_DATA_API$3 = `click${EVENT_KEY$6}${DATA_API_KEY$3}`;\nconst EVENT_KEYDOWN_DATA_API = `keydown${EVENT_KEY$6}${DATA_API_KEY$3}`;\nconst EVENT_KEYUP_DATA_API = `keyup${EVENT_KEY$6}${DATA_API_KEY$3}`;\nconst CLASS_NAME_SHOW$6 = 'show';\nconst CLASS_NAME_DROPUP = 'dropup';\nconst CLASS_NAME_DROPEND = 'dropend';\nconst CLASS_NAME_DROPSTART = 'dropstart';\nconst CLASS_NAME_DROPUP_CENTER = 'dropup-center';\nconst CLASS_NAME_DROPDOWN_CENTER = 'dropdown-center';\nconst SELECTOR_DATA_TOGGLE$3 = '[data-bs-toggle=\"dropdown\"]:not(.disabled):not(:disabled)';\nconst SELECTOR_DATA_TOGGLE_SHOWN = `${SELECTOR_DATA_TOGGLE$3}.${CLASS_NAME_SHOW$6}`;\nconst SELECTOR_MENU = '.dropdown-menu';\nconst SELECTOR_NAVBAR = '.navbar';\nconst SELECTOR_NAVBAR_NAV = '.navbar-nav';\nconst SELECTOR_VISIBLE_ITEMS = '.dropdown-menu .dropdown-item:not(.disabled):not(:disabled)';\nconst PLACEMENT_TOP = isRTL() ? 'top-end' : 'top-start';\nconst PLACEMENT_TOPEND = isRTL() ? 'top-start' : 'top-end';\nconst PLACEMENT_BOTTOM = isRTL() ? 'bottom-end' : 'bottom-start';\nconst PLACEMENT_BOTTOMEND = isRTL() ? 'bottom-start' : 'bottom-end';\nconst PLACEMENT_RIGHT = isRTL() ? 'left-start' : 'right-start';\nconst PLACEMENT_LEFT = isRTL() ? 'right-start' : 'left-start';\nconst PLACEMENT_TOPCENTER = 'top';\nconst PLACEMENT_BOTTOMCENTER = 'bottom';\nconst Default$9 = {\n  autoClose: true,\n  boundary: 'clippingParents',\n  display: 'dynamic',\n  offset: [0, 2],\n  popperConfig: null,\n  reference: 'toggle'\n};\nconst DefaultType$9 = {\n  autoClose: '(boolean|string)',\n  boundary: '(string|element)',\n  display: 'string',\n  offset: '(array|string|function)',\n  popperConfig: '(null|object|function)',\n  reference: '(string|element|object)'\n};\n\n/**\n * Class definition\n */\n\nclass Dropdown extends BaseComponent {\n  constructor(element, config) {\n    super(element, config);\n    this._popper = null;\n    this._parent = this._element.parentNode; // dropdown wrapper\n    // TODO: v6 revert #37011 & change markup https://getbootstrap.com/docs/5.3/forms/input-group/\n    this._menu = SelectorEngine.next(this._element, SELECTOR_MENU)[0] || SelectorEngine.prev(this._element, SELECTOR_MENU)[0] || SelectorEngine.findOne(SELECTOR_MENU, this._parent);\n    this._inNavbar = this._detectNavbar();\n  }\n\n  // Getters\n  static get Default() {\n    return Default$9;\n  }\n  static get DefaultType() {\n    return DefaultType$9;\n  }\n  static get NAME() {\n    return NAME$a;\n  }\n\n  // Public\n  toggle() {\n    return this._isShown() ? this.hide() : this.show();\n  }\n  show() {\n    if (isDisabled(this._element) || this._isShown()) {\n      return;\n    }\n    const relatedTarget = {\n      relatedTarget: this._element\n    };\n    const showEvent = EventHandler.trigger(this._element, EVENT_SHOW$5, relatedTarget);\n    if (showEvent.defaultPrevented) {\n      return;\n    }\n    this._createPopper();\n\n    // If this is a touch-enabled device we add extra\n    // empty mouseover listeners to the body's immediate children;\n    // only needed because of broken event delegation on iOS\n    // https://www.quirksmode.org/blog/archives/2014/02/mouse_event_bub.html\n    if ('ontouchstart' in document.documentElement && !this._parent.closest(SELECTOR_NAVBAR_NAV)) {\n      for (const element of [].concat(...document.body.children)) {\n        EventHandler.on(element, 'mouseover', noop);\n      }\n    }\n    this._element.focus();\n    this._element.setAttribute('aria-expanded', true);\n    this._menu.classList.add(CLASS_NAME_SHOW$6);\n    this._element.classList.add(CLASS_NAME_SHOW$6);\n    EventHandler.trigger(this._element, EVENT_SHOWN$5, relatedTarget);\n  }\n  hide() {\n    if (isDisabled(this._element) || !this._isShown()) {\n      return;\n    }\n    const relatedTarget = {\n      relatedTarget: this._element\n    };\n    this._completeHide(relatedTarget);\n  }\n  dispose() {\n    if (this._popper) {\n      this._popper.destroy();\n    }\n    super.dispose();\n  }\n  update() {\n    this._inNavbar = this._detectNavbar();\n    if (this._popper) {\n      this._popper.update();\n    }\n  }\n\n  // Private\n  _completeHide(relatedTarget) {\n    const hideEvent = EventHandler.trigger(this._element, EVENT_HIDE$5, relatedTarget);\n    if (hideEvent.defaultPrevented) {\n      return;\n    }\n\n    // If this is a touch-enabled device we remove the extra\n    // empty mouseover listeners we added for iOS support\n    if ('ontouchstart' in document.documentElement) {\n      for (const element of [].concat(...document.body.children)) {\n        EventHandler.off(element, 'mouseover', noop);\n      }\n    }\n    if (this._popper) {\n      this._popper.destroy();\n    }\n    this._menu.classList.remove(CLASS_NAME_SHOW$6);\n    this._element.classList.remove(CLASS_NAME_SHOW$6);\n    this._element.setAttribute('aria-expanded', 'false');\n    Manipulator.removeDataAttribute(this._menu, 'popper');\n    EventHandler.trigger(this._element, EVENT_HIDDEN$5, relatedTarget);\n  }\n  _getConfig(config) {\n    config = super._getConfig(config);\n    if (typeof config.reference === 'object' && !isElement(config.reference) && typeof config.reference.getBoundingClientRect !== 'function') {\n      // Popper virtual elements require a getBoundingClientRect method\n      throw new TypeError(`${NAME$a.toUpperCase()}: Option \"reference\" provided type \"object\" without a required \"getBoundingClientRect\" method.`);\n    }\n    return config;\n  }\n  _createPopper() {\n    if (typeof Popper === 'undefined') {\n      throw new TypeError('Bootstrap\\'s dropdowns require Popper (https://popper.js.org)');\n    }\n    let referenceElement = this._element;\n    if (this._config.reference === 'parent') {\n      referenceElement = this._parent;\n    } else if (isElement(this._config.reference)) {\n      referenceElement = getElement(this._config.reference);\n    } else if (typeof this._config.reference === 'object') {\n      referenceElement = this._config.reference;\n    }\n    const popperConfig = this._getPopperConfig();\n    this._popper = Popper.createPopper(referenceElement, this._menu, popperConfig);\n  }\n  _isShown() {\n    return this._menu.classList.contains(CLASS_NAME_SHOW$6);\n  }\n  _getPlacement() {\n    const parentDropdown = this._parent;\n    if (parentDropdown.classList.contains(CLASS_NAME_DROPEND)) {\n      return PLACEMENT_RIGHT;\n    }\n    if (parentDropdown.classList.contains(CLASS_NAME_DROPSTART)) {\n      return PLACEMENT_LEFT;\n    }\n    if (parentDropdown.classList.contains(CLASS_NAME_DROPUP_CENTER)) {\n      return PLACEMENT_TOPCENTER;\n    }\n    if (parentDropdown.classList.contains(CLASS_NAME_DROPDOWN_CENTER)) {\n      return PLACEMENT_BOTTOMCENTER;\n    }\n\n    // We need to trim the value because custom properties can also include spaces\n    const isEnd = getComputedStyle(this._menu).getPropertyValue('--bs-position').trim() === 'end';\n    if (parentDropdown.classList.contains(CLASS_NAME_DROPUP)) {\n      return isEnd ? PLACEMENT_TOPEND : PLACEMENT_TOP;\n    }\n    return isEnd ? PLACEMENT_BOTTOMEND : PLACEMENT_BOTTOM;\n  }\n  _detectNavbar() {\n    return this._element.closest(SELECTOR_NAVBAR) !== null;\n  }\n  _getOffset() {\n    const {\n      offset\n    } = this._config;\n    if (typeof offset === 'string') {\n      return offset.split(',').map(value => Number.parseInt(value, 10));\n    }\n    if (typeof offset === 'function') {\n      return popperData => offset(popperData, this._element);\n    }\n    return offset;\n  }\n  _getPopperConfig() {\n    const defaultBsPopperConfig = {\n      placement: this._getPlacement(),\n      modifiers: [{\n        name: 'preventOverflow',\n        options: {\n          boundary: this._config.boundary\n        }\n      }, {\n        name: 'offset',\n        options: {\n          offset: this._getOffset()\n        }\n      }]\n    };\n\n    // Disable Popper if we have a static display or Dropdown is in Navbar\n    if (this._inNavbar || this._config.display === 'static') {\n      Manipulator.setDataAttribute(this._menu, 'popper', 'static'); // TODO: v6 remove\n      defaultBsPopperConfig.modifiers = [{\n        name: 'applyStyles',\n        enabled: false\n      }];\n    }\n    return {\n      ...defaultBsPopperConfig,\n      ...execute(this._config.popperConfig, [defaultBsPopperConfig])\n    };\n  }\n  _selectMenuItem({\n    key,\n    target\n  }) {\n    const items = SelectorEngine.find(SELECTOR_VISIBLE_ITEMS, this._menu).filter(element => isVisible(element));\n    if (!items.length) {\n      return;\n    }\n\n    // if target isn't included in items (e.g. when expanding the dropdown)\n    // allow cycling to get the last item in case key equals ARROW_UP_KEY\n    getNextActiveElement(items, target, key === ARROW_DOWN_KEY$1, !items.includes(target)).focus();\n  }\n\n  // Static\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = Dropdown.getOrCreateInstance(this, config);\n      if (typeof config !== 'string') {\n        return;\n      }\n      if (typeof data[config] === 'undefined') {\n        throw new TypeError(`No method named \"${config}\"`);\n      }\n      data[config]();\n    });\n  }\n  static clearMenus(event) {\n    if (event.button === RIGHT_MOUSE_BUTTON || event.type === 'keyup' && event.key !== TAB_KEY$1) {\n      return;\n    }\n    const openToggles = SelectorEngine.find(SELECTOR_DATA_TOGGLE_SHOWN);\n    for (const toggle of openToggles) {\n      const context = Dropdown.getInstance(toggle);\n      if (!context || context._config.autoClose === false) {\n        continue;\n      }\n      const composedPath = event.composedPath();\n      const isMenuTarget = composedPath.includes(context._menu);\n      if (composedPath.includes(context._element) || context._config.autoClose === 'inside' && !isMenuTarget || context._config.autoClose === 'outside' && isMenuTarget) {\n        continue;\n      }\n\n      // Tab navigation through the dropdown menu or events from contained inputs shouldn't close the menu\n      if (context._menu.contains(event.target) && (event.type === 'keyup' && event.key === TAB_KEY$1 || /input|select|option|textarea|form/i.test(event.target.tagName))) {\n        continue;\n      }\n      const relatedTarget = {\n        relatedTarget: context._element\n      };\n      if (event.type === 'click') {\n        relatedTarget.clickEvent = event;\n      }\n      context._completeHide(relatedTarget);\n    }\n  }\n  static dataApiKeydownHandler(event) {\n    // If not an UP | DOWN | ESCAPE key => not a dropdown command\n    // If input/textarea && if key is other than ESCAPE => not a dropdown command\n\n    const isInput = /input|textarea/i.test(event.target.tagName);\n    const isEscapeEvent = event.key === ESCAPE_KEY$2;\n    const isUpOrDownEvent = [ARROW_UP_KEY$1, ARROW_DOWN_KEY$1].includes(event.key);\n    if (!isUpOrDownEvent && !isEscapeEvent) {\n      return;\n    }\n    if (isInput && !isEscapeEvent) {\n      return;\n    }\n    event.preventDefault();\n\n    // TODO: v6 revert #37011 & change markup https://getbootstrap.com/docs/5.3/forms/input-group/\n    const getToggleButton = this.matches(SELECTOR_DATA_TOGGLE$3) ? this : SelectorEngine.prev(this, SELECTOR_DATA_TOGGLE$3)[0] || SelectorEngine.next(this, SELECTOR_DATA_TOGGLE$3)[0] || SelectorEngine.findOne(SELECTOR_DATA_TOGGLE$3, event.delegateTarget.parentNode);\n    const instance = Dropdown.getOrCreateInstance(getToggleButton);\n    if (isUpOrDownEvent) {\n      event.stopPropagation();\n      instance.show();\n      instance._selectMenuItem(event);\n      return;\n    }\n    if (instance._isShown()) {\n      // else is escape and we check if it is shown\n      event.stopPropagation();\n      instance.hide();\n      getToggleButton.focus();\n    }\n  }\n}\n\n/**\n * Data API implementation\n */\n\nEventHandler.on(document, EVENT_KEYDOWN_DATA_API, SELECTOR_DATA_TOGGLE$3, Dropdown.dataApiKeydownHandler);\nEventHandler.on(document, EVENT_KEYDOWN_DATA_API, SELECTOR_MENU, Dropdown.dataApiKeydownHandler);\nEventHandler.on(document, EVENT_CLICK_DATA_API$3, Dropdown.clearMenus);\nEventHandler.on(document, EVENT_KEYUP_DATA_API, Dropdown.clearMenus);\nEventHandler.on(document, EVENT_CLICK_DATA_API$3, SELECTOR_DATA_TOGGLE$3, function (event) {\n  event.preventDefault();\n  Dropdown.getOrCreateInstance(this).toggle();\n});\n\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(Dropdown);\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap util/backdrop.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\n\n/**\n * Constants\n */\n\nconst NAME$9 = 'backdrop';\nconst CLASS_NAME_FADE$4 = 'fade';\nconst CLASS_NAME_SHOW$5 = 'show';\nconst EVENT_MOUSEDOWN = `mousedown.bs.${NAME$9}`;\nconst Default$8 = {\n  className: 'modal-backdrop',\n  clickCallback: null,\n  isAnimated: false,\n  isVisible: true,\n  // if false, we use the backdrop helper without adding any element to the dom\n  rootElement: 'body' // give the choice to place backdrop under different elements\n};\nconst DefaultType$8 = {\n  className: 'string',\n  clickCallback: '(function|null)',\n  isAnimated: 'boolean',\n  isVisible: 'boolean',\n  rootElement: '(element|string)'\n};\n\n/**\n * Class definition\n */\n\nclass Backdrop extends Config {\n  constructor(config) {\n    super();\n    this._config = this._getConfig(config);\n    this._isAppended = false;\n    this._element = null;\n  }\n\n  // Getters\n  static get Default() {\n    return Default$8;\n  }\n  static get DefaultType() {\n    return DefaultType$8;\n  }\n  static get NAME() {\n    return NAME$9;\n  }\n\n  // Public\n  show(callback) {\n    if (!this._config.isVisible) {\n      execute(callback);\n      return;\n    }\n    this._append();\n    const element = this._getElement();\n    if (this._config.isAnimated) {\n      reflow(element);\n    }\n    element.classList.add(CLASS_NAME_SHOW$5);\n    this._emulateAnimation(() => {\n      execute(callback);\n    });\n  }\n  hide(callback) {\n    if (!this._config.isVisible) {\n      execute(callback);\n      return;\n    }\n    this._getElement().classList.remove(CLASS_NAME_SHOW$5);\n    this._emulateAnimation(() => {\n      this.dispose();\n      execute(callback);\n    });\n  }\n  dispose() {\n    if (!this._isAppended) {\n      return;\n    }\n    EventHandler.off(this._element, EVENT_MOUSEDOWN);\n    this._element.remove();\n    this._isAppended = false;\n  }\n\n  // Private\n  _getElement() {\n    if (!this._element) {\n      const backdrop = document.createElement('div');\n      backdrop.className = this._config.className;\n      if (this._config.isAnimated) {\n        backdrop.classList.add(CLASS_NAME_FADE$4);\n      }\n      this._element = backdrop;\n    }\n    return this._element;\n  }\n  _configAfterMerge(config) {\n    // use getElement() with the default \"body\" to get a fresh Element on each instantiation\n    config.rootElement = getElement(config.rootElement);\n    return config;\n  }\n  _append() {\n    if (this._isAppended) {\n      return;\n    }\n    const element = this._getElement();\n    this._config.rootElement.append(element);\n    EventHandler.on(element, EVENT_MOUSEDOWN, () => {\n      execute(this._config.clickCallback);\n    });\n    this._isAppended = true;\n  }\n  _emulateAnimation(callback) {\n    executeAfterTransition(callback, this._getElement(), this._config.isAnimated);\n  }\n}\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap util/focustrap.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\n\n/**\n * Constants\n */\n\nconst NAME$8 = 'focustrap';\nconst DATA_KEY$5 = 'bs.focustrap';\nconst EVENT_KEY$5 = `.${DATA_KEY$5}`;\nconst EVENT_FOCUSIN$2 = `focusin${EVENT_KEY$5}`;\nconst EVENT_KEYDOWN_TAB = `keydown.tab${EVENT_KEY$5}`;\nconst TAB_KEY = 'Tab';\nconst TAB_NAV_FORWARD = 'forward';\nconst TAB_NAV_BACKWARD = 'backward';\nconst Default$7 = {\n  autofocus: true,\n  trapElement: null // The element to trap focus inside of\n};\nconst DefaultType$7 = {\n  autofocus: 'boolean',\n  trapElement: 'element'\n};\n\n/**\n * Class definition\n */\n\nclass FocusTrap extends Config {\n  constructor(config) {\n    super();\n    this._config = this._getConfig(config);\n    this._isActive = false;\n    this._lastTabNavDirection = null;\n  }\n\n  // Getters\n  static get Default() {\n    return Default$7;\n  }\n  static get DefaultType() {\n    return DefaultType$7;\n  }\n  static get NAME() {\n    return NAME$8;\n  }\n\n  // Public\n  activate() {\n    if (this._isActive) {\n      return;\n    }\n    if (this._config.autofocus) {\n      this._config.trapElement.focus();\n    }\n    EventHandler.off(document, EVENT_KEY$5); // guard against infinite focus loop\n    EventHandler.on(document, EVENT_FOCUSIN$2, event => this._handleFocusin(event));\n    EventHandler.on(document, EVENT_KEYDOWN_TAB, event => this._handleKeydown(event));\n    this._isActive = true;\n  }\n  deactivate() {\n    if (!this._isActive) {\n      return;\n    }\n    this._isActive = false;\n    EventHandler.off(document, EVENT_KEY$5);\n  }\n\n  // Private\n  _handleFocusin(event) {\n    const {\n      trapElement\n    } = this._config;\n    if (event.target === document || event.target === trapElement || trapElement.contains(event.target)) {\n      return;\n    }\n    const elements = SelectorEngine.focusableChildren(trapElement);\n    if (elements.length === 0) {\n      trapElement.focus();\n    } else if (this._lastTabNavDirection === TAB_NAV_BACKWARD) {\n      elements[elements.length - 1].focus();\n    } else {\n      elements[0].focus();\n    }\n  }\n  _handleKeydown(event) {\n    if (event.key !== TAB_KEY) {\n      return;\n    }\n    this._lastTabNavDirection = event.shiftKey ? TAB_NAV_BACKWARD : TAB_NAV_FORWARD;\n  }\n}\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap util/scrollBar.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\n\n/**\n * Constants\n */\n\nconst SELECTOR_FIXED_CONTENT = '.fixed-top, .fixed-bottom, .is-fixed, .sticky-top';\nconst SELECTOR_STICKY_CONTENT = '.sticky-top';\nconst PROPERTY_PADDING = 'padding-right';\nconst PROPERTY_MARGIN = 'margin-right';\n\n/**\n * Class definition\n */\n\nclass ScrollBarHelper {\n  constructor() {\n    this._element = document.body;\n  }\n\n  // Public\n  getWidth() {\n    // https://developer.mozilla.org/en-US/docs/Web/API/Window/innerWidth#usage_notes\n    const documentWidth = document.documentElement.clientWidth;\n    return Math.abs(window.innerWidth - documentWidth);\n  }\n  hide() {\n    const width = this.getWidth();\n    this._disableOverFlow();\n    // give padding to element to balance the hidden scrollbar width\n    this._setElementAttributes(this._element, PROPERTY_PADDING, calculatedValue => calculatedValue + width);\n    // trick: We adjust positive paddingRight and negative marginRight to sticky-top elements to keep showing fullwidth\n    this._setElementAttributes(SELECTOR_FIXED_CONTENT, PROPERTY_PADDING, calculatedValue => calculatedValue + width);\n    this._setElementAttributes(SELECTOR_STICKY_CONTENT, PROPERTY_MARGIN, calculatedValue => calculatedValue - width);\n  }\n  reset() {\n    this._resetElementAttributes(this._element, 'overflow');\n    this._resetElementAttributes(this._element, PROPERTY_PADDING);\n    this._resetElementAttributes(SELECTOR_FIXED_CONTENT, PROPERTY_PADDING);\n    this._resetElementAttributes(SELECTOR_STICKY_CONTENT, PROPERTY_MARGIN);\n  }\n  isOverflowing() {\n    return this.getWidth() > 0;\n  }\n\n  // Private\n  _disableOverFlow() {\n    this._saveInitialAttribute(this._element, 'overflow');\n    this._element.style.overflow = 'hidden';\n  }\n  _setElementAttributes(selector, styleProperty, callback) {\n    const scrollbarWidth = this.getWidth();\n    const manipulationCallBack = element => {\n      if (element !== this._element && window.innerWidth > element.clientWidth + scrollbarWidth) {\n        return;\n      }\n      this._saveInitialAttribute(element, styleProperty);\n      const calculatedValue = window.getComputedStyle(element).getPropertyValue(styleProperty);\n      element.style.setProperty(styleProperty, `${callback(Number.parseFloat(calculatedValue))}px`);\n    };\n    this._applyManipulationCallback(selector, manipulationCallBack);\n  }\n  _saveInitialAttribute(element, styleProperty) {\n    const actualValue = element.style.getPropertyValue(styleProperty);\n    if (actualValue) {\n      Manipulator.setDataAttribute(element, styleProperty, actualValue);\n    }\n  }\n  _resetElementAttributes(selector, styleProperty) {\n    const manipulationCallBack = element => {\n      const value = Manipulator.getDataAttribute(element, styleProperty);\n      // We only want to remove the property if the value is `null`; the value can also be zero\n      if (value === null) {\n        element.style.removeProperty(styleProperty);\n        return;\n      }\n      Manipulator.removeDataAttribute(element, styleProperty);\n      element.style.setProperty(styleProperty, value);\n    };\n    this._applyManipulationCallback(selector, manipulationCallBack);\n  }\n  _applyManipulationCallback(selector, callBack) {\n    if (isElement(selector)) {\n      callBack(selector);\n      return;\n    }\n    for (const sel of SelectorEngine.find(selector, this._element)) {\n      callBack(sel);\n    }\n  }\n}\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap modal.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\n\n/**\n * Constants\n */\n\nconst NAME$7 = 'modal';\nconst DATA_KEY$4 = 'bs.modal';\nconst EVENT_KEY$4 = `.${DATA_KEY$4}`;\nconst DATA_API_KEY$2 = '.data-api';\nconst ESCAPE_KEY$1 = 'Escape';\nconst EVENT_HIDE$4 = `hide${EVENT_KEY$4}`;\nconst EVENT_HIDE_PREVENTED$1 = `hidePrevented${EVENT_KEY$4}`;\nconst EVENT_HIDDEN$4 = `hidden${EVENT_KEY$4}`;\nconst EVENT_SHOW$4 = `show${EVENT_KEY$4}`;\nconst EVENT_SHOWN$4 = `shown${EVENT_KEY$4}`;\nconst EVENT_RESIZE$1 = `resize${EVENT_KEY$4}`;\nconst EVENT_CLICK_DISMISS = `click.dismiss${EVENT_KEY$4}`;\nconst EVENT_MOUSEDOWN_DISMISS = `mousedown.dismiss${EVENT_KEY$4}`;\nconst EVENT_KEYDOWN_DISMISS$1 = `keydown.dismiss${EVENT_KEY$4}`;\nconst EVENT_CLICK_DATA_API$2 = `click${EVENT_KEY$4}${DATA_API_KEY$2}`;\nconst CLASS_NAME_OPEN = 'modal-open';\nconst CLASS_NAME_FADE$3 = 'fade';\nconst CLASS_NAME_SHOW$4 = 'show';\nconst CLASS_NAME_STATIC = 'modal-static';\nconst OPEN_SELECTOR$1 = '.modal.show';\nconst SELECTOR_DIALOG = '.modal-dialog';\nconst SELECTOR_MODAL_BODY = '.modal-body';\nconst SELECTOR_DATA_TOGGLE$2 = '[data-bs-toggle=\"modal\"]';\nconst Default$6 = {\n  backdrop: true,\n  focus: true,\n  keyboard: true\n};\nconst DefaultType$6 = {\n  backdrop: '(boolean|string)',\n  focus: 'boolean',\n  keyboard: 'boolean'\n};\n\n/**\n * Class definition\n */\n\nclass Modal extends BaseComponent {\n  constructor(element, config) {\n    super(element, config);\n    this._dialog = SelectorEngine.findOne(SELECTOR_DIALOG, this._element);\n    this._backdrop = this._initializeBackDrop();\n    this._focustrap = this._initializeFocusTrap();\n    this._isShown = false;\n    this._isTransitioning = false;\n    this._scrollBar = new ScrollBarHelper();\n    this._addEventListeners();\n  }\n\n  // Getters\n  static get Default() {\n    return Default$6;\n  }\n  static get DefaultType() {\n    return DefaultType$6;\n  }\n  static get NAME() {\n    return NAME$7;\n  }\n\n  // Public\n  toggle(relatedTarget) {\n    return this._isShown ? this.hide() : this.show(relatedTarget);\n  }\n  show(relatedTarget) {\n    if (this._isShown || this._isTransitioning) {\n      return;\n    }\n    const showEvent = EventHandler.trigger(this._element, EVENT_SHOW$4, {\n      relatedTarget\n    });\n    if (showEvent.defaultPrevented) {\n      return;\n    }\n    this._isShown = true;\n    this._isTransitioning = true;\n    this._scrollBar.hide();\n    document.body.classList.add(CLASS_NAME_OPEN);\n    this._adjustDialog();\n    this._backdrop.show(() => this._showElement(relatedTarget));\n  }\n  hide() {\n    if (!this._isShown || this._isTransitioning) {\n      return;\n    }\n    const hideEvent = EventHandler.trigger(this._element, EVENT_HIDE$4);\n    if (hideEvent.defaultPrevented) {\n      return;\n    }\n    this._isShown = false;\n    this._isTransitioning = true;\n    this._focustrap.deactivate();\n    this._element.classList.remove(CLASS_NAME_SHOW$4);\n    this._queueCallback(() => this._hideModal(), this._element, this._isAnimated());\n  }\n  dispose() {\n    EventHandler.off(window, EVENT_KEY$4);\n    EventHandler.off(this._dialog, EVENT_KEY$4);\n    this._backdrop.dispose();\n    this._focustrap.deactivate();\n    super.dispose();\n  }\n  handleUpdate() {\n    this._adjustDialog();\n  }\n\n  // Private\n  _initializeBackDrop() {\n    return new Backdrop({\n      isVisible: Boolean(this._config.backdrop),\n      // 'static' option will be translated to true, and booleans will keep their value,\n      isAnimated: this._isAnimated()\n    });\n  }\n  _initializeFocusTrap() {\n    return new FocusTrap({\n      trapElement: this._element\n    });\n  }\n  _showElement(relatedTarget) {\n    // try to append dynamic modal\n    if (!document.body.contains(this._element)) {\n      document.body.append(this._element);\n    }\n    this._element.style.display = 'block';\n    this._element.removeAttribute('aria-hidden');\n    this._element.setAttribute('aria-modal', true);\n    this._element.setAttribute('role', 'dialog');\n    this._element.scrollTop = 0;\n    const modalBody = SelectorEngine.findOne(SELECTOR_MODAL_BODY, this._dialog);\n    if (modalBody) {\n      modalBody.scrollTop = 0;\n    }\n    reflow(this._element);\n    this._element.classList.add(CLASS_NAME_SHOW$4);\n    const transitionComplete = () => {\n      if (this._config.focus) {\n        this._focustrap.activate();\n      }\n      this._isTransitioning = false;\n      EventHandler.trigger(this._element, EVENT_SHOWN$4, {\n        relatedTarget\n      });\n    };\n    this._queueCallback(transitionComplete, this._dialog, this._isAnimated());\n  }\n  _addEventListeners() {\n    EventHandler.on(this._element, EVENT_KEYDOWN_DISMISS$1, event => {\n      if (event.key !== ESCAPE_KEY$1) {\n        return;\n      }\n      if (this._config.keyboard) {\n        this.hide();\n        return;\n      }\n      this._triggerBackdropTransition();\n    });\n    EventHandler.on(window, EVENT_RESIZE$1, () => {\n      if (this._isShown && !this._isTransitioning) {\n        this._adjustDialog();\n      }\n    });\n    EventHandler.on(this._element, EVENT_MOUSEDOWN_DISMISS, event => {\n      // a bad trick to segregate clicks that may start inside dialog but end outside, and avoid listen to scrollbar clicks\n      EventHandler.one(this._element, EVENT_CLICK_DISMISS, event2 => {\n        if (this._element !== event.target || this._element !== event2.target) {\n          return;\n        }\n        if (this._config.backdrop === 'static') {\n          this._triggerBackdropTransition();\n          return;\n        }\n        if (this._config.backdrop) {\n          this.hide();\n        }\n      });\n    });\n  }\n  _hideModal() {\n    this._element.style.display = 'none';\n    this._element.setAttribute('aria-hidden', true);\n    this._element.removeAttribute('aria-modal');\n    this._element.removeAttribute('role');\n    this._isTransitioning = false;\n    this._backdrop.hide(() => {\n      document.body.classList.remove(CLASS_NAME_OPEN);\n      this._resetAdjustments();\n      this._scrollBar.reset();\n      EventHandler.trigger(this._element, EVENT_HIDDEN$4);\n    });\n  }\n  _isAnimated() {\n    return this._element.classList.contains(CLASS_NAME_FADE$3);\n  }\n  _triggerBackdropTransition() {\n    const hideEvent = EventHandler.trigger(this._element, EVENT_HIDE_PREVENTED$1);\n    if (hideEvent.defaultPrevented) {\n      return;\n    }\n    const isModalOverflowing = this._element.scrollHeight > document.documentElement.clientHeight;\n    const initialOverflowY = this._element.style.overflowY;\n    // return if the following background transition hasn't yet completed\n    if (initialOverflowY === 'hidden' || this._element.classList.contains(CLASS_NAME_STATIC)) {\n      return;\n    }\n    if (!isModalOverflowing) {\n      this._element.style.overflowY = 'hidden';\n    }\n    this._element.classList.add(CLASS_NAME_STATIC);\n    this._queueCallback(() => {\n      this._element.classList.remove(CLASS_NAME_STATIC);\n      this._queueCallback(() => {\n        this._element.style.overflowY = initialOverflowY;\n      }, this._dialog);\n    }, this._dialog);\n    this._element.focus();\n  }\n\n  /**\n   * The following methods are used to handle overflowing modals\n   */\n\n  _adjustDialog() {\n    const isModalOverflowing = this._element.scrollHeight > document.documentElement.clientHeight;\n    const scrollbarWidth = this._scrollBar.getWidth();\n    const isBodyOverflowing = scrollbarWidth > 0;\n    if (isBodyOverflowing && !isModalOverflowing) {\n      const property = isRTL() ? 'paddingLeft' : 'paddingRight';\n      this._element.style[property] = `${scrollbarWidth}px`;\n    }\n    if (!isBodyOverflowing && isModalOverflowing) {\n      const property = isRTL() ? 'paddingRight' : 'paddingLeft';\n      this._element.style[property] = `${scrollbarWidth}px`;\n    }\n  }\n  _resetAdjustments() {\n    this._element.style.paddingLeft = '';\n    this._element.style.paddingRight = '';\n  }\n\n  // Static\n  static jQueryInterface(config, relatedTarget) {\n    return this.each(function () {\n      const data = Modal.getOrCreateInstance(this, config);\n      if (typeof config !== 'string') {\n        return;\n      }\n      if (typeof data[config] === 'undefined') {\n        throw new TypeError(`No method named \"${config}\"`);\n      }\n      data[config](relatedTarget);\n    });\n  }\n}\n\n/**\n * Data API implementation\n */\n\nEventHandler.on(document, EVENT_CLICK_DATA_API$2, SELECTOR_DATA_TOGGLE$2, function (event) {\n  const target = SelectorEngine.getElementFromSelector(this);\n  if (['A', 'AREA'].includes(this.tagName)) {\n    event.preventDefault();\n  }\n  EventHandler.one(target, EVENT_SHOW$4, showEvent => {\n    if (showEvent.defaultPrevented) {\n      // only register focus restorer if modal will actually get shown\n      return;\n    }\n    EventHandler.one(target, EVENT_HIDDEN$4, () => {\n      if (isVisible(this)) {\n        this.focus();\n      }\n    });\n  });\n\n  // avoid conflict when clicking modal toggler while another one is open\n  const alreadyOpen = SelectorEngine.findOne(OPEN_SELECTOR$1);\n  if (alreadyOpen) {\n    Modal.getInstance(alreadyOpen).hide();\n  }\n  const data = Modal.getOrCreateInstance(target);\n  data.toggle(this);\n});\nenableDismissTrigger(Modal);\n\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(Modal);\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap offcanvas.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\n\n/**\n * Constants\n */\n\nconst NAME$6 = 'offcanvas';\nconst DATA_KEY$3 = 'bs.offcanvas';\nconst EVENT_KEY$3 = `.${DATA_KEY$3}`;\nconst DATA_API_KEY$1 = '.data-api';\nconst EVENT_LOAD_DATA_API$2 = `load${EVENT_KEY$3}${DATA_API_KEY$1}`;\nconst ESCAPE_KEY = 'Escape';\nconst CLASS_NAME_SHOW$3 = 'show';\nconst CLASS_NAME_SHOWING$1 = 'showing';\nconst CLASS_NAME_HIDING = 'hiding';\nconst CLASS_NAME_BACKDROP = 'offcanvas-backdrop';\nconst OPEN_SELECTOR = '.offcanvas.show';\nconst EVENT_SHOW$3 = `show${EVENT_KEY$3}`;\nconst EVENT_SHOWN$3 = `shown${EVENT_KEY$3}`;\nconst EVENT_HIDE$3 = `hide${EVENT_KEY$3}`;\nconst EVENT_HIDE_PREVENTED = `hidePrevented${EVENT_KEY$3}`;\nconst EVENT_HIDDEN$3 = `hidden${EVENT_KEY$3}`;\nconst EVENT_RESIZE = `resize${EVENT_KEY$3}`;\nconst EVENT_CLICK_DATA_API$1 = `click${EVENT_KEY$3}${DATA_API_KEY$1}`;\nconst EVENT_KEYDOWN_DISMISS = `keydown.dismiss${EVENT_KEY$3}`;\nconst SELECTOR_DATA_TOGGLE$1 = '[data-bs-toggle=\"offcanvas\"]';\nconst Default$5 = {\n  backdrop: true,\n  keyboard: true,\n  scroll: false\n};\nconst DefaultType$5 = {\n  backdrop: '(boolean|string)',\n  keyboard: 'boolean',\n  scroll: 'boolean'\n};\n\n/**\n * Class definition\n */\n\nclass Offcanvas extends BaseComponent {\n  constructor(element, config) {\n    super(element, config);\n    this._isShown = false;\n    this._backdrop = this._initializeBackDrop();\n    this._focustrap = this._initializeFocusTrap();\n    this._addEventListeners();\n  }\n\n  // Getters\n  static get Default() {\n    return Default$5;\n  }\n  static get DefaultType() {\n    return DefaultType$5;\n  }\n  static get NAME() {\n    return NAME$6;\n  }\n\n  // Public\n  toggle(relatedTarget) {\n    return this._isShown ? this.hide() : this.show(relatedTarget);\n  }\n  show(relatedTarget) {\n    if (this._isShown) {\n      return;\n    }\n    const showEvent = EventHandler.trigger(this._element, EVENT_SHOW$3, {\n      relatedTarget\n    });\n    if (showEvent.defaultPrevented) {\n      return;\n    }\n    this._isShown = true;\n    this._backdrop.show();\n    if (!this._config.scroll) {\n      new ScrollBarHelper().hide();\n    }\n    this._element.setAttribute('aria-modal', true);\n    this._element.setAttribute('role', 'dialog');\n    this._element.classList.add(CLASS_NAME_SHOWING$1);\n    const completeCallBack = () => {\n      if (!this._config.scroll || this._config.backdrop) {\n        this._focustrap.activate();\n      }\n      this._element.classList.add(CLASS_NAME_SHOW$3);\n      this._element.classList.remove(CLASS_NAME_SHOWING$1);\n      EventHandler.trigger(this._element, EVENT_SHOWN$3, {\n        relatedTarget\n      });\n    };\n    this._queueCallback(completeCallBack, this._element, true);\n  }\n  hide() {\n    if (!this._isShown) {\n      return;\n    }\n    const hideEvent = EventHandler.trigger(this._element, EVENT_HIDE$3);\n    if (hideEvent.defaultPrevented) {\n      return;\n    }\n    this._focustrap.deactivate();\n    this._element.blur();\n    this._isShown = false;\n    this._element.classList.add(CLASS_NAME_HIDING);\n    this._backdrop.hide();\n    const completeCallback = () => {\n      this._element.classList.remove(CLASS_NAME_SHOW$3, CLASS_NAME_HIDING);\n      this._element.removeAttribute('aria-modal');\n      this._element.removeAttribute('role');\n      if (!this._config.scroll) {\n        new ScrollBarHelper().reset();\n      }\n      EventHandler.trigger(this._element, EVENT_HIDDEN$3);\n    };\n    this._queueCallback(completeCallback, this._element, true);\n  }\n  dispose() {\n    this._backdrop.dispose();\n    this._focustrap.deactivate();\n    super.dispose();\n  }\n\n  // Private\n  _initializeBackDrop() {\n    const clickCallback = () => {\n      if (this._config.backdrop === 'static') {\n        EventHandler.trigger(this._element, EVENT_HIDE_PREVENTED);\n        return;\n      }\n      this.hide();\n    };\n\n    // 'static' option will be translated to true, and booleans will keep their value\n    const isVisible = Boolean(this._config.backdrop);\n    return new Backdrop({\n      className: CLASS_NAME_BACKDROP,\n      isVisible,\n      isAnimated: true,\n      rootElement: this._element.parentNode,\n      clickCallback: isVisible ? clickCallback : null\n    });\n  }\n  _initializeFocusTrap() {\n    return new FocusTrap({\n      trapElement: this._element\n    });\n  }\n  _addEventListeners() {\n    EventHandler.on(this._element, EVENT_KEYDOWN_DISMISS, event => {\n      if (event.key !== ESCAPE_KEY) {\n        return;\n      }\n      if (this._config.keyboard) {\n        this.hide();\n        return;\n      }\n      EventHandler.trigger(this._element, EVENT_HIDE_PREVENTED);\n    });\n  }\n\n  // Static\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = Offcanvas.getOrCreateInstance(this, config);\n      if (typeof config !== 'string') {\n        return;\n      }\n      if (data[config] === undefined || config.startsWith('_') || config === 'constructor') {\n        throw new TypeError(`No method named \"${config}\"`);\n      }\n      data[config](this);\n    });\n  }\n}\n\n/**\n * Data API implementation\n */\n\nEventHandler.on(document, EVENT_CLICK_DATA_API$1, SELECTOR_DATA_TOGGLE$1, function (event) {\n  const target = SelectorEngine.getElementFromSelector(this);\n  if (['A', 'AREA'].includes(this.tagName)) {\n    event.preventDefault();\n  }\n  if (isDisabled(this)) {\n    return;\n  }\n  EventHandler.one(target, EVENT_HIDDEN$3, () => {\n    // focus on trigger when it is closed\n    if (isVisible(this)) {\n      this.focus();\n    }\n  });\n\n  // avoid conflict when clicking a toggler of an offcanvas, while another is open\n  const alreadyOpen = SelectorEngine.findOne(OPEN_SELECTOR);\n  if (alreadyOpen && alreadyOpen !== target) {\n    Offcanvas.getInstance(alreadyOpen).hide();\n  }\n  const data = Offcanvas.getOrCreateInstance(target);\n  data.toggle(this);\n});\nEventHandler.on(window, EVENT_LOAD_DATA_API$2, () => {\n  for (const selector of SelectorEngine.find(OPEN_SELECTOR)) {\n    Offcanvas.getOrCreateInstance(selector).show();\n  }\n});\nEventHandler.on(window, EVENT_RESIZE, () => {\n  for (const element of SelectorEngine.find('[aria-modal][class*=show][class*=offcanvas-]')) {\n    if (getComputedStyle(element).position !== 'fixed') {\n      Offcanvas.getOrCreateInstance(element).hide();\n    }\n  }\n});\nenableDismissTrigger(Offcanvas);\n\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(Offcanvas);\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap util/sanitizer.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\n// js-docs-start allow-list\nconst ARIA_ATTRIBUTE_PATTERN = /^aria-[\\w-]*$/i;\nconst DefaultAllowlist = {\n  // Global attributes allowed on any supplied element below.\n  '*': ['class', 'dir', 'id', 'lang', 'role', ARIA_ATTRIBUTE_PATTERN],\n  a: ['target', 'href', 'title', 'rel'],\n  area: [],\n  b: [],\n  br: [],\n  col: [],\n  code: [],\n  dd: [],\n  div: [],\n  dl: [],\n  dt: [],\n  em: [],\n  hr: [],\n  h1: [],\n  h2: [],\n  h3: [],\n  h4: [],\n  h5: [],\n  h6: [],\n  i: [],\n  img: ['src', 'srcset', 'alt', 'title', 'width', 'height'],\n  li: [],\n  ol: [],\n  p: [],\n  pre: [],\n  s: [],\n  small: [],\n  span: [],\n  sub: [],\n  sup: [],\n  strong: [],\n  u: [],\n  ul: []\n};\n// js-docs-end allow-list\n\nconst uriAttributes = new Set(['background', 'cite', 'href', 'itemtype', 'longdesc', 'poster', 'src', 'xlink:href']);\n\n/**\n * A pattern that recognizes URLs that are safe wrt. XSS in URL navigation\n * contexts.\n *\n * Shout-out to Angular https://github.com/angular/angular/blob/15.2.8/packages/core/src/sanitization/url_sanitizer.ts#L38\n */\n// eslint-disable-next-line unicorn/better-regex\nconst SAFE_URL_PATTERN = /^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i;\nconst allowedAttribute = (attribute, allowedAttributeList) => {\n  const attributeName = attribute.nodeName.toLowerCase();\n  if (allowedAttributeList.includes(attributeName)) {\n    if (uriAttributes.has(attributeName)) {\n      return Boolean(SAFE_URL_PATTERN.test(attribute.nodeValue));\n    }\n    return true;\n  }\n\n  // Check if a regular expression validates the attribute.\n  return allowedAttributeList.filter(attributeRegex => attributeRegex instanceof RegExp).some(regex => regex.test(attributeName));\n};\nfunction sanitizeHtml(unsafeHtml, allowList, sanitizeFunction) {\n  if (!unsafeHtml.length) {\n    return unsafeHtml;\n  }\n  if (sanitizeFunction && typeof sanitizeFunction === 'function') {\n    return sanitizeFunction(unsafeHtml);\n  }\n  const domParser = new window.DOMParser();\n  const createdDocument = domParser.parseFromString(unsafeHtml, 'text/html');\n  const elements = [].concat(...createdDocument.body.querySelectorAll('*'));\n  for (const element of elements) {\n    const elementName = element.nodeName.toLowerCase();\n    if (!Object.keys(allowList).includes(elementName)) {\n      element.remove();\n      continue;\n    }\n    const attributeList = [].concat(...element.attributes);\n    const allowedAttributes = [].concat(allowList['*'] || [], allowList[elementName] || []);\n    for (const attribute of attributeList) {\n      if (!allowedAttribute(attribute, allowedAttributes)) {\n        element.removeAttribute(attribute.nodeName);\n      }\n    }\n  }\n  return createdDocument.body.innerHTML;\n}\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap util/template-factory.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\n\n/**\n * Constants\n */\n\nconst NAME$5 = 'TemplateFactory';\nconst Default$4 = {\n  allowList: DefaultAllowlist,\n  content: {},\n  // { selector : text ,  selector2 : text2 , }\n  extraClass: '',\n  html: false,\n  sanitize: true,\n  sanitizeFn: null,\n  template: '<div></div>'\n};\nconst DefaultType$4 = {\n  allowList: 'object',\n  content: 'object',\n  extraClass: '(string|function)',\n  html: 'boolean',\n  sanitize: 'boolean',\n  sanitizeFn: '(null|function)',\n  template: 'string'\n};\nconst DefaultContentType = {\n  entry: '(string|element|function|null)',\n  selector: '(string|element)'\n};\n\n/**\n * Class definition\n */\n\nclass TemplateFactory extends Config {\n  constructor(config) {\n    super();\n    this._config = this._getConfig(config);\n  }\n\n  // Getters\n  static get Default() {\n    return Default$4;\n  }\n  static get DefaultType() {\n    return DefaultType$4;\n  }\n  static get NAME() {\n    return NAME$5;\n  }\n\n  // Public\n  getContent() {\n    return Object.values(this._config.content).map(config => this._resolvePossibleFunction(config)).filter(Boolean);\n  }\n  hasContent() {\n    return this.getContent().length > 0;\n  }\n  changeContent(content) {\n    this._checkContent(content);\n    this._config.content = {\n      ...this._config.content,\n      ...content\n    };\n    return this;\n  }\n  toHtml() {\n    const templateWrapper = document.createElement('div');\n    templateWrapper.innerHTML = this._maybeSanitize(this._config.template);\n    for (const [selector, text] of Object.entries(this._config.content)) {\n      this._setContent(templateWrapper, text, selector);\n    }\n    const template = templateWrapper.children[0];\n    const extraClass = this._resolvePossibleFunction(this._config.extraClass);\n    if (extraClass) {\n      template.classList.add(...extraClass.split(' '));\n    }\n    return template;\n  }\n\n  // Private\n  _typeCheckConfig(config) {\n    super._typeCheckConfig(config);\n    this._checkContent(config.content);\n  }\n  _checkContent(arg) {\n    for (const [selector, content] of Object.entries(arg)) {\n      super._typeCheckConfig({\n        selector,\n        entry: content\n      }, DefaultContentType);\n    }\n  }\n  _setContent(template, content, selector) {\n    const templateElement = SelectorEngine.findOne(selector, template);\n    if (!templateElement) {\n      return;\n    }\n    content = this._resolvePossibleFunction(content);\n    if (!content) {\n      templateElement.remove();\n      return;\n    }\n    if (isElement(content)) {\n      this._putElementInTemplate(getElement(content), templateElement);\n      return;\n    }\n    if (this._config.html) {\n      templateElement.innerHTML = this._maybeSanitize(content);\n      return;\n    }\n    templateElement.textContent = content;\n  }\n  _maybeSanitize(arg) {\n    return this._config.sanitize ? sanitizeHtml(arg, this._config.allowList, this._config.sanitizeFn) : arg;\n  }\n  _resolvePossibleFunction(arg) {\n    return execute(arg, [this]);\n  }\n  _putElementInTemplate(element, templateElement) {\n    if (this._config.html) {\n      templateElement.innerHTML = '';\n      templateElement.append(element);\n      return;\n    }\n    templateElement.textContent = element.textContent;\n  }\n}\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap tooltip.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\n\n/**\n * Constants\n */\n\nconst NAME$4 = 'tooltip';\nconst DISALLOWED_ATTRIBUTES = new Set(['sanitize', 'allowList', 'sanitizeFn']);\nconst CLASS_NAME_FADE$2 = 'fade';\nconst CLASS_NAME_MODAL = 'modal';\nconst CLASS_NAME_SHOW$2 = 'show';\nconst SELECTOR_TOOLTIP_INNER = '.tooltip-inner';\nconst SELECTOR_MODAL = `.${CLASS_NAME_MODAL}`;\nconst EVENT_MODAL_HIDE = 'hide.bs.modal';\nconst TRIGGER_HOVER = 'hover';\nconst TRIGGER_FOCUS = 'focus';\nconst TRIGGER_CLICK = 'click';\nconst TRIGGER_MANUAL = 'manual';\nconst EVENT_HIDE$2 = 'hide';\nconst EVENT_HIDDEN$2 = 'hidden';\nconst EVENT_SHOW$2 = 'show';\nconst EVENT_SHOWN$2 = 'shown';\nconst EVENT_INSERTED = 'inserted';\nconst EVENT_CLICK$1 = 'click';\nconst EVENT_FOCUSIN$1 = 'focusin';\nconst EVENT_FOCUSOUT$1 = 'focusout';\nconst EVENT_MOUSEENTER = 'mouseenter';\nconst EVENT_MOUSELEAVE = 'mouseleave';\nconst AttachmentMap = {\n  AUTO: 'auto',\n  TOP: 'top',\n  RIGHT: isRTL() ? 'left' : 'right',\n  BOTTOM: 'bottom',\n  LEFT: isRTL() ? 'right' : 'left'\n};\nconst Default$3 = {\n  allowList: DefaultAllowlist,\n  animation: true,\n  boundary: 'clippingParents',\n  container: false,\n  customClass: '',\n  delay: 0,\n  fallbackPlacements: ['top', 'right', 'bottom', 'left'],\n  html: false,\n  offset: [0, 6],\n  placement: 'top',\n  popperConfig: null,\n  sanitize: true,\n  sanitizeFn: null,\n  selector: false,\n  template: '<div class=\"tooltip\" role=\"tooltip\">' + '<div class=\"tooltip-arrow\"></div>' + '<div class=\"tooltip-inner\"></div>' + '</div>',\n  title: '',\n  trigger: 'hover focus'\n};\nconst DefaultType$3 = {\n  allowList: 'object',\n  animation: 'boolean',\n  boundary: '(string|element)',\n  container: '(string|element|boolean)',\n  customClass: '(string|function)',\n  delay: '(number|object)',\n  fallbackPlacements: 'array',\n  html: 'boolean',\n  offset: '(array|string|function)',\n  placement: '(string|function)',\n  popperConfig: '(null|object|function)',\n  sanitize: 'boolean',\n  sanitizeFn: '(null|function)',\n  selector: '(string|boolean)',\n  template: 'string',\n  title: '(string|element|function)',\n  trigger: 'string'\n};\n\n/**\n * Class definition\n */\n\nclass Tooltip extends BaseComponent {\n  constructor(element, config) {\n    if (typeof Popper === 'undefined') {\n      throw new TypeError('Bootstrap\\'s tooltips require Popper (https://popper.js.org)');\n    }\n    super(element, config);\n\n    // Private\n    this._isEnabled = true;\n    this._timeout = 0;\n    this._isHovered = null;\n    this._activeTrigger = {};\n    this._popper = null;\n    this._templateFactory = null;\n    this._newContent = null;\n\n    // Protected\n    this.tip = null;\n    this._setListeners();\n    if (!this._config.selector) {\n      this._fixTitle();\n    }\n  }\n\n  // Getters\n  static get Default() {\n    return Default$3;\n  }\n  static get DefaultType() {\n    return DefaultType$3;\n  }\n  static get NAME() {\n    return NAME$4;\n  }\n\n  // Public\n  enable() {\n    this._isEnabled = true;\n  }\n  disable() {\n    this._isEnabled = false;\n  }\n  toggleEnabled() {\n    this._isEnabled = !this._isEnabled;\n  }\n  toggle() {\n    if (!this._isEnabled) {\n      return;\n    }\n    this._activeTrigger.click = !this._activeTrigger.click;\n    if (this._isShown()) {\n      this._leave();\n      return;\n    }\n    this._enter();\n  }\n  dispose() {\n    clearTimeout(this._timeout);\n    EventHandler.off(this._element.closest(SELECTOR_MODAL), EVENT_MODAL_HIDE, this._hideModalHandler);\n    if (this._element.getAttribute('data-bs-original-title')) {\n      this._element.setAttribute('title', this._element.getAttribute('data-bs-original-title'));\n    }\n    this._disposePopper();\n    super.dispose();\n  }\n  show() {\n    if (this._element.style.display === 'none') {\n      throw new Error('Please use show on visible elements');\n    }\n    if (!(this._isWithContent() && this._isEnabled)) {\n      return;\n    }\n    const showEvent = EventHandler.trigger(this._element, this.constructor.eventName(EVENT_SHOW$2));\n    const shadowRoot = findShadowRoot(this._element);\n    const isInTheDom = (shadowRoot || this._element.ownerDocument.documentElement).contains(this._element);\n    if (showEvent.defaultPrevented || !isInTheDom) {\n      return;\n    }\n\n    // TODO: v6 remove this or make it optional\n    this._disposePopper();\n    const tip = this._getTipElement();\n    this._element.setAttribute('aria-describedby', tip.getAttribute('id'));\n    const {\n      container\n    } = this._config;\n    if (!this._element.ownerDocument.documentElement.contains(this.tip)) {\n      container.append(tip);\n      EventHandler.trigger(this._element, this.constructor.eventName(EVENT_INSERTED));\n    }\n    this._popper = this._createPopper(tip);\n    tip.classList.add(CLASS_NAME_SHOW$2);\n\n    // If this is a touch-enabled device we add extra\n    // empty mouseover listeners to the body's immediate children;\n    // only needed because of broken event delegation on iOS\n    // https://www.quirksmode.org/blog/archives/2014/02/mouse_event_bub.html\n    if ('ontouchstart' in document.documentElement) {\n      for (const element of [].concat(...document.body.children)) {\n        EventHandler.on(element, 'mouseover', noop);\n      }\n    }\n    const complete = () => {\n      EventHandler.trigger(this._element, this.constructor.eventName(EVENT_SHOWN$2));\n      if (this._isHovered === false) {\n        this._leave();\n      }\n      this._isHovered = false;\n    };\n    this._queueCallback(complete, this.tip, this._isAnimated());\n  }\n  hide() {\n    if (!this._isShown()) {\n      return;\n    }\n    const hideEvent = EventHandler.trigger(this._element, this.constructor.eventName(EVENT_HIDE$2));\n    if (hideEvent.defaultPrevented) {\n      return;\n    }\n    const tip = this._getTipElement();\n    tip.classList.remove(CLASS_NAME_SHOW$2);\n\n    // If this is a touch-enabled device we remove the extra\n    // empty mouseover listeners we added for iOS support\n    if ('ontouchstart' in document.documentElement) {\n      for (const element of [].concat(...document.body.children)) {\n        EventHandler.off(element, 'mouseover', noop);\n      }\n    }\n    this._activeTrigger[TRIGGER_CLICK] = false;\n    this._activeTrigger[TRIGGER_FOCUS] = false;\n    this._activeTrigger[TRIGGER_HOVER] = false;\n    this._isHovered = null; // it is a trick to support manual triggering\n\n    const complete = () => {\n      if (this._isWithActiveTrigger()) {\n        return;\n      }\n      if (!this._isHovered) {\n        this._disposePopper();\n      }\n      this._element.removeAttribute('aria-describedby');\n      EventHandler.trigger(this._element, this.constructor.eventName(EVENT_HIDDEN$2));\n    };\n    this._queueCallback(complete, this.tip, this._isAnimated());\n  }\n  update() {\n    if (this._popper) {\n      this._popper.update();\n    }\n  }\n\n  // Protected\n  _isWithContent() {\n    return Boolean(this._getTitle());\n  }\n  _getTipElement() {\n    if (!this.tip) {\n      this.tip = this._createTipElement(this._newContent || this._getContentForTemplate());\n    }\n    return this.tip;\n  }\n  _createTipElement(content) {\n    const tip = this._getTemplateFactory(content).toHtml();\n\n    // TODO: remove this check in v6\n    if (!tip) {\n      return null;\n    }\n    tip.classList.remove(CLASS_NAME_FADE$2, CLASS_NAME_SHOW$2);\n    // TODO: v6 the following can be achieved with CSS only\n    tip.classList.add(`bs-${this.constructor.NAME}-auto`);\n    const tipId = getUID(this.constructor.NAME).toString();\n    tip.setAttribute('id', tipId);\n    if (this._isAnimated()) {\n      tip.classList.add(CLASS_NAME_FADE$2);\n    }\n    return tip;\n  }\n  setContent(content) {\n    this._newContent = content;\n    if (this._isShown()) {\n      this._disposePopper();\n      this.show();\n    }\n  }\n  _getTemplateFactory(content) {\n    if (this._templateFactory) {\n      this._templateFactory.changeContent(content);\n    } else {\n      this._templateFactory = new TemplateFactory({\n        ...this._config,\n        // the `content` var has to be after `this._config`\n        // to override config.content in case of popover\n        content,\n        extraClass: this._resolvePossibleFunction(this._config.customClass)\n      });\n    }\n    return this._templateFactory;\n  }\n  _getContentForTemplate() {\n    return {\n      [SELECTOR_TOOLTIP_INNER]: this._getTitle()\n    };\n  }\n  _getTitle() {\n    return this._resolvePossibleFunction(this._config.title) || this._element.getAttribute('data-bs-original-title');\n  }\n\n  // Private\n  _initializeOnDelegatedTarget(event) {\n    return this.constructor.getOrCreateInstance(event.delegateTarget, this._getDelegateConfig());\n  }\n  _isAnimated() {\n    return this._config.animation || this.tip && this.tip.classList.contains(CLASS_NAME_FADE$2);\n  }\n  _isShown() {\n    return this.tip && this.tip.classList.contains(CLASS_NAME_SHOW$2);\n  }\n  _createPopper(tip) {\n    const placement = execute(this._config.placement, [this, tip, this._element]);\n    const attachment = AttachmentMap[placement.toUpperCase()];\n    return Popper.createPopper(this._element, tip, this._getPopperConfig(attachment));\n  }\n  _getOffset() {\n    const {\n      offset\n    } = this._config;\n    if (typeof offset === 'string') {\n      return offset.split(',').map(value => Number.parseInt(value, 10));\n    }\n    if (typeof offset === 'function') {\n      return popperData => offset(popperData, this._element);\n    }\n    return offset;\n  }\n  _resolvePossibleFunction(arg) {\n    return execute(arg, [this._element]);\n  }\n  _getPopperConfig(attachment) {\n    const defaultBsPopperConfig = {\n      placement: attachment,\n      modifiers: [{\n        name: 'flip',\n        options: {\n          fallbackPlacements: this._config.fallbackPlacements\n        }\n      }, {\n        name: 'offset',\n        options: {\n          offset: this._getOffset()\n        }\n      }, {\n        name: 'preventOverflow',\n        options: {\n          boundary: this._config.boundary\n        }\n      }, {\n        name: 'arrow',\n        options: {\n          element: `.${this.constructor.NAME}-arrow`\n        }\n      }, {\n        name: 'preSetPlacement',\n        enabled: true,\n        phase: 'beforeMain',\n        fn: data => {\n          // Pre-set Popper's placement attribute in order to read the arrow sizes properly.\n          // Otherwise, Popper mixes up the width and height dimensions since the initial arrow style is for top placement\n          this._getTipElement().setAttribute('data-popper-placement', data.state.placement);\n        }\n      }]\n    };\n    return {\n      ...defaultBsPopperConfig,\n      ...execute(this._config.popperConfig, [defaultBsPopperConfig])\n    };\n  }\n  _setListeners() {\n    const triggers = this._config.trigger.split(' ');\n    for (const trigger of triggers) {\n      if (trigger === 'click') {\n        EventHandler.on(this._element, this.constructor.eventName(EVENT_CLICK$1), this._config.selector, event => {\n          const context = this._initializeOnDelegatedTarget(event);\n          context.toggle();\n        });\n      } else if (trigger !== TRIGGER_MANUAL) {\n        const eventIn = trigger === TRIGGER_HOVER ? this.constructor.eventName(EVENT_MOUSEENTER) : this.constructor.eventName(EVENT_FOCUSIN$1);\n        const eventOut = trigger === TRIGGER_HOVER ? this.constructor.eventName(EVENT_MOUSELEAVE) : this.constructor.eventName(EVENT_FOCUSOUT$1);\n        EventHandler.on(this._element, eventIn, this._config.selector, event => {\n          const context = this._initializeOnDelegatedTarget(event);\n          context._activeTrigger[event.type === 'focusin' ? TRIGGER_FOCUS : TRIGGER_HOVER] = true;\n          context._enter();\n        });\n        EventHandler.on(this._element, eventOut, this._config.selector, event => {\n          const context = this._initializeOnDelegatedTarget(event);\n          context._activeTrigger[event.type === 'focusout' ? TRIGGER_FOCUS : TRIGGER_HOVER] = context._element.contains(event.relatedTarget);\n          context._leave();\n        });\n      }\n    }\n    this._hideModalHandler = () => {\n      if (this._element) {\n        this.hide();\n      }\n    };\n    EventHandler.on(this._element.closest(SELECTOR_MODAL), EVENT_MODAL_HIDE, this._hideModalHandler);\n  }\n  _fixTitle() {\n    const title = this._element.getAttribute('title');\n    if (!title) {\n      return;\n    }\n    if (!this._element.getAttribute('aria-label') && !this._element.textContent.trim()) {\n      this._element.setAttribute('aria-label', title);\n    }\n    this._element.setAttribute('data-bs-original-title', title); // DO NOT USE IT. Is only for backwards compatibility\n    this._element.removeAttribute('title');\n  }\n  _enter() {\n    if (this._isShown() || this._isHovered) {\n      this._isHovered = true;\n      return;\n    }\n    this._isHovered = true;\n    this._setTimeout(() => {\n      if (this._isHovered) {\n        this.show();\n      }\n    }, this._config.delay.show);\n  }\n  _leave() {\n    if (this._isWithActiveTrigger()) {\n      return;\n    }\n    this._isHovered = false;\n    this._setTimeout(() => {\n      if (!this._isHovered) {\n        this.hide();\n      }\n    }, this._config.delay.hide);\n  }\n  _setTimeout(handler, timeout) {\n    clearTimeout(this._timeout);\n    this._timeout = setTimeout(handler, timeout);\n  }\n  _isWithActiveTrigger() {\n    return Object.values(this._activeTrigger).includes(true);\n  }\n  _getConfig(config) {\n    const dataAttributes = Manipulator.getDataAttributes(this._element);\n    for (const dataAttribute of Object.keys(dataAttributes)) {\n      if (DISALLOWED_ATTRIBUTES.has(dataAttribute)) {\n        delete dataAttributes[dataAttribute];\n      }\n    }\n    config = {\n      ...dataAttributes,\n      ...(typeof config === 'object' && config ? config : {})\n    };\n    config = this._mergeConfigObj(config);\n    config = this._configAfterMerge(config);\n    this._typeCheckConfig(config);\n    return config;\n  }\n  _configAfterMerge(config) {\n    config.container = config.container === false ? document.body : getElement(config.container);\n    if (typeof config.delay === 'number') {\n      config.delay = {\n        show: config.delay,\n        hide: config.delay\n      };\n    }\n    if (typeof config.title === 'number') {\n      config.title = config.title.toString();\n    }\n    if (typeof config.content === 'number') {\n      config.content = config.content.toString();\n    }\n    return config;\n  }\n  _getDelegateConfig() {\n    const config = {};\n    for (const [key, value] of Object.entries(this._config)) {\n      if (this.constructor.Default[key] !== value) {\n        config[key] = value;\n      }\n    }\n    config.selector = false;\n    config.trigger = 'manual';\n\n    // In the future can be replaced with:\n    // const keysWithDifferentValues = Object.entries(this._config).filter(entry => this.constructor.Default[entry[0]] !== this._config[entry[0]])\n    // `Object.fromEntries(keysWithDifferentValues)`\n    return config;\n  }\n  _disposePopper() {\n    if (this._popper) {\n      this._popper.destroy();\n      this._popper = null;\n    }\n    if (this.tip) {\n      this.tip.remove();\n      this.tip = null;\n    }\n  }\n\n  // Static\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = Tooltip.getOrCreateInstance(this, config);\n      if (typeof config !== 'string') {\n        return;\n      }\n      if (typeof data[config] === 'undefined') {\n        throw new TypeError(`No method named \"${config}\"`);\n      }\n      data[config]();\n    });\n  }\n}\n\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(Tooltip);\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap popover.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\n\n/**\n * Constants\n */\n\nconst NAME$3 = 'popover';\nconst SELECTOR_TITLE = '.popover-header';\nconst SELECTOR_CONTENT = '.popover-body';\nconst Default$2 = {\n  ...Tooltip.Default,\n  content: '',\n  offset: [0, 8],\n  placement: 'right',\n  template: '<div class=\"popover\" role=\"tooltip\">' + '<div class=\"popover-arrow\"></div>' + '<h3 class=\"popover-header\"></h3>' + '<div class=\"popover-body\"></div>' + '</div>',\n  trigger: 'click'\n};\nconst DefaultType$2 = {\n  ...Tooltip.DefaultType,\n  content: '(null|string|element|function)'\n};\n\n/**\n * Class definition\n */\n\nclass Popover extends Tooltip {\n  // Getters\n  static get Default() {\n    return Default$2;\n  }\n  static get DefaultType() {\n    return DefaultType$2;\n  }\n  static get NAME() {\n    return NAME$3;\n  }\n\n  // Overrides\n  _isWithContent() {\n    return this._getTitle() || this._getContent();\n  }\n\n  // Private\n  _getContentForTemplate() {\n    return {\n      [SELECTOR_TITLE]: this._getTitle(),\n      [SELECTOR_CONTENT]: this._getContent()\n    };\n  }\n  _getContent() {\n    return this._resolvePossibleFunction(this._config.content);\n  }\n\n  // Static\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = Popover.getOrCreateInstance(this, config);\n      if (typeof config !== 'string') {\n        return;\n      }\n      if (typeof data[config] === 'undefined') {\n        throw new TypeError(`No method named \"${config}\"`);\n      }\n      data[config]();\n    });\n  }\n}\n\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(Popover);\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap scrollspy.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\n\n/**\n * Constants\n */\n\nconst NAME$2 = 'scrollspy';\nconst DATA_KEY$2 = 'bs.scrollspy';\nconst EVENT_KEY$2 = `.${DATA_KEY$2}`;\nconst DATA_API_KEY = '.data-api';\nconst EVENT_ACTIVATE = `activate${EVENT_KEY$2}`;\nconst EVENT_CLICK = `click${EVENT_KEY$2}`;\nconst EVENT_LOAD_DATA_API$1 = `load${EVENT_KEY$2}${DATA_API_KEY}`;\nconst CLASS_NAME_DROPDOWN_ITEM = 'dropdown-item';\nconst CLASS_NAME_ACTIVE$1 = 'active';\nconst SELECTOR_DATA_SPY = '[data-bs-spy=\"scroll\"]';\nconst SELECTOR_TARGET_LINKS = '[href]';\nconst SELECTOR_NAV_LIST_GROUP = '.nav, .list-group';\nconst SELECTOR_NAV_LINKS = '.nav-link';\nconst SELECTOR_NAV_ITEMS = '.nav-item';\nconst SELECTOR_LIST_ITEMS = '.list-group-item';\nconst SELECTOR_LINK_ITEMS = `${SELECTOR_NAV_LINKS}, ${SELECTOR_NAV_ITEMS} > ${SELECTOR_NAV_LINKS}, ${SELECTOR_LIST_ITEMS}`;\nconst SELECTOR_DROPDOWN = '.dropdown';\nconst SELECTOR_DROPDOWN_TOGGLE$1 = '.dropdown-toggle';\nconst Default$1 = {\n  offset: null,\n  // TODO: v6 @deprecated, keep it for backwards compatibility reasons\n  rootMargin: '0px 0px -25%',\n  smoothScroll: false,\n  target: null,\n  threshold: [0.1, 0.5, 1]\n};\nconst DefaultType$1 = {\n  offset: '(number|null)',\n  // TODO v6 @deprecated, keep it for backwards compatibility reasons\n  rootMargin: 'string',\n  smoothScroll: 'boolean',\n  target: 'element',\n  threshold: 'array'\n};\n\n/**\n * Class definition\n */\n\nclass ScrollSpy extends BaseComponent {\n  constructor(element, config) {\n    super(element, config);\n\n    // this._element is the observablesContainer and config.target the menu links wrapper\n    this._targetLinks = new Map();\n    this._observableSections = new Map();\n    this._rootElement = getComputedStyle(this._element).overflowY === 'visible' ? null : this._element;\n    this._activeTarget = null;\n    this._observer = null;\n    this._previousScrollData = {\n      visibleEntryTop: 0,\n      parentScrollTop: 0\n    };\n    this.refresh(); // initialize\n  }\n\n  // Getters\n  static get Default() {\n    return Default$1;\n  }\n  static get DefaultType() {\n    return DefaultType$1;\n  }\n  static get NAME() {\n    return NAME$2;\n  }\n\n  // Public\n  refresh() {\n    this._initializeTargetsAndObservables();\n    this._maybeEnableSmoothScroll();\n    if (this._observer) {\n      this._observer.disconnect();\n    } else {\n      this._observer = this._getNewObserver();\n    }\n    for (const section of this._observableSections.values()) {\n      this._observer.observe(section);\n    }\n  }\n  dispose() {\n    this._observer.disconnect();\n    super.dispose();\n  }\n\n  // Private\n  _configAfterMerge(config) {\n    // TODO: on v6 target should be given explicitly & remove the {target: 'ss-target'} case\n    config.target = getElement(config.target) || document.body;\n\n    // TODO: v6 Only for backwards compatibility reasons. Use rootMargin only\n    config.rootMargin = config.offset ? `${config.offset}px 0px -30%` : config.rootMargin;\n    if (typeof config.threshold === 'string') {\n      config.threshold = config.threshold.split(',').map(value => Number.parseFloat(value));\n    }\n    return config;\n  }\n  _maybeEnableSmoothScroll() {\n    if (!this._config.smoothScroll) {\n      return;\n    }\n\n    // unregister any previous listeners\n    EventHandler.off(this._config.target, EVENT_CLICK);\n    EventHandler.on(this._config.target, EVENT_CLICK, SELECTOR_TARGET_LINKS, event => {\n      const observableSection = this._observableSections.get(event.target.hash);\n      if (observableSection) {\n        event.preventDefault();\n        const root = this._rootElement || window;\n        const height = observableSection.offsetTop - this._element.offsetTop;\n        if (root.scrollTo) {\n          root.scrollTo({\n            top: height,\n            behavior: 'smooth'\n          });\n          return;\n        }\n\n        // Chrome 60 doesn't support `scrollTo`\n        root.scrollTop = height;\n      }\n    });\n  }\n  _getNewObserver() {\n    const options = {\n      root: this._rootElement,\n      threshold: this._config.threshold,\n      rootMargin: this._config.rootMargin\n    };\n    return new IntersectionObserver(entries => this._observerCallback(entries), options);\n  }\n\n  // The logic of selection\n  _observerCallback(entries) {\n    const targetElement = entry => this._targetLinks.get(`#${entry.target.id}`);\n    const activate = entry => {\n      this._previousScrollData.visibleEntryTop = entry.target.offsetTop;\n      this._process(targetElement(entry));\n    };\n    const parentScrollTop = (this._rootElement || document.documentElement).scrollTop;\n    const userScrollsDown = parentScrollTop >= this._previousScrollData.parentScrollTop;\n    this._previousScrollData.parentScrollTop = parentScrollTop;\n    for (const entry of entries) {\n      if (!entry.isIntersecting) {\n        this._activeTarget = null;\n        this._clearActiveClass(targetElement(entry));\n        continue;\n      }\n      const entryIsLowerThanPrevious = entry.target.offsetTop >= this._previousScrollData.visibleEntryTop;\n      // if we are scrolling down, pick the bigger offsetTop\n      if (userScrollsDown && entryIsLowerThanPrevious) {\n        activate(entry);\n        // if parent isn't scrolled, let's keep the first visible item, breaking the iteration\n        if (!parentScrollTop) {\n          return;\n        }\n        continue;\n      }\n\n      // if we are scrolling up, pick the smallest offsetTop\n      if (!userScrollsDown && !entryIsLowerThanPrevious) {\n        activate(entry);\n      }\n    }\n  }\n  _initializeTargetsAndObservables() {\n    this._targetLinks = new Map();\n    this._observableSections = new Map();\n    const targetLinks = SelectorEngine.find(SELECTOR_TARGET_LINKS, this._config.target);\n    for (const anchor of targetLinks) {\n      // ensure that the anchor has an id and is not disabled\n      if (!anchor.hash || isDisabled(anchor)) {\n        continue;\n      }\n      const observableSection = SelectorEngine.findOne(decodeURI(anchor.hash), this._element);\n\n      // ensure that the observableSection exists & is visible\n      if (isVisible(observableSection)) {\n        this._targetLinks.set(decodeURI(anchor.hash), anchor);\n        this._observableSections.set(anchor.hash, observableSection);\n      }\n    }\n  }\n  _process(target) {\n    if (this._activeTarget === target) {\n      return;\n    }\n    this._clearActiveClass(this._config.target);\n    this._activeTarget = target;\n    target.classList.add(CLASS_NAME_ACTIVE$1);\n    this._activateParents(target);\n    EventHandler.trigger(this._element, EVENT_ACTIVATE, {\n      relatedTarget: target\n    });\n  }\n  _activateParents(target) {\n    // Activate dropdown parents\n    if (target.classList.contains(CLASS_NAME_DROPDOWN_ITEM)) {\n      SelectorEngine.findOne(SELECTOR_DROPDOWN_TOGGLE$1, target.closest(SELECTOR_DROPDOWN)).classList.add(CLASS_NAME_ACTIVE$1);\n      return;\n    }\n    for (const listGroup of SelectorEngine.parents(target, SELECTOR_NAV_LIST_GROUP)) {\n      // Set triggered links parents as active\n      // With both <ul> and <nav> markup a parent is the previous sibling of any nav ancestor\n      for (const item of SelectorEngine.prev(listGroup, SELECTOR_LINK_ITEMS)) {\n        item.classList.add(CLASS_NAME_ACTIVE$1);\n      }\n    }\n  }\n  _clearActiveClass(parent) {\n    parent.classList.remove(CLASS_NAME_ACTIVE$1);\n    const activeNodes = SelectorEngine.find(`${SELECTOR_TARGET_LINKS}.${CLASS_NAME_ACTIVE$1}`, parent);\n    for (const node of activeNodes) {\n      node.classList.remove(CLASS_NAME_ACTIVE$1);\n    }\n  }\n\n  // Static\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = ScrollSpy.getOrCreateInstance(this, config);\n      if (typeof config !== 'string') {\n        return;\n      }\n      if (data[config] === undefined || config.startsWith('_') || config === 'constructor') {\n        throw new TypeError(`No method named \"${config}\"`);\n      }\n      data[config]();\n    });\n  }\n}\n\n/**\n * Data API implementation\n */\n\nEventHandler.on(window, EVENT_LOAD_DATA_API$1, () => {\n  for (const spy of SelectorEngine.find(SELECTOR_DATA_SPY)) {\n    ScrollSpy.getOrCreateInstance(spy);\n  }\n});\n\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(ScrollSpy);\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap tab.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\n\n/**\n * Constants\n */\n\nconst NAME$1 = 'tab';\nconst DATA_KEY$1 = 'bs.tab';\nconst EVENT_KEY$1 = `.${DATA_KEY$1}`;\nconst EVENT_HIDE$1 = `hide${EVENT_KEY$1}`;\nconst EVENT_HIDDEN$1 = `hidden${EVENT_KEY$1}`;\nconst EVENT_SHOW$1 = `show${EVENT_KEY$1}`;\nconst EVENT_SHOWN$1 = `shown${EVENT_KEY$1}`;\nconst EVENT_CLICK_DATA_API = `click${EVENT_KEY$1}`;\nconst EVENT_KEYDOWN = `keydown${EVENT_KEY$1}`;\nconst EVENT_LOAD_DATA_API = `load${EVENT_KEY$1}`;\nconst ARROW_LEFT_KEY = 'ArrowLeft';\nconst ARROW_RIGHT_KEY = 'ArrowRight';\nconst ARROW_UP_KEY = 'ArrowUp';\nconst ARROW_DOWN_KEY = 'ArrowDown';\nconst HOME_KEY = 'Home';\nconst END_KEY = 'End';\nconst CLASS_NAME_ACTIVE = 'active';\nconst CLASS_NAME_FADE$1 = 'fade';\nconst CLASS_NAME_SHOW$1 = 'show';\nconst CLASS_DROPDOWN = 'dropdown';\nconst SELECTOR_DROPDOWN_TOGGLE = '.dropdown-toggle';\nconst SELECTOR_DROPDOWN_MENU = '.dropdown-menu';\nconst NOT_SELECTOR_DROPDOWN_TOGGLE = `:not(${SELECTOR_DROPDOWN_TOGGLE})`;\nconst SELECTOR_TAB_PANEL = '.list-group, .nav, [role=\"tablist\"]';\nconst SELECTOR_OUTER = '.nav-item, .list-group-item';\nconst SELECTOR_INNER = `.nav-link${NOT_SELECTOR_DROPDOWN_TOGGLE}, .list-group-item${NOT_SELECTOR_DROPDOWN_TOGGLE}, [role=\"tab\"]${NOT_SELECTOR_DROPDOWN_TOGGLE}`;\nconst SELECTOR_DATA_TOGGLE = '[data-bs-toggle=\"tab\"], [data-bs-toggle=\"pill\"], [data-bs-toggle=\"list\"]'; // TODO: could only be `tab` in v6\nconst SELECTOR_INNER_ELEM = `${SELECTOR_INNER}, ${SELECTOR_DATA_TOGGLE}`;\nconst SELECTOR_DATA_TOGGLE_ACTIVE = `.${CLASS_NAME_ACTIVE}[data-bs-toggle=\"tab\"], .${CLASS_NAME_ACTIVE}[data-bs-toggle=\"pill\"], .${CLASS_NAME_ACTIVE}[data-bs-toggle=\"list\"]`;\n\n/**\n * Class definition\n */\n\nclass Tab extends BaseComponent {\n  constructor(element) {\n    super(element);\n    this._parent = this._element.closest(SELECTOR_TAB_PANEL);\n    if (!this._parent) {\n      return;\n      // TODO: should throw exception in v6\n      // throw new TypeError(`${element.outerHTML} has not a valid parent ${SELECTOR_INNER_ELEM}`)\n    }\n\n    // Set up initial aria attributes\n    this._setInitialAttributes(this._parent, this._getChildren());\n    EventHandler.on(this._element, EVENT_KEYDOWN, event => this._keydown(event));\n  }\n\n  // Getters\n  static get NAME() {\n    return NAME$1;\n  }\n\n  // Public\n  show() {\n    // Shows this elem and deactivate the active sibling if exists\n    const innerElem = this._element;\n    if (this._elemIsActive(innerElem)) {\n      return;\n    }\n\n    // Search for active tab on same parent to deactivate it\n    const active = this._getActiveElem();\n    const hideEvent = active ? EventHandler.trigger(active, EVENT_HIDE$1, {\n      relatedTarget: innerElem\n    }) : null;\n    const showEvent = EventHandler.trigger(innerElem, EVENT_SHOW$1, {\n      relatedTarget: active\n    });\n    if (showEvent.defaultPrevented || hideEvent && hideEvent.defaultPrevented) {\n      return;\n    }\n    this._deactivate(active, innerElem);\n    this._activate(innerElem, active);\n  }\n\n  // Private\n  _activate(element, relatedElem) {\n    if (!element) {\n      return;\n    }\n    element.classList.add(CLASS_NAME_ACTIVE);\n    this._activate(SelectorEngine.getElementFromSelector(element)); // Search and activate/show the proper section\n\n    const complete = () => {\n      if (element.getAttribute('role') !== 'tab') {\n        element.classList.add(CLASS_NAME_SHOW$1);\n        return;\n      }\n      element.removeAttribute('tabindex');\n      element.setAttribute('aria-selected', true);\n      this._toggleDropDown(element, true);\n      EventHandler.trigger(element, EVENT_SHOWN$1, {\n        relatedTarget: relatedElem\n      });\n    };\n    this._queueCallback(complete, element, element.classList.contains(CLASS_NAME_FADE$1));\n  }\n  _deactivate(element, relatedElem) {\n    if (!element) {\n      return;\n    }\n    element.classList.remove(CLASS_NAME_ACTIVE);\n    element.blur();\n    this._deactivate(SelectorEngine.getElementFromSelector(element)); // Search and deactivate the shown section too\n\n    const complete = () => {\n      if (element.getAttribute('role') !== 'tab') {\n        element.classList.remove(CLASS_NAME_SHOW$1);\n        return;\n      }\n      element.setAttribute('aria-selected', false);\n      element.setAttribute('tabindex', '-1');\n      this._toggleDropDown(element, false);\n      EventHandler.trigger(element, EVENT_HIDDEN$1, {\n        relatedTarget: relatedElem\n      });\n    };\n    this._queueCallback(complete, element, element.classList.contains(CLASS_NAME_FADE$1));\n  }\n  _keydown(event) {\n    if (![ARROW_LEFT_KEY, ARROW_RIGHT_KEY, ARROW_UP_KEY, ARROW_DOWN_KEY, HOME_KEY, END_KEY].includes(event.key)) {\n      return;\n    }\n    event.stopPropagation(); // stopPropagation/preventDefault both added to support up/down keys without scrolling the page\n    event.preventDefault();\n    const children = this._getChildren().filter(element => !isDisabled(element));\n    let nextActiveElement;\n    if ([HOME_KEY, END_KEY].includes(event.key)) {\n      nextActiveElement = children[event.key === HOME_KEY ? 0 : children.length - 1];\n    } else {\n      const isNext = [ARROW_RIGHT_KEY, ARROW_DOWN_KEY].includes(event.key);\n      nextActiveElement = getNextActiveElement(children, event.target, isNext, true);\n    }\n    if (nextActiveElement) {\n      nextActiveElement.focus({\n        preventScroll: true\n      });\n      Tab.getOrCreateInstance(nextActiveElement).show();\n    }\n  }\n  _getChildren() {\n    // collection of inner elements\n    return SelectorEngine.find(SELECTOR_INNER_ELEM, this._parent);\n  }\n  _getActiveElem() {\n    return this._getChildren().find(child => this._elemIsActive(child)) || null;\n  }\n  _setInitialAttributes(parent, children) {\n    this._setAttributeIfNotExists(parent, 'role', 'tablist');\n    for (const child of children) {\n      this._setInitialAttributesOnChild(child);\n    }\n  }\n  _setInitialAttributesOnChild(child) {\n    child = this._getInnerElement(child);\n    const isActive = this._elemIsActive(child);\n    const outerElem = this._getOuterElement(child);\n    child.setAttribute('aria-selected', isActive);\n    if (outerElem !== child) {\n      this._setAttributeIfNotExists(outerElem, 'role', 'presentation');\n    }\n    if (!isActive) {\n      child.setAttribute('tabindex', '-1');\n    }\n    this._setAttributeIfNotExists(child, 'role', 'tab');\n\n    // set attributes to the related panel too\n    this._setInitialAttributesOnTargetPanel(child);\n  }\n  _setInitialAttributesOnTargetPanel(child) {\n    const target = SelectorEngine.getElementFromSelector(child);\n    if (!target) {\n      return;\n    }\n    this._setAttributeIfNotExists(target, 'role', 'tabpanel');\n    if (child.id) {\n      this._setAttributeIfNotExists(target, 'aria-labelledby', `${child.id}`);\n    }\n  }\n  _toggleDropDown(element, open) {\n    const outerElem = this._getOuterElement(element);\n    if (!outerElem.classList.contains(CLASS_DROPDOWN)) {\n      return;\n    }\n    const toggle = (selector, className) => {\n      const element = SelectorEngine.findOne(selector, outerElem);\n      if (element) {\n        element.classList.toggle(className, open);\n      }\n    };\n    toggle(SELECTOR_DROPDOWN_TOGGLE, CLASS_NAME_ACTIVE);\n    toggle(SELECTOR_DROPDOWN_MENU, CLASS_NAME_SHOW$1);\n    outerElem.setAttribute('aria-expanded', open);\n  }\n  _setAttributeIfNotExists(element, attribute, value) {\n    if (!element.hasAttribute(attribute)) {\n      element.setAttribute(attribute, value);\n    }\n  }\n  _elemIsActive(elem) {\n    return elem.classList.contains(CLASS_NAME_ACTIVE);\n  }\n\n  // Try to get the inner element (usually the .nav-link)\n  _getInnerElement(elem) {\n    return elem.matches(SELECTOR_INNER_ELEM) ? elem : SelectorEngine.findOne(SELECTOR_INNER_ELEM, elem);\n  }\n\n  // Try to get the outer element (usually the .nav-item)\n  _getOuterElement(elem) {\n    return elem.closest(SELECTOR_OUTER) || elem;\n  }\n\n  // Static\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = Tab.getOrCreateInstance(this);\n      if (typeof config !== 'string') {\n        return;\n      }\n      if (data[config] === undefined || config.startsWith('_') || config === 'constructor') {\n        throw new TypeError(`No method named \"${config}\"`);\n      }\n      data[config]();\n    });\n  }\n}\n\n/**\n * Data API implementation\n */\n\nEventHandler.on(document, EVENT_CLICK_DATA_API, SELECTOR_DATA_TOGGLE, function (event) {\n  if (['A', 'AREA'].includes(this.tagName)) {\n    event.preventDefault();\n  }\n  if (isDisabled(this)) {\n    return;\n  }\n  Tab.getOrCreateInstance(this).show();\n});\n\n/**\n * Initialize on focus\n */\nEventHandler.on(window, EVENT_LOAD_DATA_API, () => {\n  for (const element of SelectorEngine.find(SELECTOR_DATA_TOGGLE_ACTIVE)) {\n    Tab.getOrCreateInstance(element);\n  }\n});\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(Tab);\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap toast.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\n\n/**\n * Constants\n */\n\nconst NAME = 'toast';\nconst DATA_KEY = 'bs.toast';\nconst EVENT_KEY = `.${DATA_KEY}`;\nconst EVENT_MOUSEOVER = `mouseover${EVENT_KEY}`;\nconst EVENT_MOUSEOUT = `mouseout${EVENT_KEY}`;\nconst EVENT_FOCUSIN = `focusin${EVENT_KEY}`;\nconst EVENT_FOCUSOUT = `focusout${EVENT_KEY}`;\nconst EVENT_HIDE = `hide${EVENT_KEY}`;\nconst EVENT_HIDDEN = `hidden${EVENT_KEY}`;\nconst EVENT_SHOW = `show${EVENT_KEY}`;\nconst EVENT_SHOWN = `shown${EVENT_KEY}`;\nconst CLASS_NAME_FADE = 'fade';\nconst CLASS_NAME_HIDE = 'hide'; // @deprecated - kept here only for backwards compatibility\nconst CLASS_NAME_SHOW = 'show';\nconst CLASS_NAME_SHOWING = 'showing';\nconst DefaultType = {\n  animation: 'boolean',\n  autohide: 'boolean',\n  delay: 'number'\n};\nconst Default = {\n  animation: true,\n  autohide: true,\n  delay: 5000\n};\n\n/**\n * Class definition\n */\n\nclass Toast extends BaseComponent {\n  constructor(element, config) {\n    super(element, config);\n    this._timeout = null;\n    this._hasMouseInteraction = false;\n    this._hasKeyboardInteraction = false;\n    this._setListeners();\n  }\n\n  // Getters\n  static get Default() {\n    return Default;\n  }\n  static get DefaultType() {\n    return DefaultType;\n  }\n  static get NAME() {\n    return NAME;\n  }\n\n  // Public\n  show() {\n    const showEvent = EventHandler.trigger(this._element, EVENT_SHOW);\n    if (showEvent.defaultPrevented) {\n      return;\n    }\n    this._clearTimeout();\n    if (this._config.animation) {\n      this._element.classList.add(CLASS_NAME_FADE);\n    }\n    const complete = () => {\n      this._element.classList.remove(CLASS_NAME_SHOWING);\n      EventHandler.trigger(this._element, EVENT_SHOWN);\n      this._maybeScheduleHide();\n    };\n    this._element.classList.remove(CLASS_NAME_HIDE); // @deprecated\n    reflow(this._element);\n    this._element.classList.add(CLASS_NAME_SHOW, CLASS_NAME_SHOWING);\n    this._queueCallback(complete, this._element, this._config.animation);\n  }\n  hide() {\n    if (!this.isShown()) {\n      return;\n    }\n    const hideEvent = EventHandler.trigger(this._element, EVENT_HIDE);\n    if (hideEvent.defaultPrevented) {\n      return;\n    }\n    const complete = () => {\n      this._element.classList.add(CLASS_NAME_HIDE); // @deprecated\n      this._element.classList.remove(CLASS_NAME_SHOWING, CLASS_NAME_SHOW);\n      EventHandler.trigger(this._element, EVENT_HIDDEN);\n    };\n    this._element.classList.add(CLASS_NAME_SHOWING);\n    this._queueCallback(complete, this._element, this._config.animation);\n  }\n  dispose() {\n    this._clearTimeout();\n    if (this.isShown()) {\n      this._element.classList.remove(CLASS_NAME_SHOW);\n    }\n    super.dispose();\n  }\n  isShown() {\n    return this._element.classList.contains(CLASS_NAME_SHOW);\n  }\n\n  // Private\n\n  _maybeScheduleHide() {\n    if (!this._config.autohide) {\n      return;\n    }\n    if (this._hasMouseInteraction || this._hasKeyboardInteraction) {\n      return;\n    }\n    this._timeout = setTimeout(() => {\n      this.hide();\n    }, this._config.delay);\n  }\n  _onInteraction(event, isInteracting) {\n    switch (event.type) {\n      case 'mouseover':\n      case 'mouseout':\n        {\n          this._hasMouseInteraction = isInteracting;\n          break;\n        }\n      case 'focusin':\n      case 'focusout':\n        {\n          this._hasKeyboardInteraction = isInteracting;\n          break;\n        }\n    }\n    if (isInteracting) {\n      this._clearTimeout();\n      return;\n    }\n    const nextElement = event.relatedTarget;\n    if (this._element === nextElement || this._element.contains(nextElement)) {\n      return;\n    }\n    this._maybeScheduleHide();\n  }\n  _setListeners() {\n    EventHandler.on(this._element, EVENT_MOUSEOVER, event => this._onInteraction(event, true));\n    EventHandler.on(this._element, EVENT_MOUSEOUT, event => this._onInteraction(event, false));\n    EventHandler.on(this._element, EVENT_FOCUSIN, event => this._onInteraction(event, true));\n    EventHandler.on(this._element, EVENT_FOCUSOUT, event => this._onInteraction(event, false));\n  }\n  _clearTimeout() {\n    clearTimeout(this._timeout);\n    this._timeout = null;\n  }\n\n  // Static\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = Toast.getOrCreateInstance(this, config);\n      if (typeof config === 'string') {\n        if (typeof data[config] === 'undefined') {\n          throw new TypeError(`No method named \"${config}\"`);\n        }\n        data[config](this);\n      }\n    });\n  }\n}\n\n/**\n * Data API implementation\n */\n\nenableDismissTrigger(Toast);\n\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(Toast);\n\nexport { Alert, Button, Carousel, Collapse, Dropdown, Modal, Offcanvas, Popover, ScrollSpy, Tab, Toast, Tooltip };\n//# sourceMappingURL=bootstrap.esm.js.map\n","'use strict';\r\n\r\n/**\r\n * Event categories for better organization\r\n */\r\nexport const EVENT_CATEGORIES = {\r\n    CONTENT: 'content',\r\n    BLOCK: 'block',\r\n    EDITOR: 'editor',\r\n    TOOLBAR: 'toolbar',\r\n    USER: 'user'\r\n};\r\n\r\n/**\r\n * Structured event types\r\n */\r\nexport const EVENTS = {\r\n    // Content Events (debounced)\r\n    CONTENT_CHANGED: 'content.changed',\r\n    CONTENT_SAVED: 'content.saved',\r\n    \r\n    // Block Events\r\n    BLOCK_CREATED: 'block.created',\r\n    BLOCK_DELETED: 'block.deleted',\r\n    BLOCK_DESTROYED: 'block.destroyed',\r\n    BLOCK_FOCUSED: 'block.focused',\r\n    BLOCK_ACTIVATED: 'block.activated',\r\n    BLOCK_CONTENT_CHANGED: 'block.content.changed',\r\n    BLOCK_TYPE_CHANGED: 'block.type.changed',\r\n    BLOCK_CONVERTED: 'block.converted',\r\n    \r\n    // Editor Events\r\n    EDITOR_INITIALIZED: 'editor.initialized',\r\n    EDITOR_FOCUSED: 'editor.focused',\r\n    EDITOR_BLURRED: 'editor.blurred',\r\n    EDITOR_UPDATED: 'editor.updated', // Legacy compatibility\r\n    EDITOR_DESTROYED: 'editor.destroyed',\r\n    DEBUG_MODE_CHANGED: 'editor.debug.mode.changed',\r\n    \r\n    // Toolbar Events\r\n    TOOLBAR_ACTION: 'toolbar.action',\r\n    \r\n    // User Events\r\n    USER_PASTE: 'user.paste',\r\n    USER_KEY_PRESS: 'user.keypress'\r\n};\r\n\r\n/**\r\n * Enhanced Event Emitter with debouncing and throttling support\r\n * \r\n * @example Subscribe to an event\r\n * eventEmitter.subscribe('content.changed', function(eventData) { \r\n *   console.log('Content changed:', eventData); \r\n * });\r\n *\r\n * @example Emit an event with debouncing\r\n * eventEmitter.emit('content.changed', { content: 'new content' }, { debounce: 300 });\r\n *\r\n * @example Emit an event with throttling\r\n * eventEmitter.emit('user.keypress', { key: 'a' }, { throttle: 100 });\r\n */\r\nexport class EditorEventEmitter {\r\n    constructor(options = {}) {\r\n        this.events = new Map();\r\n        this.debouncedEvents = new Map();\r\n        this.throttledEvents = new Map();\r\n        this.debug = options.debug !== undefined ? options.debug : true;\r\n    }\r\n    \r\n    /**\r\n     * Subscribe to an event\r\n     * @param {string} eventType - The event type to subscribe to\r\n     * @param {Function} callback - The callback function\r\n     * @param {Object} options - Subscription options\r\n     * @param {boolean} options.once - Fire only once\r\n     * @param {number} options.priority - Priority (higher = earlier execution)\r\n     * @returns {Object} Subscription object with unsubscribe method\r\n     */\r\n    subscribe(eventType, callback, options = {}) {\r\n        if (!this.events.has(eventType)) {\r\n            this.events.set(eventType, new Set());\r\n        }\r\n        \r\n        const wrappedCallback = {\r\n            callback,\r\n            once: options.once || false,\r\n            priority: options.priority || 0,\r\n            id: Date.now() + Math.random() // Unique identifier\r\n        };\r\n        \r\n        this.events.get(eventType).add(wrappedCallback);\r\n        \r\n        return {\r\n            unsubscribe: () => {\r\n                const listeners = this.events.get(eventType);\r\n                if (listeners) {\r\n                    listeners.delete(wrappedCallback);\r\n                    if (listeners.size === 0) {\r\n                        this.events.delete(eventType);\r\n                    }\r\n                }\r\n            }\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Emit an event\r\n     * @param {string} eventType - The event type\r\n     * @param {*} data - Event data\r\n     * @param {Object} options - Emission options\r\n     * @param {number} options.debounce - Debounce delay in ms\r\n     * @param {number} options.throttle - Throttle delay in ms\r\n     * @param {string} options.source - Event source identifier\r\n     */\r\n    emit(eventType, data = {}, options = {}) {\r\n        const eventData = {\r\n            type: eventType,\r\n            timestamp: Date.now(),\r\n            source: options.source || 'editor',\r\n            data: data\r\n        };\r\n\r\n        if (options.debounce) {\r\n            this.emitDebounced(eventType, eventData, options.debounce);\r\n        } else if (options.throttle) {\r\n            this.emitThrottled(eventType, eventData, options.throttle);\r\n        } else {\r\n            this.emitImmediate(eventType, eventData);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Emit with debouncing - delays execution until after delay has passed since last call\r\n     * @param {string} eventType - The event type\r\n     * @param {Object} eventData - Event data\r\n     * @param {number} delay - Debounce delay in ms\r\n     */\r\n    emitDebounced(eventType, eventData, delay = 300) {\r\n        if (this.debouncedEvents.has(eventType)) {\r\n            clearTimeout(this.debouncedEvents.get(eventType));\r\n        }\r\n        \r\n        const timeoutId = setTimeout(() => {\r\n            this.emitImmediate(eventType, eventData);\r\n            this.debouncedEvents.delete(eventType);\r\n        }, delay);\r\n        \r\n        this.debouncedEvents.set(eventType, timeoutId);\r\n    }\r\n\r\n    /**\r\n     * Emit with throttling - ensures function is called at most once per delay period\r\n     * @param {string} eventType - The event type\r\n     * @param {Object} eventData - Event data\r\n     * @param {number} delay - Throttle delay in ms\r\n     */\r\n    emitThrottled(eventType, eventData, delay = 100) {\r\n        const now = Date.now();\r\n        const lastCall = this.throttledEvents.get(eventType);\r\n        \r\n        if (!lastCall || now - lastCall >= delay) {\r\n            this.throttledEvents.set(eventType, now);\r\n            this.emitImmediate(eventType, eventData);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Emit immediately without any delay\r\n     * @param {string} eventType - The event type\r\n     * @param {Object} eventData - Event data\r\n     */\r\n    emitImmediate(eventType, eventData) {\r\n        const listeners = this.events.get(eventType);\r\n        if (!listeners || listeners.size === 0) return;\r\n\r\n        // Sort by priority (higher first)\r\n        const sortedListeners = Array.from(listeners)\r\n            .sort((a, b) => b.priority - a.priority);\r\n\r\n        sortedListeners.forEach(listener => {\r\n            try {\r\n                listener.callback(eventData);\r\n                \r\n                if (listener.once) {\r\n                    listeners.delete(listener);\r\n                }\r\n            } catch (error) {\r\n                console.error(`Error in event ${eventType}:`, error);\r\n            }\r\n        });\r\n\r\n        if (this.debug) {\r\n            console.log(`%c Event: ${eventType}`, 'background: #4CAF50; color: white; padding: 2px 5px;', eventData);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get event listeners count for a specific event type\r\n     * @param {string} eventType - The event type\r\n     * @returns {number} Number of listeners\r\n     */\r\n    getListenerCount(eventType) {\r\n        return this.events.get(eventType)?.size || 0;\r\n    }\r\n\r\n    /**\r\n     * Check if there are any listeners for a specific event type\r\n     * @param {string} eventType - The event type\r\n     * @returns {boolean} True if there are listeners\r\n     */\r\n    hasListeners(eventType) {\r\n        return this.getListenerCount(eventType) > 0;\r\n    }\r\n\r\n    /**\r\n     * Get all registered event types\r\n     * @returns {Array<string>} Array of event types\r\n     */\r\n    getEventTypes() {\r\n        return Array.from(this.events.keys());\r\n    }\r\n\r\n    /**\r\n     * Clear all debounced and throttled timers\r\n     */\r\n    cleanup() {\r\n        // Clear debounced timers\r\n        this.debouncedEvents.forEach(timeoutId => clearTimeout(timeoutId));\r\n        this.debouncedEvents.clear();\r\n        \r\n        // Clear throttled timestamps\r\n        this.throttledEvents.clear();\r\n        \r\n        // Remove invalid callbacks\r\n        this.events.forEach((listeners, eventType) => {\r\n            const validListeners = Array.from(listeners).filter(listener => {\r\n                try {\r\n                    return typeof listener.callback === 'function';\r\n                } catch (error) {\r\n                    return false;\r\n                }\r\n            });\r\n            \r\n            if (validListeners.length === 0) {\r\n                this.events.delete(eventType);\r\n            } else if (validListeners.length !== listeners.size) {\r\n                this.events.set(eventType, new Set(validListeners));\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Remove all event listeners\r\n     */\r\n    removeAllListeners() {\r\n        this.cleanup();\r\n        this.events.clear();\r\n    }\r\n}\r\n\r\n// Create a global instance for backward compatibility\r\nexport const eventEmitter = new EditorEventEmitter();","'use strict';\r\n\r\nimport { Toolbar } from './Toolbar.js';\r\nimport {eventEmitter, EVENTS} from \"@/utils/eventEmitter.js\";\r\n\r\nexport const ToolbarHandlers = {\r\n  /**\r\n   * Store event listeners for cleanup\r\n   */\r\n  eventListeners: new Map(),\r\n\r\n  /**\r\n   * Create a toolbar event handler with automatic event emission\r\n   * @param {string} actionName - Name of the toolbar action\r\n   * @param {Function} actionFunction - Function to execute\r\n   * @returns {Function} Enhanced event handler\r\n   */\r\n  createToolbarHandler: (actionName, actionFunction) => {\r\n    return (e) => {\r\n      e.preventDefault();\r\n      \r\n      // Emit toolbar action event\r\n      eventEmitter.emit(EVENTS.TOOLBAR_ACTION, {\r\n        action: actionName,\r\n        timestamp: Date.now(),\r\n        button: e.target\r\n      }, { source: 'toolbar.action' });\r\n      \r\n      // Execute the action\r\n      actionFunction(e);\r\n    };\r\n  },\r\n\r\n  /**\r\n   * Handles the click event for the toolbar button.\r\n   * @param {Event} event - The click event.\r\n   * @param {Object} context - The context object containing necessary data.\r\n   * @return {void}\r\n   * @throws {Error} Throws an error if the context is not provided.\r\n   * */\r\n  init: () => {\r\n    // Clear existing event listeners before adding new ones\r\n    ToolbarHandlers.cleanup();\r\n    \r\n    // Place <p> instead of <div>\r\n    document.execCommand('defaultParagraphSeparator', false, 'p');\r\n\r\n    /*\r\n    * UNDO | REDO\r\n    */\r\n\r\n    document\r\n        .querySelectorAll('.editor-toolbar-undo')\r\n        .forEach(btn => {\r\n            const handler = ToolbarHandlers.createToolbarHandler('undo', () => Toolbar.undo());\r\n            btn.addEventListener('click', handler);\r\n            ToolbarHandlers.eventListeners.set(btn, { event: 'click', handler });\r\n        });\r\n\r\n    document\r\n        .querySelectorAll('.editor-toolbar-redo')\r\n        .forEach(btn => {\r\n            const handler = ToolbarHandlers.createToolbarHandler('redo', () => Toolbar.redo());\r\n            btn.addEventListener('click', handler);\r\n            ToolbarHandlers.eventListeners.set(btn, { event: 'click', handler });\r\n        });\r\n\r\n    /*\r\n    * HEADERs | PARAGRAPH\r\n    */\r\n\r\n    document\r\n        .querySelectorAll('.editor-toolbar-header1')\r\n        .forEach(btn => {\r\n            btn.addEventListener('click', (e) => {\r\n                e.preventDefault();\r\n                Toolbar.h1();\r\n            });\r\n        });\r\n\r\n    document\r\n        .querySelectorAll('.editor-toolbar-header2')\r\n        .forEach(btn => {\r\n            btn.addEventListener('click', (e) => {\r\n                e.preventDefault();\r\n                Toolbar.h2();\r\n            });\r\n        });\r\n\r\n    document\r\n        .querySelectorAll('.editor-toolbar-header3')\r\n        .forEach(btn => {\r\n            btn.addEventListener('click', (e) => {\r\n                e.preventDefault();\r\n                Toolbar.h3();\r\n            });\r\n        });\r\n\r\n    document\r\n        .querySelectorAll('.editor-toolbar-header4')\r\n        .forEach(btn => {\r\n            btn.addEventListener('click', (e) => {\r\n                e.preventDefault();\r\n                Toolbar.h4();\r\n            });\r\n        });\r\n\r\n    document\r\n        .querySelectorAll('.editor-toolbar-header5')\r\n        .forEach(btn => {\r\n            btn.addEventListener('click', (e) => {\r\n                e.preventDefault();\r\n                Toolbar.h5();\r\n            });\r\n        });\r\n\r\n    document\r\n        .querySelectorAll('.editor-toolbar-header6')\r\n        .forEach(btn => {\r\n            btn.addEventListener('click', (e) => {\r\n                e.preventDefault();\r\n                Toolbar.h6();\r\n            });\r\n        });\r\n\r\n    document\r\n        .querySelectorAll('.editor-toolbar-paragraph')\r\n        .forEach(btn => {\r\n            btn.addEventListener('click', (e) => {\r\n                e.preventDefault();\r\n                Toolbar.paragraph();\r\n            });\r\n        });\r\n\r\n    /*\r\n    * BOLD | ITALIC | UNDERLINE | STRIKETHROUGH\r\n    */\r\n\r\n    document\r\n        .querySelectorAll('.editor-toolbar-bold')\r\n        .forEach(btn => {\r\n            btn.addEventListener('click', (e) => {\r\n                e.preventDefault();\r\n                Toolbar.bold();\r\n            });\r\n        });\r\n\r\n    document\r\n        .querySelectorAll('.editor-toolbar-italic')\r\n        .forEach(btn => {\r\n            btn.addEventListener('click', (e) => {\r\n                e.preventDefault();\r\n                Toolbar.italic();\r\n            });\r\n        });\r\n\r\n    document\r\n        .querySelectorAll('.editor-toolbar-underline')\r\n        .forEach(btn => {\r\n            btn.addEventListener('click', (e) => {\r\n                e.preventDefault();\r\n                Toolbar.underline();\r\n            });\r\n        });\r\n\r\n    document\r\n        .querySelectorAll('.editor-toolbar-strikethrough')\r\n        .forEach(btn => {\r\n            btn.addEventListener('click', (e) => {\r\n                e.preventDefault();\r\n                Toolbar.strikethrough();\r\n            });\r\n        });\r\n\r\n    /*\r\n    * UL | OL |\r\n    */\r\n\r\n    document\r\n        .querySelectorAll('.editor-toolbar-ul')\r\n        .forEach(btn => {\r\n            btn.addEventListener('click', (e) => {\r\n                e.preventDefault();\r\n                Toolbar.ul();\r\n            });\r\n        });\r\n\r\n    document\r\n        .querySelectorAll('.editor-toolbar-ol')\r\n        .forEach(btn => {\r\n            btn.addEventListener('click', (e) => {\r\n                e.preventDefault();\r\n                Toolbar.ol();\r\n            });\r\n        });\r\n\r\n    document\r\n        .querySelectorAll('.editor-toolbar-sq')\r\n        .forEach(btn => {\r\n            btn.addEventListener('click', (e) => {\r\n                e.preventDefault();\r\n                Toolbar.sq();\r\n            });\r\n        });\r\n\r\n    /*\r\n    * CODE\r\n    */\r\n\r\n    document\r\n        .querySelectorAll('.editor-toolbar-code')\r\n        .forEach(btn => {\r\n            btn.addEventListener('click', (e) => {\r\n                e.preventDefault();\r\n                Toolbar.code();\r\n            });\r\n        });\r\n\r\n    /*\r\n    * TABLE\r\n    */\r\n\r\n    document\r\n        .querySelectorAll('.editor-toolbar-table')\r\n        .forEach(btn => {\r\n            btn.addEventListener('click', (e) => {\r\n                e.preventDefault();\r\n                Toolbar.table();\r\n            });\r\n        });\r\n\r\n    /*\r\n    * TEXT | MARKDOWN | HTML\r\n    */\r\n\r\n    document\r\n        .querySelectorAll('.editor-toolbar-text')\r\n        .forEach(btn => {\r\n            btn.addEventListener('click', (e) => {\r\n                e.preventDefault();\r\n                Toolbar.text();\r\n            });\r\n        });\r\n\r\n    document\r\n        .querySelectorAll('.editor-toolbar-markdown')\r\n        .forEach(btn => {\r\n            btn.addEventListener('click', (e) => {\r\n                e.preventDefault();\r\n                Toolbar.markdown();\r\n            });\r\n        });\r\n\r\n    document\r\n        .querySelectorAll('.editor-toolbar-html')\r\n        .forEach(btn => {\r\n            const handler = (e) => {\r\n                e.preventDefault();\r\n                Toolbar.html();\r\n            };\r\n            btn.addEventListener('click', handler);\r\n            ToolbarHandlers.eventListeners.set(btn, { event: 'click', handler });\r\n        });\r\n\r\n    /*\r\n    * DEBUG MODE TOGGLE\r\n    */\r\n    document\r\n        .querySelectorAll('.editor-toolbar-debug')\r\n        .forEach(btn => {\r\n            const handler = ToolbarHandlers.createToolbarHandler('debug', Toolbar.debug);\r\n            btn.addEventListener('click', handler);\r\n            ToolbarHandlers.eventListeners.set(btn, { event: 'click', handler });\r\n        });\r\n  },\r\n\r\n  /**\r\n   * Add event listener and track it for cleanup\r\n   * @param {Element} element \r\n   * @param {string} event \r\n   * @param {Function} handler \r\n   */\r\n  addEventListenerWithTracking: (element, event, handler) => {\r\n    element.addEventListener(event, handler);\r\n    ToolbarHandlers.eventListeners.set(element, { event, handler });\r\n  },\r\n\r\n  /**\r\n   * Clean up all event listeners to prevent memory leaks\r\n   */\r\n  cleanup: () => {\r\n    ToolbarHandlers.eventListeners.forEach((listenerInfo, element) => {\r\n      try {\r\n        element.removeEventListener(listenerInfo.event, listenerInfo.handler);\r\n      } catch (error) {\r\n        console.warn('Failed to remove event listener:', error);\r\n      }\r\n    });\r\n    ToolbarHandlers.eventListeners.clear();\r\n  }\r\n};","'use strict';\r\n\r\n/**\r\n * Block types enumeration.\r\n * @readonly\r\n */\r\nexport class BlockType\r\n{\r\n    static H1 = 'h1';\r\n    static H2 = 'h2';\r\n    static H3 = 'h3';\r\n    static H4 = 'h4';\r\n    static H5 = 'h5';\r\n    static H6 = 'h6';\r\n    static PARAGRAPH = 'paragraph';\r\n    static CODE = 'code';\r\n    static DELIMITER = 'delimiter';\r\n    static QUOTE = 'quote';\r\n    static UL = 'ul';\r\n    static OL = 'ol';\r\n    static SQ = 'sq';\r\n    static TABLE = 'table';\r\n    static IMAGE = 'image';\r\n\r\n    /**\r\n     * Get the block type from an HTML tag.\r\n     * @param {string} tag\r\n     * @returns {string}\r\n     */\r\n    static getBlockTypeFromHtmlTag(tag)\r\n    {        \r\n        switch (tag.toLowerCase()) {\r\n            case 'h1':\r\n                return BlockType.H1;\r\n            case 'h2':\r\n                return BlockType.H2;\r\n            case 'h3':\r\n                return BlockType.H3;\r\n            case 'h4':\r\n                return BlockType.H4;\r\n            case 'h5':\r\n                return BlockType.H5;\r\n            case 'h6':\r\n                return BlockType.H6;\r\n            case 'p':\r\n                return BlockType.PARAGRAPH;\r\n            case 'code':\r\n                return BlockType.CODE;\r\n            case 'pre':\r\n                return BlockType.CODE;\r\n            case 'blockquote':\r\n                return BlockType.QUOTE;\r\n            case 'ul':\r\n                return BlockType.UL;\r\n            case 'ol':\r\n                return BlockType.OL;\r\n            case 'sq':\r\n                return BlockType.SQ;\r\n            case 'table':\r\n                return BlockType.TABLE;\r\n            case 'img':\r\n                return BlockType.IMAGE;\r\n            case 'image':\r\n                return BlockType.IMAGE;\r\n            default:\r\n                return BlockType.PARAGRAPH;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @returns {string[]}\r\n     * @description Returns all block types as an array.\r\n     */\r\n    static getAll() {\r\n        return [\r\n            BlockType.H1,\r\n            BlockType.H2,\r\n            BlockType.H3,\r\n            BlockType.H4,\r\n            BlockType.H5,\r\n            BlockType.H6,\r\n            BlockType.PARAGRAPH,\r\n            BlockType.CODE,\r\n            BlockType.DELIMITER,\r\n            BlockType.UL,\r\n            BlockType.OL,\r\n            BlockType.SQ,\r\n            BlockType.TABLE,\r\n            BlockType.IMAGE\r\n        ];\r\n    }\r\n\r\n    static isValid(type) {\r\n        return BlockType.getAll().includes(type);\r\n    }\r\n\r\n    /**\r\n     * Check if the block type is a heading.\r\n     * @param {string} type\r\n     * @returns {boolean}\r\n     */\r\n    static isHeading(type) {\r\n        return [BlockType.H1, BlockType.H2, BlockType.H3, BlockType.H4, BlockType.H5, BlockType.H6].includes(type);\r\n    }\r\n\r\n    /**\r\n     * Check if the block type is a list.\r\n     * @param {string} type\r\n     * @returns {boolean}\r\n     */\r\n    static isList(type) {\r\n        return [BlockType.UL, BlockType.OL, BlockType.SQ].includes(type);\r\n    }\r\n\r\n    /**\r\n     * Check if the block type is a specific type of block.\r\n     * @param {string} type\r\n     * @returns {boolean}\r\n     */\r\n    static isBlock(type) {\r\n        return BlockType.getAll().includes(type);\r\n    }\r\n\r\n    /**\r\n     * Check if the block type is a quote.\r\n     * @param {string} type\r\n     * @returns {boolean}\r\n     */\r\n    static isQuote(type) {\r\n        return type === BlockType.QUOTE;\r\n    }\r\n\r\n    /**\r\n     * Check if the block type is a paragraph.\r\n     * @param {string} type\r\n     * @returns {boolean}\r\n     */\r\n    static isParagraph(type) {\r\n        return type === BlockType.PARAGRAPH;\r\n    }\r\n\r\n    /**\r\n     * Check if the block type is a code block, delimiter, or quote.\r\n     * @param {string} type\r\n     * @returns {boolean}\r\n     */\r\n    static isCode(type) {\r\n        return type === BlockType.CODE;\r\n    }\r\n\r\n    /**\r\n     * Check if the block type is a delimiter.\r\n     * @param {string} type\r\n     * @returns {boolean}\r\n     */\r\n    static isDelimiter(type) {\r\n        return type === BlockType.DELIMITER;\r\n    }\r\n\r\n    /**\r\n     * Check if the block type is a quote.\r\n     * @param {string} type\r\n     * @returns {boolean}\r\n     */\r\n    static isQuote(type) {\r\n        return type === BlockType.QUOTE;\r\n    }\r\n\r\n}","'use strict';\r\n\r\nimport {BlockType} from \"@/BlockType\";\r\nimport {BlockInterfaceContract} from \"@/interfaces/BlockInterface\";\r\n\r\n/**\r\n * Base class for all block types\r\n * Implements the BlockInterface contract to ensure consistent behavior\r\n */\r\nexport class BaseBlock\r\n{\r\n    _type = BlockType.PARAGRAPH;\r\n    _content = '';\r\n    _html = '';\r\n    _nested = false;\r\n    \r\n    /**\r\n     * @param {string} type\r\n     * @param {string} content\r\n     * @param {string} html\r\n     * @param {boolean} nested\r\n     */\r\n    constructor(type = '', content = '', html = '', nested = false) {\r\n        if ( 0 === type.length ) {\r\n            type = BlockType.PARAGRAPH;\r\n        }\r\n        \r\n        // Only convert from HTML tag if it's not already a BlockType value\r\n        const blockTypeValues = [\r\n            BlockType.H1, BlockType.H2, BlockType.H3, BlockType.H4, BlockType.H5, BlockType.H6,\r\n            BlockType.PARAGRAPH, BlockType.CODE, BlockType.DELIMITER, BlockType.QUOTE,\r\n            BlockType.UL, BlockType.OL, BlockType.SQ, BlockType.TABLE, BlockType.IMAGE\r\n        ];\r\n        \r\n        if (!blockTypeValues.includes(type)) {\r\n            type = BlockType.getBlockTypeFromHtmlTag(type);\r\n        }\r\n        \r\n        this._type = type;\r\n        this._content = content;\r\n        this._html = html;\r\n        this._nested = nested;\r\n    }\r\n\r\n    get type() {\r\n        return this._type;\r\n    }\r\n    \r\n    set type(value) {\r\n        this._type = value;\r\n    }\r\n    \r\n    get content() {\r\n        return this._content;\r\n    }\r\n    \r\n    set content(value) {\r\n        this._content = value;\r\n    }\r\n    \r\n    get html() {\r\n        return this._html;\r\n    }\r\n    \r\n    set html(value) {\r\n        this._html = value;\r\n    }\r\n    \r\n    get nested() {\r\n        return this._nested;\r\n    }\r\n    \r\n    set nested(value) {\r\n        this._nested = value;\r\n    }\r\n\r\n    /**\r\n     * Handle key press for this block type\r\n     * @param {KeyboardEvent} event\r\n     * @param {string} text - current text content of the block\r\n     * @returns {boolean} - true if key was handled, false otherwise\r\n     */\r\n    handleKeyPress(event, text) {\r\n        // Override in subclasses\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * Handle Enter key press for this block type\r\n     * @param {KeyboardEvent} event\r\n     * @returns {boolean} - true if key was handled, false otherwise\r\n     */\r\n    handleEnterKey(event) {\r\n        // Override in subclasses\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * Check if cursor is at the end of this block\r\n     * Default implementation for simple blocks\r\n     * @param {HTMLElement} blockElement - the DOM element of the block\r\n     * @param {Range} range - the current selection range\r\n     * @returns {boolean} - true if cursor is at the end\r\n     */\r\n    isAtEnd(blockElement, range) {\r\n        if (!range || !blockElement) {\r\n            return false;\r\n        }\r\n\r\n        // Check if the range is collapsed (cursor position, not selection)\r\n        if (!range.collapsed) {\r\n            return false;\r\n        }\r\n\r\n        // Get the text content length of the block\r\n        const textContent = blockElement.textContent || '';\r\n        const textLength = textContent.length;\r\n        \r\n        // Calculate the current cursor position within the block\r\n        const preRange = range.cloneRange();\r\n        preRange.selectNodeContents(blockElement);\r\n        preRange.setEnd(range.endContainer, range.endOffset);\r\n        const cursorPosition = preRange.toString().length;\r\n        \r\n        // Consider cursor at end if it's within 2 characters of the end\r\n        // (accounts for trailing spaces or formatting)\r\n        return cursorPosition >= textLength - 2;\r\n    }\r\n\r\n    /**\r\n     * Get the markdown triggers that convert to this block type\r\n     * @returns {string[]} - array of trigger strings\r\n     */\r\n    static getMarkdownTriggers() {\r\n        return [];\r\n    }\r\n\r\n    /**\r\n     * Check if text matches any of this block's markdown triggers\r\n     * @param {string} text\r\n     * @returns {boolean}\r\n     */\r\n    static matchesMarkdownTrigger(text) {\r\n        const triggers = this.getMarkdownTriggers();\r\n        return triggers.some(trigger => text.startsWith(trigger));\r\n    }\r\n\r\n    /**\r\n     * Apply this block type transformation via toolbar\r\n     * Should be overridden by subclasses to call appropriate Toolbar method\r\n     */\r\n    applyTransformation() {\r\n        // Override in subclasses\r\n    }\r\n\r\n    /**\r\n     * Get toolbar configuration for this block type\r\n     * @returns {Object|null} - toolbar button configuration or null if no toolbar integration\r\n     */\r\n    static getToolbarConfig() {\r\n        return null; // Override in subclasses for toolbar integration\r\n    }\r\n\r\n    /**\r\n     * Get buttons that should be disabled when this block is active\r\n     * @returns {string[]} - array of button class names that should be disabled\r\n     */\r\n    static getDisabledButtons() {\r\n        return []; // Override in subclasses\r\n    }\r\n\r\n    /**\r\n     * Convert this block to markdown\r\n     * @returns {string} - markdown representation\r\n     */\r\n    toMarkdown() {\r\n        return this._content;\r\n    }\r\n\r\n    /**\r\n     * Convert this block to HTML\r\n     * @returns {string} - HTML representation\r\n     */\r\n    toHtml() {\r\n        return this._html;\r\n    }\r\n\r\n    /**\r\n     * Render this block as an HTML element\r\n     * @returns {HTMLElement} - DOM element representation\r\n     */\r\n    renderToElement() {\r\n        // Default implementation - override in subclasses for custom rendering\r\n        let element = document.createElement('div');\r\n        element.classList.add('block');\r\n        element.setAttribute('data-block-type', this._type);\r\n        element.setAttribute('data-placeholder', 'Type \"/\" to insert block');\r\n        element.innerHTML = this._html || this._content || '';\r\n        return element;\r\n    }\r\n\r\n    /**\r\n     * Parse HTML string to create a block instance\r\n     * @param {string} htmlString - HTML to parse\r\n     * @returns {BaseBlock|null} - Block instance or null if can't parse\r\n     */\r\n    static parseFromHtml(htmlString) {\r\n        // Override in subclasses for specific parsing logic\r\n        return null;\r\n    }\r\n\r\n    /**\r\n     * Parse markdown string to create a block instance\r\n     * @param {string} markdownString - Markdown to parse\r\n     * @returns {BaseBlock|null} - Block instance or null if can't parse\r\n     */\r\n    static parseFromMarkdown(markdownString) {\r\n        // Override in subclasses for specific parsing logic\r\n        return null;\r\n    }\r\n\r\n    /**\r\n     * Check if this block type can parse the given HTML\r\n     * @param {string} htmlString - HTML to check\r\n     * @returns {boolean} - true if can parse, false otherwise\r\n     */\r\n    static canParseHtml(htmlString) {\r\n        // Override in subclasses for specific detection logic\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * Check if this block type can parse the given markdown\r\n     * @param {string} markdownString - Markdown to check\r\n     * @returns {boolean} - true if can parse, false otherwise\r\n     */\r\n    static canParseMarkdown(markdownString) {\r\n        // Override in subclasses for specific detection logic\r\n        return false;\r\n    }\r\n}\r\n","'use strict';\r\n\r\nimport {BaseBlock} from \"@/blocks/BaseBlock\";\r\nimport {BlockType} from \"@/BlockType\";\r\nimport {Toolbar} from \"@/Toolbar\";\r\n\r\n/**\r\n * Paragraph block type\r\n */\r\nexport class ParagraphBlock extends BaseBlock\r\n{\r\n    constructor(content = '', html = '', nested = false) {\r\n        super(BlockType.PARAGRAPH, content, html, nested);\r\n    }\r\n\r\n    /**\r\n     * Handle key press for paragraph blocks\r\n     * @param {KeyboardEvent} event\r\n     * @param {string} text - current text content of the block\r\n     * @returns {boolean} - true if key was handled, false otherwise\r\n     */\r\n    handleKeyPress(event, text) {\r\n        // Paragraph blocks don't have special key handling\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * Handle Enter key press for paragraph blocks\r\n     * @param {KeyboardEvent} event\r\n     * @returns {boolean} - true if key was handled, false otherwise\r\n     */\r\n    handleEnterKey(event) {\r\n        // Default behavior - create new paragraph\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * Get the markdown triggers that convert to paragraph\r\n     * @returns {string[]} - array of trigger strings\r\n     */\r\n    static getMarkdownTriggers() {\r\n        return [];\r\n    }\r\n\r\n    /**\r\n     * Apply paragraph transformation via toolbar\r\n     */\r\n    applyTransformation() {\r\n        Toolbar.paragraph();\r\n    }\r\n\r\n    /**\r\n     * Get toolbar configuration for paragraph blocks\r\n     * @returns {Object|null} - toolbar button configuration\r\n     */\r\n    static getToolbarConfig() {\r\n        return {\r\n            class: 'editor-toolbar-paragraph',\r\n            label: 'Paragraph',\r\n            group: 'headers'\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Convert this paragraph block to markdown\r\n     * @returns {string} - markdown representation\r\n     */\r\n    toMarkdown() {\r\n        return this._content;\r\n    }\r\n\r\n    /**\r\n     * Convert this paragraph block to HTML\r\n     * @returns {string} - HTML representation\r\n     */\r\n    toHtml() {\r\n        return `<p>${this._content}</p>`;\r\n    }\r\n\r\n    /**\r\n     * Render this paragraph block as an HTML element\r\n     * @returns {HTMLElement} - DOM element representation\r\n     */\r\n    renderToElement() {\r\n        let element = document.createElement('div');\r\n        element.classList.add('block');\r\n        element.classList.add('block-p');\r\n        element.setAttribute('data-block-type', this._type);\r\n        element.setAttribute('data-placeholder', 'Type \"/\" to insert block');\r\n        element.innerHTML = this._html || this._content || '';\r\n        return element;\r\n    }\r\n\r\n    /**\r\n     * Check if this block type can parse the given HTML\r\n     * @param {string} htmlString - HTML to check\r\n     * @returns {boolean} - true if can parse, false otherwise\r\n     */\r\n    static canParseHtml(htmlString) {\r\n        return /^<p[^>]*>/i.test(htmlString);\r\n    }\r\n\r\n    /**\r\n     * Parse HTML string to create a paragraph block instance\r\n     * @param {string} htmlString - HTML to parse\r\n     * @returns {ParagraphBlock|null} - Block instance or null if can't parse\r\n     */\r\n    static parseFromHtml(htmlString) {\r\n        const match = htmlString.match(/^<p[^>]*>(.*?)<\\/p>/i);\r\n        if (!match) return null;\r\n\r\n        const content = match[1].trim();\r\n        return new ParagraphBlock(content, htmlString);\r\n    }\r\n\r\n    /**\r\n     * Check if this block type can parse the given markdown\r\n     * @param {string} markdownString - Markdown to check\r\n     * @returns {boolean} - true if can parse, false otherwise\r\n     */\r\n    static canParseMarkdown(markdownString) {\r\n        // Paragraphs are the fallback, so they can parse most simple text\r\n        // But not if it matches other block types\r\n        const line = markdownString.trim();\r\n        return !(/^#{1,6}\\s/.test(line) || \r\n                /^-\\s*\\[[x ]\\]\\s/.test(line) ||\r\n                /^>\\s/.test(line) ||\r\n                /^```/.test(line) ||\r\n                /^\\|.*\\|/.test(line) ||\r\n                /^[-*]\\s/.test(line) ||\r\n                /^\\d+\\.\\s/.test(line));\r\n    }\r\n\r\n    /**\r\n     * Parse markdown string to create a paragraph block instance\r\n     * @param {string} markdownString - Markdown to parse\r\n     * @returns {ParagraphBlock|null} - Block instance or null if can't parse\r\n     */\r\n    static parseFromMarkdown(markdownString) {\r\n        if (!this.canParseMarkdown(markdownString)) return null;\r\n\r\n        const content = markdownString.trim();\r\n        const html = `<p>${content}</p>`;\r\n        return new ParagraphBlock(content, html);\r\n    }\r\n}\r\n","'use strict';\r\n\r\nimport {BaseBlock} from \"@/blocks/BaseBlock\";\r\nimport {BlockType} from \"@/BlockType\";\r\nimport {Toolbar} from \"@/Toolbar\";\r\nimport {Editor} from \"@/Editor\";\r\n\r\n/**\r\n * Heading block types (H1-H6)\r\n */\r\nexport class HeadingBlock extends BaseBlock\r\n{\r\n    constructor(level, content = '', html = '', nested = false) {\r\n        const type = `h${level}`;\r\n        super(type, content, html, nested);\r\n        this.level = level;\r\n    }\r\n\r\n    /**\r\n     * Handle key press for heading blocks\r\n     * @param {KeyboardEvent} event\r\n     * @param {string} text - current text content of the block\r\n     * @returns {boolean} - true if key was handled, false otherwise\r\n     */\r\n    handleKeyPress(event, text) {\r\n        // Headings don't have special key handling beyond markdown triggers\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * Handle Enter key press for heading blocks\r\n     * @param {KeyboardEvent} event\r\n     * @returns {boolean} - true if key was handled, false otherwise\r\n     */\r\n    handleEnterKey(event) {\r\n        // After heading, create new paragraph\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * Apply heading transformation via toolbar\r\n     */\r\n    applyTransformation() {\r\n        // Get the current block and convert it to a heading\r\n        const currentBlock = Editor.currentBlock;\r\n        if (!currentBlock) return;\r\n        \r\n        // Update block attributes\r\n        currentBlock.setAttribute('data-block-type', `h${this.level}`);\r\n        currentBlock.className = `block block-h${this.level}`;\r\n        \r\n        // Get existing content\r\n        const existingContent = currentBlock.textContent || '';\r\n        \r\n        // Create heading element\r\n        const headingElement = document.createElement(`h${this.level}`);\r\n        headingElement.textContent = existingContent;\r\n        \r\n        // Replace content with heading\r\n        currentBlock.innerHTML = '';\r\n        currentBlock.appendChild(headingElement);\r\n        \r\n        // Make the heading element editable\r\n        headingElement.setAttribute('contenteditable', 'true');\r\n        \r\n        // Focus the heading element if the block was focused\r\n        if (document.activeElement === currentBlock || \r\n            currentBlock.contains(document.activeElement)) {\r\n            requestAnimationFrame(() => {\r\n                headingElement.focus();\r\n                // Place cursor at end\r\n                const range = document.createRange();\r\n                const selection = window.getSelection();\r\n                range.selectNodeContents(headingElement);\r\n                range.collapse(false);\r\n                selection.removeAllRanges();\r\n                selection.addRange(range);\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get toolbar configuration for heading blocks\r\n     * @returns {Object|null} - toolbar button configuration\r\n     */\r\n    static getToolbarConfig() {\r\n        return null; // Individual heading classes will provide their own config\r\n    }\r\n\r\n    /**\r\n     * Get buttons that should be disabled when heading is active\r\n     * Headers can't be bold, italic, or contain lists\r\n     * @returns {string[]} - array of button class names that should be disabled\r\n     */\r\n    static getDisabledButtons() {\r\n        return [\r\n            'editor-toolbar-bold',\r\n            'editor-toolbar-italic', \r\n            'editor-toolbar-underline',\r\n            'editor-toolbar-strikethrough',\r\n            'editor-toolbar-quote',\r\n            'editor-toolbar-ul',\r\n            'editor-toolbar-ol',\r\n            'editor-toolbar-sq',\r\n            'editor-toolbar-code',\r\n            'editor-toolbar-delimiter',\r\n            'editor-toolbar-table',\r\n            'editor-toolbar-image'\r\n        ];\r\n    }\r\n\r\n    /**\r\n     * Convert this heading block to markdown\r\n     * @returns {string} - markdown representation\r\n     */\r\n    toMarkdown() {\r\n        const hashes = '#'.repeat(this.level);\r\n        return `${hashes} ${this._content}`;\r\n    }\r\n\r\n    /**\r\n     * Convert this heading block to HTML\r\n     * @returns {string} - HTML representation\r\n     */\r\n    toHtml() {\r\n        return `<h${this.level}>${this._content}</h${this.level}>`;\r\n    }\r\n\r\n    /**\r\n     * Render this heading block as an HTML element\r\n     * @returns {HTMLElement} - DOM element representation\r\n     */\r\n    renderToElement() {\r\n        let element = document.createElement('div');\r\n        element.classList.add('block');\r\n        element.classList.add(`block-h${this.level}`);\r\n        element.setAttribute('data-block-type', this._type);\r\n        element.setAttribute('data-placeholder', 'Type \"/\" to insert block');\r\n        element.innerHTML = this._html || this._content || '';\r\n        return element;\r\n    }\r\n\r\n    /**\r\n     * Check if this block type can parse the given HTML\r\n     * @param {string} htmlString - HTML to check\r\n     * @returns {boolean} - true if can parse, false otherwise\r\n     */\r\n    static canParseHtml(htmlString) {\r\n        return /^<h[1-6][^>]*>/i.test(htmlString);\r\n    }\r\n\r\n    /**\r\n     * Parse HTML string to create a heading block instance\r\n     * @param {string} htmlString - HTML to parse\r\n     * @returns {HeadingBlock|null} - Block instance or null if can't parse\r\n     */\r\n    static parseFromHtml(htmlString) {\r\n        const match = htmlString.match(/^<h([1-6])[^>]*>(.*?)<\\/h\\1>/i);\r\n        if (!match) return null;\r\n\r\n        const level = parseInt(match[1]);\r\n        const content = match[2].trim();\r\n        \r\n        // Create the appropriate heading block dynamically\r\n        return new HeadingBlock(level, content, htmlString);\r\n    }\r\n\r\n    /**\r\n     * Check if this block type can parse the given markdown\r\n     * @param {string} markdownString - Markdown to check\r\n     * @returns {boolean} - true if can parse, false otherwise\r\n     */\r\n    static canParseMarkdown(markdownString) {\r\n        return /^#{1,6}\\s+/.test(markdownString.trim());\r\n    }\r\n\r\n    /**\r\n     * Parse markdown string to create a heading block instance\r\n     * @param {string} markdownString - Markdown to parse\r\n     * @returns {HeadingBlock|null} - Block instance or null if can't parse\r\n     */\r\n    static parseFromMarkdown(markdownString) {\r\n        const match = markdownString.trim().match(/^(#{1,6})\\s+(.*)$/);\r\n        if (!match) return null;\r\n\r\n        const level = match[1].length;\r\n        const content = match[2].trim();\r\n        const html = `<h${level}>${content}</h${level}>`;\r\n        \r\n        // Create the appropriate heading block dynamically\r\n        return new HeadingBlock(level, content, html);\r\n    }\r\n}\r\n","'use strict';\r\n\r\nimport {HeadingBlock} from \"@/blocks/HeadingBlock\";\r\n\r\n/**\r\n * H1 block\r\n */\r\nexport class H1Block extends HeadingBlock\r\n{\r\n    constructor(content = '', html = '', nested = false) {\r\n        super(1, content, html, nested);\r\n    }\r\n\r\n    static getMarkdownTriggers() {\r\n        return ['# '];\r\n    }\r\n\r\n    static getToolbarConfig() {\r\n        return {\r\n            class: 'editor-toolbar-header1',\r\n            label: 'Heading 1',\r\n            group: 'headers'\r\n        };\r\n    }\r\n}\r\n","'use strict';\r\n\r\nimport {HeadingBlock} from \"@/blocks/HeadingBlock\";\r\n\r\n/**\r\n * H2 block\r\n */\r\nexport class H2Block extends HeadingBlock\r\n{\r\n    constructor(content = '', html = '', nested = false) {\r\n        super(2, content, html, nested);\r\n    }\r\n\r\n    static getMarkdownTriggers() {\r\n        return ['## '];\r\n    }\r\n\r\n    static getToolbarConfig() {\r\n        return {\r\n            class: 'editor-toolbar-header2',\r\n            label: 'Heading 2',\r\n            group: 'headers'\r\n        };\r\n    }\r\n}\r\n","'use strict';\r\n\r\nimport {HeadingBlock} from \"@/blocks/HeadingBlock\";\r\n\r\n/**\r\n * H3 block\r\n */\r\nexport class H3Block extends HeadingBlock\r\n{\r\n    constructor(content = '', html = '', nested = false) {\r\n        super(3, content, html, nested);\r\n    }\r\n\r\n    static getMarkdownTriggers() {\r\n        return ['### '];\r\n    }\r\n\r\n    static getToolbarConfig() {\r\n        return {\r\n            class: 'editor-toolbar-header3',\r\n            label: 'Heading 3',\r\n            group: 'headers'\r\n        };\r\n    }\r\n}\r\n","'use strict';\r\n\r\nimport {HeadingBlock} from \"@/blocks/HeadingBlock\";\r\n\r\n/**\r\n * H4 block\r\n */\r\nexport class H4Block extends HeadingBlock\r\n{\r\n    constructor(content = '', html = '', nested = false) {\r\n        super(4, content, html, nested);\r\n    }\r\n\r\n    static getMarkdownTriggers() {\r\n        return ['#### '];\r\n    }\r\n\r\n    static getToolbarConfig() {\r\n        return {\r\n            class: 'editor-toolbar-header4',\r\n            label: 'Heading 4',\r\n            group: 'headers'\r\n        };\r\n    }\r\n}\r\n","'use strict';\r\n\r\nimport {HeadingBlock} from \"@/blocks/HeadingBlock\";\r\n\r\n/**\r\n * H5 block\r\n */\r\nexport class H5Block extends HeadingBlock\r\n{\r\n    constructor(content = '', html = '', nested = false) {\r\n        super(5, content, html, nested);\r\n    }\r\n\r\n    static getMarkdownTriggers() {\r\n        return ['##### '];\r\n    }\r\n\r\n    static getToolbarConfig() {\r\n        return {\r\n            class: 'editor-toolbar-header5',\r\n            label: 'Heading 5',\r\n            group: 'headers'\r\n        };\r\n    }\r\n}\r\n","'use strict';\r\n\r\nimport {HeadingBlock} from \"@/blocks/HeadingBlock\";\r\n\r\n/**\r\n * H6 block\r\n */\r\nexport class H6Block extends HeadingBlock\r\n{\r\n    constructor(content = '', html = '', nested = false) {\r\n        super(6, content, html, nested);\r\n    }\r\n\r\n    static getMarkdownTriggers() {\r\n        return ['###### '];\r\n    }\r\n\r\n    static getToolbarConfig() {\r\n        return {\r\n            class: 'editor-toolbar-header6',\r\n            label: 'Heading 6',\r\n            group: 'headers'\r\n        };\r\n    }\r\n}\r\n","'use strict';\r\n\r\nimport {BaseBlock} from \"@/blocks/BaseBlock\";\r\nimport {BlockType} from \"@/BlockType\";\r\nimport {Editor} from \"@/Editor\";\r\n\r\n/**\r\n * List block types\r\n */\r\nexport class ListBlock extends BaseBlock\r\n{\r\n    /**\r\n     * Handle Enter key press for list blocks\r\n     * @param {KeyboardEvent} event\r\n     * @returns {boolean} - true if key was handled, false otherwise\r\n     */\r\n    handleEnterKey(event) {\r\n        // List blocks should create new list items or end the list if empty\r\n        let currentBlock = event.target && typeof event.target.closest === 'function'\r\n            ? event.target.closest('.block')\r\n            : null;\r\n\r\n        // Resolve current list item in a robust way (target may be LI or a child like SPAN)\r\n        let currentListItem = null;\r\n        if (event.target && typeof event.target.closest === 'function') {\r\n            currentListItem = event.target.closest('li');\r\n        }\r\n\r\n        // Fallback: derive from current selection\r\n        if (!currentListItem && typeof window !== 'undefined' && window.getSelection) {\r\n            const selection = window.getSelection();\r\n            if (selection && selection.rangeCount > 0) {\r\n                const range = selection.getRangeAt(0);\r\n                const element = range.startContainer && range.startContainer.nodeType === Node.TEXT_NODE ?\r\n                    range.startContainer.parentElement : range.startContainer;\r\n                if (element && typeof element.closest === 'function') {\r\n                    currentListItem = element.closest('li');\r\n                    if (!currentBlock) {\r\n                        currentBlock = element.closest('.block');\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        // As a last resort, if we have an LI, resolve the block from it\r\n        if (!currentBlock && currentListItem && typeof currentListItem.closest === 'function') {\r\n            currentBlock = currentListItem.closest('.block');\r\n        }\r\n\r\n        if (!currentBlock || !currentListItem) {\r\n            return false;\r\n        }\r\n\r\n        const text = currentListItem.textContent.trim();\r\n        \r\n        // Check if this is the last list item in the list\r\n        const listContainer = currentListItem.parentElement; // ul or ol\r\n        const allItems = listContainer ? listContainer.querySelectorAll('li') : [];\r\n        const isLastItem = allItems.length > 0 && allItems[allItems.length - 1] === currentListItem;\r\n        \r\n        // If the current list item is empty AND it's the last item, end the list\r\n        if (text === '' && isLastItem) {\r\n            // Remove the empty list item and create a new paragraph block\r\n            event.preventDefault();\r\n            currentListItem.remove();\r\n            Editor.addDefaultBlock();\r\n            return true;\r\n        }\r\n        \r\n        // If the current list item is empty but NOT the last item, let browser handle (remove empty item behavior)\r\n        if (text === '') {\r\n            return false;\r\n        }\r\n        \r\n        // Check if cursor is at the end of the list item\r\n    const selection = window.getSelection();\r\n        if (selection.rangeCount > 0) {\r\n            const range = selection.getRangeAt(0);\r\n            const isAtEnd = this.isAtEnd(currentBlock, range);\r\n            \r\n            if (isAtEnd && isLastItem) {\r\n                // Create a new list item in the same list when at the end of the last non-empty item\r\n                event.preventDefault();\r\n                this.createNewListItem(currentBlock, currentListItem);\r\n                return true;\r\n            }\r\n        }\r\n        \r\n        // If cursor is not at the end, let browser handle default behavior (line break)\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * Check if cursor is at the end of the last list item\r\n     * List-specific implementation that considers the structure of lists\r\n     * @param {HTMLElement} blockElement - The block containing the list\r\n     * @param {Range} range - The current selection range\r\n     * @returns {boolean} - true if cursor is at the end of the last list item\r\n     */\r\n    isAtEnd(blockElement, range) {\r\n        if (!range || !blockElement) {\r\n            return false;\r\n        }\r\n\r\n        // Check if the range is collapsed (cursor position, not selection)\r\n        if (!range.collapsed) {\r\n            return false;\r\n        }\r\n\r\n        // Find the current list item based on cursor position\r\n        const element = range.startContainer.nodeType === Node.TEXT_NODE ? \r\n            range.startContainer.parentElement : range.startContainer;\r\n        const currentListItem = element.closest('li');\r\n        \r\n        if (!currentListItem) {\r\n            return false;\r\n        }\r\n\r\n        // Check if this is the last list item\r\n        const listContainer = currentListItem.parentElement; // ul or ol\r\n        const allItems = listContainer ? listContainer.querySelectorAll('li') : [];\r\n        const isLastItem = allItems.length > 0 && allItems[allItems.length - 1] === currentListItem;\r\n        \r\n        if (!isLastItem) {\r\n            return false;\r\n        }\r\n\r\n        // Check if cursor is at the end of this last list item\r\n        const textContent = currentListItem.textContent || '';\r\n        const textLength = textContent.length;\r\n        \r\n        // Calculate the current cursor position within the list item\r\n        const preRange = range.cloneRange();\r\n        preRange.selectNodeContents(currentListItem);\r\n        preRange.setEnd(range.endContainer, range.endOffset);\r\n        const cursorPosition = preRange.toString().length;\r\n        \r\n        // Consider cursor at end if it's within 2 characters of the end\r\n        // (accounts for trailing spaces or formatting)\r\n        return cursorPosition >= textLength - 2;\r\n    }\r\n\r\n    /**\r\n     * Create a new list item of the same type\r\n     * @param {HTMLElement} currentBlock - The block containing the list\r\n     * @param {HTMLElement} currentListItem - The current list item\r\n     */\r\n    createNewListItem(currentBlock, currentListItem) {\r\n        // This will be implemented by subclasses\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * Get toolbar configuration for list blocks\r\n     * @returns {Object|null} - toolbar button configuration\r\n     */\r\n    static getToolbarConfig() {\r\n        return null; // Individual list classes will provide their own config\r\n    }\r\n\r\n    /**\r\n     * Convert this list block to markdown\r\n     * @returns {string} - markdown representation\r\n     */\r\n    toMarkdown() {\r\n        // This will be implemented by subclasses\r\n        return this._content;\r\n    }\r\n\r\n    /**\r\n     * Convert this list block to HTML\r\n     * @returns {string} - HTML representation\r\n     */\r\n    toHtml() {\r\n        // This will be implemented by subclasses\r\n        return this._html;\r\n    }\r\n}\r\n","'use strict';\r\n\r\nimport {ListBlock} from \"@/blocks/ListBlock\";\r\nimport {BlockType} from \"@/BlockType\";\r\nimport {Toolbar} from \"@/Toolbar\";\r\nimport {Editor} from \"@/Editor\";\r\n\r\n/**\r\n * Unordered list block\r\n */\r\nexport class UnorderedListBlock extends ListBlock\r\n{\r\n    constructor(content = '', html = '', nested = false) {\r\n        super(BlockType.UL, content, html, nested);\r\n    }\r\n\r\n    /**\r\n     * Handle key press for unordered list blocks\r\n     * @param {KeyboardEvent} event\r\n     * @param {string} text - current text content of the block\r\n     * @returns {boolean} - true if key was handled, false otherwise\r\n     */\r\n    handleKeyPress(event, text) {\r\n        // Handle indentation and list continuation\r\n        return false;\r\n    }\r\n\r\n    static getMarkdownTriggers() {\r\n        return ['* ', '- '];\r\n    }\r\n\r\n    applyTransformation() {\r\n        // No need to do anything special here - the block creation\r\n        // is handled by Editor.createNewBlock() which converts the block\r\n        // to HTML and adds it to the DOM properly.\r\n        // This prevents the circular dependency issue.\r\n    }\r\n\r\n    /**\r\n     * Create a new unordered list item\r\n     * @param {HTMLElement} currentBlock - The block containing the list\r\n     * @param {HTMLElement} currentListItem - The current list item\r\n     */\r\n    createNewListItem(currentBlock, currentListItem) {\r\n        // Find the ul element within the block\r\n        const ulElement = currentBlock && typeof currentBlock.querySelector === 'function' \r\n            ? currentBlock.querySelector('ul') \r\n            : null;\r\n        \r\n        if (!ulElement) {\r\n            return false;\r\n        }\r\n        \r\n        // Create new list item\r\n        const newListItem = document.createElement('li');\r\n        newListItem.contentEditable = true;\r\n        \r\n        // Append to the ul element\r\n        ulElement.appendChild(newListItem);\r\n        \r\n        // Focus on the new list item\r\n        const editorInstance = Editor.getInstanceFromElement(currentBlock);\r\n        if (editorInstance) {\r\n            editorInstance.setCurrentBlock(currentBlock); // Keep the same block\r\n        }\r\n        \r\n        // Use requestAnimationFrame to ensure DOM is updated before focusing\r\n        requestAnimationFrame(() => {\r\n            newListItem.focus();\r\n            \r\n            // Place cursor at the beginning of the new list item\r\n            if (window.getSelection && newListItem.nodeType === Node.ELEMENT_NODE) {\r\n                try {\r\n                    const selection = window.getSelection();\r\n                    const range = document.createRange();\r\n                    range.setStart(newListItem, 0);\r\n                    range.collapse(true);\r\n                    selection.removeAllRanges();\r\n                    selection.addRange(range);\r\n                } catch (e) {\r\n                    // Silently fail for cursor positioning if it fails (e.g., in tests)\r\n                }\r\n            }\r\n        });\r\n        \r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Get toolbar configuration for unordered lists\r\n     * @returns {Object} - toolbar button configuration\r\n     */\r\n    static getToolbarConfig() {\r\n        return {\r\n            class: 'editor-toolbar-ul',\r\n            icon: 'fa-list',\r\n            title: 'Bullet List',\r\n            group: 'lists'\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Convert this unordered list block to markdown\r\n     * @returns {string} - markdown representation\r\n     */\r\n    toMarkdown() {\r\n        const items = this._content.split('\\n');\r\n        return items.map(item => `- ${item}`).join('\\n');\r\n    }\r\n\r\n    /**\r\n     * Convert this unordered list block to HTML\r\n     * @returns {string} - HTML representation\r\n     */\r\n    toHtml() {\r\n        const items = this._content.split('\\n');\r\n        const listItems = items.map(item => `<li>${item}</li>`).join('\\n');\r\n        return `<ul>\\n${listItems}\\n</ul>`;\r\n    }\r\n\r\n    /**\r\n     * Render this unordered list block as an HTML element\r\n     * @returns {HTMLElement} - DOM element representation\r\n     */\r\n    renderToElement() {\r\n        // Create div wrapper for the block\r\n        let element = document.createElement('div');\r\n        element.classList.add('block');\r\n        element.classList.add('block-ul');\r\n        element.setAttribute('data-block-type', 'ul');\r\n        element.setAttribute('data-placeholder', 'List item');\r\n        \r\n        // Create the actual ul element\r\n        let ulElement = document.createElement('ul');\r\n        \r\n        const items = this._content.split('\\n').filter(item => item.trim());\r\n        if (items.length === 0) {\r\n            const li = document.createElement('li');\r\n            li.contentEditable = true;\r\n            ulElement.appendChild(li);\r\n        } else {\r\n            items.forEach(item => {\r\n                const li = document.createElement('li');\r\n                li.textContent = item;\r\n                li.contentEditable = true;\r\n                ulElement.appendChild(li);\r\n            });\r\n        }\r\n        \r\n        // Append ul to the div wrapper\r\n        element.appendChild(ulElement);\r\n        \r\n        return element;\r\n    }\r\n\r\n    /**\r\n     * Check if this block type can parse the given HTML\r\n     * @param {string} htmlString - HTML to check\r\n     * @returns {boolean} - true if can parse, false otherwise\r\n     */\r\n    static canParseHtml(htmlString) {\r\n        return /^<ul[^>]*>/i.test(htmlString);\r\n    }\r\n\r\n    /**\r\n     * Parse HTML string to create an unordered list block instance\r\n     * @param {string} htmlString - HTML to parse\r\n     * @returns {UnorderedListBlock|null} - Block instance or null if can't parse\r\n     */\r\n    static parseFromHtml(htmlString) {\r\n        if (!this.canParseHtml(htmlString)) return null;\r\n\r\n        const parser = new DOMParser();\r\n        const doc = parser.parseFromString(htmlString, 'text/html');\r\n        const ul = doc.querySelector('ul');\r\n        \r\n        if (!ul) return null;\r\n        \r\n        const items = Array.from(ul.querySelectorAll('li')).map(li => li.textContent.trim());\r\n        const content = items.join('\\n');\r\n        \r\n        return new UnorderedListBlock(content, htmlString);\r\n    }\r\n\r\n    /**\r\n     * Check if this block type can parse the given markdown\r\n     * @param {string} markdownString - Markdown to check\r\n     * @returns {boolean} - true if can parse, false otherwise\r\n     */\r\n    static canParseMarkdown(markdownString) {\r\n        const lines = markdownString.trim().split('\\n');\r\n        return lines.every(line => /^[-*+]\\s/.test(line.trim()));\r\n    }\r\n\r\n    /**\r\n     * Parse markdown string to create an unordered list block instance\r\n     * @param {string} markdownString - Markdown to parse\r\n     * @returns {UnorderedListBlock|null} - Block instance or null if can't parse\r\n     */\r\n    static parseFromMarkdown(markdownString) {\r\n        if (!this.canParseMarkdown(markdownString)) return null;\r\n        \r\n        const lines = markdownString.trim().split('\\n');\r\n        const items = lines.map(line => line.replace(/^[-*+]\\s/, ''));\r\n        const content = items.join('\\n');\r\n        \r\n        return new UnorderedListBlock(content);\r\n    }\r\n}\r\n","'use strict';\r\n\r\nimport {ListBlock} from \"@/blocks/ListBlock\";\r\nimport {BlockType} from \"@/BlockType\";\r\nimport {Toolbar} from \"@/Toolbar\";\r\nimport {Editor} from \"@/Editor\";\r\n\r\n/**\r\n * Ordered list block\r\n */\r\nexport class OrderedListBlock extends ListBlock\r\n{\r\n    constructor(content = '', html = '', nested = false) {\r\n        super(BlockType.OL, content, html, nested);\r\n    }\r\n\r\n    /**\r\n     * Handle key press for ordered list blocks\r\n     * @param {KeyboardEvent} event\r\n     * @param {string} text - current text content of the block\r\n     * @returns {boolean} - true if key was handled, false otherwise\r\n     */\r\n    handleKeyPress(event, text) {\r\n        // Handle numbering and list continuation\r\n        return false;\r\n    }\r\n\r\n    static getMarkdownTriggers() {\r\n        return ['1 ', '1.'];\r\n    }\r\n\r\n    applyTransformation() {\r\n        // No need to do anything special here - the block creation\r\n        // is handled by Editor.createNewBlock() which converts the block\r\n        // to HTML and adds it to the DOM properly.\r\n        // This prevents the circular dependency issue.\r\n    }\r\n\r\n    /**\r\n     * Create a new ordered list item\r\n     * @param {HTMLElement} currentBlock - The block containing the list\r\n     * @param {HTMLElement} currentListItem - The current list item\r\n     */\r\n    createNewListItem(currentBlock, currentListItem) {\r\n        // Find the ol element within the block\r\n        const olElement = currentBlock && typeof currentBlock.querySelector === 'function' \r\n            ? currentBlock.querySelector('ol') \r\n            : null;\r\n        \r\n        if (!olElement) {\r\n            return false;\r\n        }\r\n        \r\n        // Create new list item\r\n        const newListItem = document.createElement('li');\r\n        newListItem.contentEditable = true;\r\n        \r\n        // Append to the ol element\r\n        olElement.appendChild(newListItem);\r\n        \r\n        // Focus on the new list item\r\n        Editor.setCurrentBlock(currentBlock); // Keep the same block\r\n        \r\n        // Use requestAnimationFrame to ensure DOM is updated before focusing\r\n        requestAnimationFrame(() => {\r\n            newListItem.focus();\r\n            \r\n            // Place cursor at the beginning of the new list item\r\n            if (window.getSelection && newListItem.nodeType === Node.ELEMENT_NODE) {\r\n                try {\r\n                    const selection = window.getSelection();\r\n                    const range = document.createRange();\r\n                    range.setStart(newListItem, 0);\r\n                    range.collapse(true);\r\n                    selection.removeAllRanges();\r\n                    selection.addRange(range);\r\n                } catch (e) {\r\n                    // Silently fail for cursor positioning if it fails (e.g., in tests)\r\n                }\r\n            }\r\n        });\r\n        \r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Get toolbar configuration for ordered lists\r\n     * @returns {Object} - toolbar button configuration\r\n     */\r\n    static getToolbarConfig() {\r\n        return {\r\n            class: 'editor-toolbar-ol',\r\n            icon: 'fa-list-ol',\r\n            title: 'Numbered List',\r\n            group: 'lists'\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Convert this ordered list block to markdown\r\n     * @returns {string} - markdown representation\r\n     */\r\n    toMarkdown() {\r\n        const items = this._content.split('\\n');\r\n        return items.map((item, index) => `${index + 1}. ${item}`).join('\\n');\r\n    }\r\n\r\n    /**\r\n     * Convert this ordered list block to HTML\r\n     * @returns {string} - HTML representation\r\n     */\r\n    toHtml() {\r\n        const items = this._content.split('\\n');\r\n        const listItems = items.map(item => `<li>${item}</li>`).join('\\n');\r\n        return `<ol>\\n${listItems}\\n</ol>`;\r\n    }\r\n\r\n    /**\r\n     * Render this ordered list block as an HTML element\r\n     * @returns {HTMLElement} - DOM element representation\r\n     */\r\n    renderToElement() {\r\n        // Create div wrapper for the block\r\n        let element = document.createElement('div');\r\n        element.classList.add('block');\r\n        element.classList.add('block-ol');\r\n        element.setAttribute('data-block-type', 'ol');\r\n        element.setAttribute('data-placeholder', 'List item');\r\n        \r\n        // Create the actual ol element\r\n        let olElement = document.createElement('ol');\r\n        \r\n        const items = this._content.split('\\n').filter(item => item.trim());\r\n        if (items.length === 0) {\r\n            const li = document.createElement('li');\r\n            li.contentEditable = true;\r\n            olElement.appendChild(li);\r\n        } else {\r\n            items.forEach(item => {\r\n                const li = document.createElement('li');\r\n                li.textContent = item;\r\n                li.contentEditable = true;\r\n                olElement.appendChild(li);\r\n            });\r\n        }\r\n        \r\n        // Append ol to the div wrapper\r\n        element.appendChild(olElement);\r\n        \r\n        return element;\r\n    }\r\n\r\n    /**\r\n     * Check if this block type can parse the given HTML\r\n     * @param {string} htmlString - HTML to check\r\n     * @returns {boolean} - true if can parse, false otherwise\r\n     */\r\n    static canParseHtml(htmlString) {\r\n        return /^<ol[^>]*>/i.test(htmlString);\r\n    }\r\n\r\n    /**\r\n     * Parse HTML string to create an ordered list block instance\r\n     * @param {string} htmlString - HTML to parse\r\n     * @returns {OrderedListBlock|null} - Block instance or null if can't parse\r\n     */\r\n    static parseFromHtml(htmlString) {\r\n        if (!this.canParseHtml(htmlString)) return null;\r\n\r\n        const parser = new DOMParser();\r\n        const doc = parser.parseFromString(htmlString, 'text/html');\r\n        const ol = doc.querySelector('ol');\r\n        \r\n        if (!ol) return null;\r\n        \r\n        const items = Array.from(ol.querySelectorAll('li')).map(li => li.textContent.trim());\r\n        const content = items.join('\\n');\r\n        \r\n        return new OrderedListBlock(content, htmlString);\r\n    }\r\n\r\n    /**\r\n     * Check if this block type can parse the given markdown\r\n     * @param {string} markdownString - Markdown to check\r\n     * @returns {boolean} - true if can parse, false otherwise\r\n     */\r\n    static canParseMarkdown(markdownString) {\r\n        const lines = markdownString.trim().split('\\n');\r\n        return lines.every(line => /^\\d+\\.\\s/.test(line.trim()));\r\n    }\r\n\r\n    /**\r\n     * Parse markdown string to create an ordered list block instance\r\n     * @param {string} markdownString - Markdown to parse\r\n     * @returns {OrderedListBlock|null} - Block instance or null if can't parse\r\n     */\r\n    static parseFromMarkdown(markdownString) {\r\n        if (!this.canParseMarkdown(markdownString)) return null;\r\n        \r\n        const lines = markdownString.trim().split('\\n');\r\n        const items = lines.map(line => line.replace(/^\\d+\\.\\s/, ''));\r\n        const content = items.join('\\n');\r\n        \r\n        return new OrderedListBlock(content);\r\n    }\r\n}\r\n","'use strict';\r\n\r\nimport {ListBlock} from \"@/blocks/ListBlock\";\r\nimport {BlockType} from \"@/BlockType\";\r\nimport {Editor} from \"@/Editor\";\r\n\r\n/**\r\n * Task list block (checkbox list)\r\n */\r\nexport class TaskListBlock extends ListBlock\r\n{\r\n    constructor(content = '', html = '', nested = false) {\r\n        super(BlockType.SQ, content, html, nested);\r\n        this._checked = false; // Track checkbox state - must be after super() call\r\n    }\r\n\r\n    /**\r\n     * Handle key press for task list blocks\r\n     * @param {KeyboardEvent} event\r\n     * @param {string} text - current text content of the block\r\n     * @returns {boolean} - true if key was handled, false otherwise\r\n     */\r\n    handleKeyPress(event, text) {\r\n        // Handle checkbox toggling and task list continuation\r\n        if (event.key === ' ' && event.ctrlKey) {\r\n            // Toggle checkbox state\r\n            this.toggleCheckbox(event.target.closest('.block'));\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * Toggle checkbox state for the task list item\r\n     * @param {HTMLElement} currentBlock\r\n     */\r\n    toggleCheckbox(currentBlock) {\r\n        if (!currentBlock) return;\r\n        \r\n        // Try to find the checkbox in the current block\r\n        let checkbox = null;\r\n        let targetListItem = null;\r\n        let textContainer = null;\r\n        \r\n        // First, try to find checkbox directly in the current block (legacy compatibility)\r\n        if (typeof currentBlock.querySelector === 'function') {\r\n            checkbox = currentBlock.querySelector('input[type=\"checkbox\"]');\r\n            \r\n            if (!checkbox) {\r\n                // Try to find the currently focused task item within the block\r\n                if (typeof window !== 'undefined' && window.getSelection) {\r\n                    const selection = window.getSelection();\r\n                    if (selection.rangeCount > 0) {\r\n                        const range = selection.getRangeAt(0);\r\n                        const element = range.startContainer.nodeType === Node.TEXT_NODE ? \r\n                            range.startContainer.parentElement : range.startContainer;\r\n                        targetListItem = element.closest('li.task-list-item');\r\n                        \r\n                        if (targetListItem && typeof targetListItem.querySelector === 'function') {\r\n                            checkbox = targetListItem.querySelector('input[type=\"checkbox\"]');\r\n                            textContainer = targetListItem.querySelector('span[contenteditable]');\r\n                        }\r\n                    }\r\n                }\r\n                \r\n                // If no specific item is focused, toggle the first checkbox in the block\r\n                if (!checkbox) {\r\n                    targetListItem = currentBlock.querySelector('li.task-list-item');\r\n                    if (targetListItem && typeof targetListItem.querySelector === 'function') {\r\n                        checkbox = targetListItem.querySelector('input[type=\"checkbox\"]');\r\n                        textContainer = targetListItem.querySelector('span[contenteditable]');\r\n                    }\r\n                }\r\n            } else {\r\n                // Direct checkbox found - legacy mode for tests\r\n                targetListItem = currentBlock;\r\n            }\r\n        }\r\n        \r\n        if (!checkbox) return;\r\n        \r\n        // Toggle checkbox state\r\n        checkbox.checked = !checkbox.checked;\r\n        this._checked = checkbox.checked;\r\n        \r\n        // Update visual state\r\n        if (targetListItem) {\r\n            if (checkbox.checked) {\r\n                if (typeof targetListItem.classList?.add === 'function') {\r\n                    targetListItem.classList.add('task-completed');\r\n                }\r\n                if (textContainer && textContainer.style) {\r\n                    textContainer.style.textDecoration = 'line-through';\r\n                    textContainer.style.opacity = '0.6';\r\n                }\r\n            } else {\r\n                if (typeof targetListItem.classList?.remove === 'function') {\r\n                    targetListItem.classList.remove('task-completed');\r\n                }\r\n                if (textContainer && textContainer.style) {\r\n                    textContainer.style.textDecoration = 'none';\r\n                    textContainer.style.opacity = '1';\r\n                }\r\n            }\r\n        }\r\n        \r\n        // Trigger editor update\r\n        Editor.update();\r\n    }\r\n\r\n    /**\r\n     * Create a new task list item\r\n     * @param {HTMLElement} currentBlock - The block containing the list\r\n     * @param {HTMLElement} currentListItem - The current list item\r\n     */\r\n    createNewListItem(currentBlock, currentListItem) {\r\n        // Find the ul element within the current block\r\n        let ulElement = null;\r\n        \r\n        if (typeof currentBlock.querySelector === 'function') {\r\n            ulElement = currentBlock.querySelector('ul');\r\n        }\r\n        \r\n        if (!ulElement) {\r\n            // Fallback: if no ul found, assume currentBlock is the container\r\n            // This helps with test compatibility\r\n            ulElement = currentBlock;\r\n        }\r\n        \r\n        // Create new task list item\r\n        const newListItem = this.createTaskListItem('', false);\r\n        \r\n        // Append to the ul element or container\r\n        if (typeof ulElement.appendChild === 'function') {\r\n            ulElement.appendChild(newListItem);\r\n        }\r\n        \r\n        // Focus on the text container\r\n        const textContainer = newListItem && typeof newListItem.querySelector === 'function' \r\n            ? newListItem.querySelector('span[contenteditable]') \r\n            : null;\r\n            \r\n        if (typeof Editor.setCurrentBlock === 'function') {\r\n            Editor.setCurrentBlock(currentBlock); // Keep the block reference\r\n        }\r\n        \r\n        // Use requestAnimationFrame to ensure DOM is updated before focusing\r\n        if (typeof requestAnimationFrame === 'function') {\r\n            requestAnimationFrame(() => {\r\n                if (textContainer && typeof textContainer.focus === 'function') {\r\n                    textContainer.focus();\r\n                    // Place cursor at the start of the text container\r\n                    if (typeof window !== 'undefined' && window.getSelection) {\r\n                        const selection = window.getSelection();\r\n                        const range = document.createRange();\r\n                        range.setStart(textContainer, 0);\r\n                        range.collapse(true);\r\n                        selection.removeAllRanges();\r\n                        selection.addRange(range);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        \r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Get markdown triggers for task list blocks\r\n     * @returns {Array<string>} - Array of markdown triggers\r\n     */\r\n    static getMarkdownTriggers() {\r\n        return ['- [ ]', '- [x]', '- [X]', '- []', '[]', '[x]', '[X]', '[ ]'];\r\n    }\r\n\r\n    /**\r\n     * Apply transformation to the current block\r\n     * @returns {string} - markdown representation\r\n     */\r\n    applyTransformation() {\r\n        // Get current block and convert to task list\r\n        const currentBlock = Editor.currentBlock;\r\n        if (!currentBlock) return;\r\n        \r\n        // Set block type\r\n        currentBlock.setAttribute('data-block-type', 'sq');\r\n        \r\n        // Clear existing content\r\n        const existingText = currentBlock.textContent.trim();\r\n        currentBlock.innerHTML = '';\r\n        \r\n        // Create checkbox\r\n        const checkbox = document.createElement('input');\r\n        checkbox.type = 'checkbox';\r\n        checkbox.addEventListener('change', (e) => {\r\n            this.toggleCheckbox(currentBlock);\r\n        });\r\n        \r\n        currentBlock.appendChild(checkbox);\r\n        currentBlock.appendChild(document.createTextNode(' ' + existingText));\r\n        \r\n        Editor.setCurrentBlock(currentBlock);\r\n        Editor.update();\r\n    }\r\n\r\n    /**\r\n     * Get toolbar configuration for task lists\r\n     * @returns {Object} - toolbar button configuration\r\n     */\r\n    static getToolbarConfig() {\r\n        return {\r\n            class: 'editor-toolbar-sq',\r\n            icon: 'fa-list-check',\r\n            title: 'Checklist',\r\n            group: 'lists'\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Convert this task list block to markdown\r\n     * @returns {string} - markdown representation\r\n     */\r\n    toMarkdown() {\r\n        const tasks = this._content ? this._content.split('\\n').filter(task => task.trim()) : [''];\r\n        \r\n        if (tasks.length === 0 || (tasks.length === 1 && !tasks[0].trim())) {\r\n            // Single empty or single task\r\n            const checkbox = this._checked ? '[x]' : '[ ]';\r\n            return `- ${checkbox} ${tasks[0] || ''}`;\r\n        }\r\n        \r\n        // Multiple tasks\r\n        return tasks.map((task, index) => {\r\n            // For now, use the block's checked state for the first item only\r\n            const isChecked = index === 0 ? this._checked : false;\r\n            const checkbox = isChecked ? '[x]' : '[ ]';\r\n            return `- ${checkbox} ${task.trim()}`;\r\n        }).join('\\n');\r\n    }\r\n\r\n    /**\r\n     * Convert this task list block to HTML\r\n     * @returns {string} - HTML representation\r\n     */\r\n    toHtml() {\r\n        const tasks = this._content ? this._content.split('\\n').filter(task => task.trim()) : [''];\r\n        \r\n        if (tasks.length === 0 || (tasks.length === 1 && !tasks[0].trim())) {\r\n            // Single empty task\r\n            const checked = this._checked ? ' checked' : '';\r\n            return `<ul class=\"task-list\">\\n<li class=\"task-list-item\"><input type=\"checkbox\"${checked}> </li>\\n</ul>`;\r\n        }\r\n        \r\n        // Multiple tasks\r\n        const listItems = tasks.map((task, index) => {\r\n            // For now, use the block's checked state for the first item only\r\n            const isChecked = index === 0 ? this._checked : false;\r\n            const checked = isChecked ? ' checked' : '';\r\n            const completedClass = isChecked ? ' task-completed' : '';\r\n            return `<li class=\"task-list-item${completedClass}\"><input type=\"checkbox\"${checked}> ${task.trim()}</li>`;\r\n        }).join('\\n');\r\n        \r\n        return `<ul class=\"task-list\">\\n${listItems}\\n</ul>`;\r\n    }\r\n\r\n    /**\r\n     * Set checkbox state\r\n     * @param {boolean} checked\r\n     */\r\n    setChecked(checked) {\r\n        this._checked = checked;\r\n    }\r\n\r\n    /**\r\n     * Get checkbox state\r\n     * @returns {boolean}\r\n     */\r\n    isChecked() {\r\n        return this._checked;\r\n    }\r\n\r\n    /**\r\n     * Render this task list block as an HTML element\r\n     * @returns {HTMLElement} - DOM element representation\r\n     */\r\n    renderToElement() {\r\n        // Create div wrapper for the block\r\n        let element = document.createElement('div');\r\n        element.classList.add('block');\r\n        element.classList.add('block-sq');\r\n        element.setAttribute('data-block-type', 'sq');\r\n        element.setAttribute('data-placeholder', 'Task item');\r\n        \r\n        // Create the actual ul element (semantic unordered list)\r\n        let ulElement = document.createElement('ul');\r\n        if (ulElement.classList && typeof ulElement.classList.add === 'function') {\r\n            ulElement.classList.add('task-list');\r\n        }\r\n        if (ulElement.style) {\r\n            ulElement.style.listStyle = 'none';\r\n            ulElement.style.marginLeft = '0';\r\n            ulElement.style.paddingLeft = '0';\r\n        }\r\n        \r\n        // Parse content to create multiple task items if needed\r\n        const tasks = this._content ? this._content.split('\\n').filter(task => task.trim()) : [''];\r\n        \r\n        if (tasks.length === 0 || (tasks.length === 1 && !tasks[0].trim())) {\r\n            // Create single empty task item\r\n            const listItem = this.createTaskListItem('', this._checked);\r\n            if (ulElement && typeof ulElement.appendChild === 'function') {\r\n                ulElement.appendChild(listItem);\r\n            }\r\n        } else {\r\n            // Create task items for each line\r\n            tasks.forEach((taskText, index) => {\r\n                // For now, use the block's checked state for all items\r\n                // In the future, this could be enhanced to track individual item states\r\n                const isChecked = index === 0 ? this._checked : false;\r\n                const listItem = this.createTaskListItem(taskText.trim(), isChecked);\r\n                if (ulElement && typeof ulElement.appendChild === 'function') {\r\n                    ulElement.appendChild(listItem);\r\n                }\r\n            });\r\n        }\r\n        \r\n        // Append ul to the div wrapper\r\n        if (element && typeof element.appendChild === 'function') {\r\n            element.appendChild(ulElement);\r\n        }\r\n        \r\n        return element;\r\n    }\r\n\r\n    /**\r\n     * Create a single task list item element\r\n     * @param {string} taskText - Text content of the task\r\n     * @param {boolean} isChecked - Whether the task is checked\r\n     * @returns {HTMLElement} - li element with checkbox and text\r\n     */\r\n    createTaskListItem(taskText, isChecked = false) {\r\n        const listItem = document.createElement('li');\r\n        \r\n        // Add class safely\r\n        if (listItem.classList && typeof listItem.classList.add === 'function') {\r\n            listItem.classList.add('task-list-item');\r\n        }\r\n        \r\n        // Set data-block-type attribute for compatibility\r\n        if (typeof listItem.setAttribute === 'function') {\r\n            listItem.setAttribute('data-block-type', 'sq');\r\n        }\r\n        \r\n        // Set styles if available\r\n        if (listItem.style) {\r\n            listItem.style.listStyle = 'none';\r\n            listItem.style.display = 'flex';\r\n            listItem.style.alignItems = 'flex-start';\r\n            listItem.style.marginBottom = '4px';\r\n        }\r\n        \r\n        // Create checkbox\r\n        const checkbox = document.createElement('input');\r\n        if (checkbox) {\r\n            checkbox.type = 'checkbox';\r\n            checkbox.checked = isChecked;\r\n            \r\n            if (checkbox.style) {\r\n                checkbox.style.marginRight = '8px';\r\n                checkbox.style.marginTop = '2px';\r\n                checkbox.style.flexShrink = '0';\r\n            }\r\n        }\r\n        \r\n        // Create text container that is editable\r\n        const textContainer = document.createElement('span');\r\n        if (textContainer) {\r\n            textContainer.contentEditable = true;\r\n            textContainer.textContent = taskText || '';\r\n            \r\n            if (textContainer.style) {\r\n                textContainer.style.outline = 'none';\r\n                textContainer.style.flex = '1';\r\n            }\r\n        }\r\n        \r\n        // Apply completed styling if checked\r\n        if (isChecked) {\r\n            if (listItem.classList && typeof listItem.classList.add === 'function') {\r\n                listItem.classList.add('task-completed');\r\n            }\r\n            if (textContainer && textContainer.style) {\r\n                textContainer.style.textDecoration = 'line-through';\r\n                textContainer.style.opacity = '0.6';\r\n            }\r\n        }\r\n        \r\n        // Add change event listener to handle dynamic updates\r\n        if (checkbox) {\r\n            checkbox.addEventListener('change', (e) => {\r\n                const isChecked = checkbox.checked;\r\n                \r\n                if (isChecked) {\r\n                    if (listItem.classList && typeof listItem.classList.add === 'function') {\r\n                        listItem.classList.add('task-completed');\r\n                    }\r\n                    if (textContainer && textContainer.style) {\r\n                        textContainer.style.textDecoration = 'line-through';\r\n                        textContainer.style.opacity = '0.6';\r\n                    }\r\n                } else {\r\n                    if (listItem.classList && typeof listItem.classList.remove === 'function') {\r\n                        listItem.classList.remove('task-completed');\r\n                    }\r\n                    if (textContainer && textContainer.style) {\r\n                        textContainer.style.textDecoration = 'none';\r\n                        textContainer.style.opacity = '1';\r\n                    }\r\n                }\r\n                \r\n                // Update block state if this is the first/main item\r\n                this._checked = isChecked;\r\n                \r\n                // Trigger editor update\r\n                if (typeof Editor.update === 'function') {\r\n                    Editor.update();\r\n                }\r\n            });\r\n        }\r\n        \r\n        // Append children safely\r\n        if (checkbox && typeof listItem.appendChild === 'function') {\r\n            listItem.appendChild(checkbox);\r\n        }\r\n        if (textContainer && typeof listItem.appendChild === 'function') {\r\n            listItem.appendChild(textContainer);\r\n        }\r\n        \r\n        return listItem;\r\n    }\r\n\r\n    /**\r\n     * Check if this block type can parse the given HTML\r\n     * @param {string} htmlString - HTML to check\r\n     * @returns {boolean} - true if can parse, false otherwise\r\n     */\r\n    static canParseHtml(htmlString) {\r\n        return htmlString.includes('data-block-type=\"sq\"') ||\r\n               (htmlString.includes('<input type=\"checkbox\"') && \r\n                (htmlString.includes('<li') || htmlString.includes('task-list'))) ||\r\n               htmlString.includes('class=\"task-list\"');\r\n    }\r\n\r\n    /**\r\n     * Parse HTML string to create a task list block instance\r\n     * @param {string} htmlString - HTML to parse\r\n     * @returns {TaskListBlock|null} - Block instance or null if can't parse\r\n     */\r\n    static parseFromHtml(htmlString) {\r\n        if (!this.canParseHtml(htmlString)) return null;\r\n\r\n        // Parse the HTML to extract task items\r\n        const parser = new DOMParser();\r\n        const doc = parser.parseFromString(htmlString, 'text/html');\r\n        \r\n        // Look for task list items\r\n        const taskItems = doc.querySelectorAll('li.task-list-item, li[data-block-type=\"sq\"]');\r\n        \r\n        if (taskItems.length === 0) {\r\n            // Try to parse a single checkbox input\r\n            const checkboxMatch = htmlString.match(/<input type=\"checkbox\"([^>]*)?>/);\r\n            const isChecked = checkboxMatch && checkboxMatch[1] && checkboxMatch[1].includes('checked');\r\n            const textContent = htmlString.replace(/<[^>]+>/g, '').trim();\r\n            \r\n            const taskBlock = new TaskListBlock(textContent, htmlString);\r\n            taskBlock.setChecked(isChecked);\r\n            return taskBlock;\r\n        }\r\n        \r\n        // Extract content from all task items\r\n        const tasks = Array.from(taskItems).map(li => {\r\n            const checkbox = li.querySelector('input[type=\"checkbox\"]');\r\n            const isChecked = checkbox ? checkbox.checked : false;\r\n            const text = li.textContent.replace(/^\\s*\\[\\s*[xX]?\\s*\\]\\s*/, '').trim();\r\n            return { text, isChecked };\r\n        });\r\n        \r\n        // Use the first task for the block content and state\r\n        const firstTask = tasks[0];\r\n        const content = tasks.map(task => task.text).join('\\n');\r\n        \r\n        const taskBlock = new TaskListBlock(content, htmlString);\r\n        taskBlock.setChecked(firstTask.isChecked);\r\n        return taskBlock;\r\n    }\r\n\r\n    /**\r\n     * Check if this block type can parse the given markdown\r\n     * @param {string} markdownString - Markdown to check\r\n     * @returns {boolean} - true if can parse, false otherwise\r\n     */\r\n    static canParseMarkdown(markdownString) {\r\n        return /^-\\s*\\[[xX ]?\\]\\s*/.test(markdownString.trim());\r\n    }\r\n\r\n    /**\r\n     * Parse markdown string to create a task list block instance\r\n     * @param {string} markdownString - Markdown to parse\r\n     * @returns {TaskListBlock|null} - Block instance or null if can't parse\r\n     */\r\n    static parseFromMarkdown(markdownString) {\r\n        const match = markdownString.trim().match(/^-\\s*\\[([xX ]?)\\]\\s*(.*)$/);\r\n        if (!match) return null;\r\n\r\n        const checkState = match[1].toLowerCase();\r\n        const isChecked = checkState === 'x';\r\n        const content = match[2].trim();\r\n        const checked = isChecked ? ' checked' : '';\r\n        const html = `<li class=\"task-list-item\" data-block-type=\"sq\"><input type=\"checkbox\"${checked}> ${content}</li>`;\r\n        \r\n        const taskBlock = new TaskListBlock(content, html);\r\n        taskBlock.setChecked(isChecked);\r\n        return taskBlock;\r\n    }\r\n}\r\n","\n/* **********************************************\n     Begin prism-core.js\n********************************************** */\n\n/// <reference lib=\"WebWorker\"/>\n\nvar _self = (typeof window !== 'undefined')\n\t? window   // if in browser\n\t: (\n\t\t(typeof WorkerGlobalScope !== 'undefined' && self instanceof WorkerGlobalScope)\n\t\t\t? self // if in worker\n\t\t\t: {}   // if in node js\n\t);\n\n/**\n * Prism: Lightweight, robust, elegant syntax highlighting\n *\n * @license MIT <https://opensource.org/licenses/MIT>\n * @author Lea Verou <https://lea.verou.me>\n * @namespace\n * @public\n */\nvar Prism = (function (_self) {\n\n\t// Private helper vars\n\tvar lang = /(?:^|\\s)lang(?:uage)?-([\\w-]+)(?=\\s|$)/i;\n\tvar uniqueId = 0;\n\n\t// The grammar object for plaintext\n\tvar plainTextGrammar = {};\n\n\n\tvar _ = {\n\t\t/**\n\t\t * By default, Prism will attempt to highlight all code elements (by calling {@link Prism.highlightAll}) on the\n\t\t * current page after the page finished loading. This might be a problem if e.g. you wanted to asynchronously load\n\t\t * additional languages or plugins yourself.\n\t\t *\n\t\t * By setting this value to `true`, Prism will not automatically highlight all code elements on the page.\n\t\t *\n\t\t * You obviously have to change this value before the automatic highlighting started. To do this, you can add an\n\t\t * empty Prism object into the global scope before loading the Prism script like this:\n\t\t *\n\t\t * ```js\n\t\t * window.Prism = window.Prism || {};\n\t\t * Prism.manual = true;\n\t\t * // add a new <script> to load Prism's script\n\t\t * ```\n\t\t *\n\t\t * @default false\n\t\t * @type {boolean}\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\tmanual: _self.Prism && _self.Prism.manual,\n\t\t/**\n\t\t * By default, if Prism is in a web worker, it assumes that it is in a worker it created itself, so it uses\n\t\t * `addEventListener` to communicate with its parent instance. However, if you're using Prism manually in your\n\t\t * own worker, you don't want it to do this.\n\t\t *\n\t\t * By setting this value to `true`, Prism will not add its own listeners to the worker.\n\t\t *\n\t\t * You obviously have to change this value before Prism executes. To do this, you can add an\n\t\t * empty Prism object into the global scope before loading the Prism script like this:\n\t\t *\n\t\t * ```js\n\t\t * window.Prism = window.Prism || {};\n\t\t * Prism.disableWorkerMessageHandler = true;\n\t\t * // Load Prism's script\n\t\t * ```\n\t\t *\n\t\t * @default false\n\t\t * @type {boolean}\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\tdisableWorkerMessageHandler: _self.Prism && _self.Prism.disableWorkerMessageHandler,\n\n\t\t/**\n\t\t * A namespace for utility methods.\n\t\t *\n\t\t * All function in this namespace that are not explicitly marked as _public_ are for __internal use only__ and may\n\t\t * change or disappear at any time.\n\t\t *\n\t\t * @namespace\n\t\t * @memberof Prism\n\t\t */\n\t\tutil: {\n\t\t\tencode: function encode(tokens) {\n\t\t\t\tif (tokens instanceof Token) {\n\t\t\t\t\treturn new Token(tokens.type, encode(tokens.content), tokens.alias);\n\t\t\t\t} else if (Array.isArray(tokens)) {\n\t\t\t\t\treturn tokens.map(encode);\n\t\t\t\t} else {\n\t\t\t\t\treturn tokens.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/\\u00a0/g, ' ');\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns the name of the type of the given value.\n\t\t\t *\n\t\t\t * @param {any} o\n\t\t\t * @returns {string}\n\t\t\t * @example\n\t\t\t * type(null)      === 'Null'\n\t\t\t * type(undefined) === 'Undefined'\n\t\t\t * type(123)       === 'Number'\n\t\t\t * type('foo')     === 'String'\n\t\t\t * type(true)      === 'Boolean'\n\t\t\t * type([1, 2])    === 'Array'\n\t\t\t * type({})        === 'Object'\n\t\t\t * type(String)    === 'Function'\n\t\t\t * type(/abc+/)    === 'RegExp'\n\t\t\t */\n\t\t\ttype: function (o) {\n\t\t\t\treturn Object.prototype.toString.call(o).slice(8, -1);\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns a unique number for the given object. Later calls will still return the same number.\n\t\t\t *\n\t\t\t * @param {Object} obj\n\t\t\t * @returns {number}\n\t\t\t */\n\t\t\tobjId: function (obj) {\n\t\t\t\tif (!obj['__id']) {\n\t\t\t\t\tObject.defineProperty(obj, '__id', { value: ++uniqueId });\n\t\t\t\t}\n\t\t\t\treturn obj['__id'];\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Creates a deep clone of the given object.\n\t\t\t *\n\t\t\t * The main intended use of this function is to clone language definitions.\n\t\t\t *\n\t\t\t * @param {T} o\n\t\t\t * @param {Record<number, any>} [visited]\n\t\t\t * @returns {T}\n\t\t\t * @template T\n\t\t\t */\n\t\t\tclone: function deepClone(o, visited) {\n\t\t\t\tvisited = visited || {};\n\n\t\t\t\tvar clone; var id;\n\t\t\t\tswitch (_.util.type(o)) {\n\t\t\t\t\tcase 'Object':\n\t\t\t\t\t\tid = _.util.objId(o);\n\t\t\t\t\t\tif (visited[id]) {\n\t\t\t\t\t\t\treturn visited[id];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tclone = /** @type {Record<string, any>} */ ({});\n\t\t\t\t\t\tvisited[id] = clone;\n\n\t\t\t\t\t\tfor (var key in o) {\n\t\t\t\t\t\t\tif (o.hasOwnProperty(key)) {\n\t\t\t\t\t\t\t\tclone[key] = deepClone(o[key], visited);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn /** @type {any} */ (clone);\n\n\t\t\t\t\tcase 'Array':\n\t\t\t\t\t\tid = _.util.objId(o);\n\t\t\t\t\t\tif (visited[id]) {\n\t\t\t\t\t\t\treturn visited[id];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tclone = [];\n\t\t\t\t\t\tvisited[id] = clone;\n\n\t\t\t\t\t\t(/** @type {Array} */(/** @type {any} */(o))).forEach(function (v, i) {\n\t\t\t\t\t\t\tclone[i] = deepClone(v, visited);\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\treturn /** @type {any} */ (clone);\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn o;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns the Prism language of the given element set by a `language-xxxx` or `lang-xxxx` class.\n\t\t\t *\n\t\t\t * If no language is set for the element or the element is `null` or `undefined`, `none` will be returned.\n\t\t\t *\n\t\t\t * @param {Element} element\n\t\t\t * @returns {string}\n\t\t\t */\n\t\t\tgetLanguage: function (element) {\n\t\t\t\twhile (element) {\n\t\t\t\t\tvar m = lang.exec(element.className);\n\t\t\t\t\tif (m) {\n\t\t\t\t\t\treturn m[1].toLowerCase();\n\t\t\t\t\t}\n\t\t\t\t\telement = element.parentElement;\n\t\t\t\t}\n\t\t\t\treturn 'none';\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Sets the Prism `language-xxxx` class of the given element.\n\t\t\t *\n\t\t\t * @param {Element} element\n\t\t\t * @param {string} language\n\t\t\t * @returns {void}\n\t\t\t */\n\t\t\tsetLanguage: function (element, language) {\n\t\t\t\t// remove all `language-xxxx` classes\n\t\t\t\t// (this might leave behind a leading space)\n\t\t\t\telement.className = element.className.replace(RegExp(lang, 'gi'), '');\n\n\t\t\t\t// add the new `language-xxxx` class\n\t\t\t\t// (using `classList` will automatically clean up spaces for us)\n\t\t\t\telement.classList.add('language-' + language);\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns the script element that is currently executing.\n\t\t\t *\n\t\t\t * This does __not__ work for line script element.\n\t\t\t *\n\t\t\t * @returns {HTMLScriptElement | null}\n\t\t\t */\n\t\t\tcurrentScript: function () {\n\t\t\t\tif (typeof document === 'undefined') {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\tif (document.currentScript && document.currentScript.tagName === 'SCRIPT' && 1 < 2 /* hack to trip TS' flow analysis */) {\n\t\t\t\t\treturn /** @type {any} */ (document.currentScript);\n\t\t\t\t}\n\n\t\t\t\t// IE11 workaround\n\t\t\t\t// we'll get the src of the current script by parsing IE11's error stack trace\n\t\t\t\t// this will not work for inline scripts\n\n\t\t\t\ttry {\n\t\t\t\t\tthrow new Error();\n\t\t\t\t} catch (err) {\n\t\t\t\t\t// Get file src url from stack. Specifically works with the format of stack traces in IE.\n\t\t\t\t\t// A stack will look like this:\n\t\t\t\t\t//\n\t\t\t\t\t// Error\n\t\t\t\t\t//    at _.util.currentScript (http://localhost/components/prism-core.js:119:5)\n\t\t\t\t\t//    at Global code (http://localhost/components/prism-core.js:606:1)\n\n\t\t\t\t\tvar src = (/at [^(\\r\\n]*\\((.*):[^:]+:[^:]+\\)$/i.exec(err.stack) || [])[1];\n\t\t\t\t\tif (src) {\n\t\t\t\t\t\tvar scripts = document.getElementsByTagName('script');\n\t\t\t\t\t\tfor (var i in scripts) {\n\t\t\t\t\t\t\tif (scripts[i].src == src) {\n\t\t\t\t\t\t\t\treturn scripts[i];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns whether a given class is active for `element`.\n\t\t\t *\n\t\t\t * The class can be activated if `element` or one of its ancestors has the given class and it can be deactivated\n\t\t\t * if `element` or one of its ancestors has the negated version of the given class. The _negated version_ of the\n\t\t\t * given class is just the given class with a `no-` prefix.\n\t\t\t *\n\t\t\t * Whether the class is active is determined by the closest ancestor of `element` (where `element` itself is\n\t\t\t * closest ancestor) that has the given class or the negated version of it. If neither `element` nor any of its\n\t\t\t * ancestors have the given class or the negated version of it, then the default activation will be returned.\n\t\t\t *\n\t\t\t * In the paradoxical situation where the closest ancestor contains __both__ the given class and the negated\n\t\t\t * version of it, the class is considered active.\n\t\t\t *\n\t\t\t * @param {Element} element\n\t\t\t * @param {string} className\n\t\t\t * @param {boolean} [defaultActivation=false]\n\t\t\t * @returns {boolean}\n\t\t\t */\n\t\t\tisActive: function (element, className, defaultActivation) {\n\t\t\t\tvar no = 'no-' + className;\n\n\t\t\t\twhile (element) {\n\t\t\t\t\tvar classList = element.classList;\n\t\t\t\t\tif (classList.contains(className)) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tif (classList.contains(no)) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\telement = element.parentElement;\n\t\t\t\t}\n\t\t\t\treturn !!defaultActivation;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * This namespace contains all currently loaded languages and the some helper functions to create and modify languages.\n\t\t *\n\t\t * @namespace\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\tlanguages: {\n\t\t\t/**\n\t\t\t * The grammar for plain, unformatted text.\n\t\t\t */\n\t\t\tplain: plainTextGrammar,\n\t\t\tplaintext: plainTextGrammar,\n\t\t\ttext: plainTextGrammar,\n\t\t\ttxt: plainTextGrammar,\n\n\t\t\t/**\n\t\t\t * Creates a deep copy of the language with the given id and appends the given tokens.\n\t\t\t *\n\t\t\t * If a token in `redef` also appears in the copied language, then the existing token in the copied language\n\t\t\t * will be overwritten at its original position.\n\t\t\t *\n\t\t\t * ## Best practices\n\t\t\t *\n\t\t\t * Since the position of overwriting tokens (token in `redef` that overwrite tokens in the copied language)\n\t\t\t * doesn't matter, they can technically be in any order. However, this can be confusing to others that trying to\n\t\t\t * understand the language definition because, normally, the order of tokens matters in Prism grammars.\n\t\t\t *\n\t\t\t * Therefore, it is encouraged to order overwriting tokens according to the positions of the overwritten tokens.\n\t\t\t * Furthermore, all non-overwriting tokens should be placed after the overwriting ones.\n\t\t\t *\n\t\t\t * @param {string} id The id of the language to extend. This has to be a key in `Prism.languages`.\n\t\t\t * @param {Grammar} redef The new tokens to append.\n\t\t\t * @returns {Grammar} The new language created.\n\t\t\t * @public\n\t\t\t * @example\n\t\t\t * Prism.languages['css-with-colors'] = Prism.languages.extend('css', {\n\t\t\t *     // Prism.languages.css already has a 'comment' token, so this token will overwrite CSS' 'comment' token\n\t\t\t *     // at its original position\n\t\t\t *     'comment': { ... },\n\t\t\t *     // CSS doesn't have a 'color' token, so this token will be appended\n\t\t\t *     'color': /\\b(?:red|green|blue)\\b/\n\t\t\t * });\n\t\t\t */\n\t\t\textend: function (id, redef) {\n\t\t\t\tvar lang = _.util.clone(_.languages[id]);\n\n\t\t\t\tfor (var key in redef) {\n\t\t\t\t\tlang[key] = redef[key];\n\t\t\t\t}\n\n\t\t\t\treturn lang;\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Inserts tokens _before_ another token in a language definition or any other grammar.\n\t\t\t *\n\t\t\t * ## Usage\n\t\t\t *\n\t\t\t * This helper method makes it easy to modify existing languages. For example, the CSS language definition\n\t\t\t * not only defines CSS highlighting for CSS documents, but also needs to define highlighting for CSS embedded\n\t\t\t * in HTML through `<style>` elements. To do this, it needs to modify `Prism.languages.markup` and add the\n\t\t\t * appropriate tokens. However, `Prism.languages.markup` is a regular JavaScript object literal, so if you do\n\t\t\t * this:\n\t\t\t *\n\t\t\t * ```js\n\t\t\t * Prism.languages.markup.style = {\n\t\t\t *     // token\n\t\t\t * };\n\t\t\t * ```\n\t\t\t *\n\t\t\t * then the `style` token will be added (and processed) at the end. `insertBefore` allows you to insert tokens\n\t\t\t * before existing tokens. For the CSS example above, you would use it like this:\n\t\t\t *\n\t\t\t * ```js\n\t\t\t * Prism.languages.insertBefore('markup', 'cdata', {\n\t\t\t *     'style': {\n\t\t\t *         // token\n\t\t\t *     }\n\t\t\t * });\n\t\t\t * ```\n\t\t\t *\n\t\t\t * ## Special cases\n\t\t\t *\n\t\t\t * If the grammars of `inside` and `insert` have tokens with the same name, the tokens in `inside`'s grammar\n\t\t\t * will be ignored.\n\t\t\t *\n\t\t\t * This behavior can be used to insert tokens after `before`:\n\t\t\t *\n\t\t\t * ```js\n\t\t\t * Prism.languages.insertBefore('markup', 'comment', {\n\t\t\t *     'comment': Prism.languages.markup.comment,\n\t\t\t *     // tokens after 'comment'\n\t\t\t * });\n\t\t\t * ```\n\t\t\t *\n\t\t\t * ## Limitations\n\t\t\t *\n\t\t\t * The main problem `insertBefore` has to solve is iteration order. Since ES2015, the iteration order for object\n\t\t\t * properties is guaranteed to be the insertion order (except for integer keys) but some browsers behave\n\t\t\t * differently when keys are deleted and re-inserted. So `insertBefore` can't be implemented by temporarily\n\t\t\t * deleting properties which is necessary to insert at arbitrary positions.\n\t\t\t *\n\t\t\t * To solve this problem, `insertBefore` doesn't actually insert the given tokens into the target object.\n\t\t\t * Instead, it will create a new object and replace all references to the target object with the new one. This\n\t\t\t * can be done without temporarily deleting properties, so the iteration order is well-defined.\n\t\t\t *\n\t\t\t * However, only references that can be reached from `Prism.languages` or `insert` will be replaced. I.e. if\n\t\t\t * you hold the target object in a variable, then the value of the variable will not change.\n\t\t\t *\n\t\t\t * ```js\n\t\t\t * var oldMarkup = Prism.languages.markup;\n\t\t\t * var newMarkup = Prism.languages.insertBefore('markup', 'comment', { ... });\n\t\t\t *\n\t\t\t * assert(oldMarkup !== Prism.languages.markup);\n\t\t\t * assert(newMarkup === Prism.languages.markup);\n\t\t\t * ```\n\t\t\t *\n\t\t\t * @param {string} inside The property of `root` (e.g. a language id in `Prism.languages`) that contains the\n\t\t\t * object to be modified.\n\t\t\t * @param {string} before The key to insert before.\n\t\t\t * @param {Grammar} insert An object containing the key-value pairs to be inserted.\n\t\t\t * @param {Object<string, any>} [root] The object containing `inside`, i.e. the object that contains the\n\t\t\t * object to be modified.\n\t\t\t *\n\t\t\t * Defaults to `Prism.languages`.\n\t\t\t * @returns {Grammar} The new grammar object.\n\t\t\t * @public\n\t\t\t */\n\t\t\tinsertBefore: function (inside, before, insert, root) {\n\t\t\t\troot = root || /** @type {any} */ (_.languages);\n\t\t\t\tvar grammar = root[inside];\n\t\t\t\t/** @type {Grammar} */\n\t\t\t\tvar ret = {};\n\n\t\t\t\tfor (var token in grammar) {\n\t\t\t\t\tif (grammar.hasOwnProperty(token)) {\n\n\t\t\t\t\t\tif (token == before) {\n\t\t\t\t\t\t\tfor (var newToken in insert) {\n\t\t\t\t\t\t\t\tif (insert.hasOwnProperty(newToken)) {\n\t\t\t\t\t\t\t\t\tret[newToken] = insert[newToken];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Do not insert token which also occur in insert. See #1525\n\t\t\t\t\t\tif (!insert.hasOwnProperty(token)) {\n\t\t\t\t\t\t\tret[token] = grammar[token];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tvar old = root[inside];\n\t\t\t\troot[inside] = ret;\n\n\t\t\t\t// Update references in other language definitions\n\t\t\t\t_.languages.DFS(_.languages, function (key, value) {\n\t\t\t\t\tif (value === old && key != inside) {\n\t\t\t\t\t\tthis[key] = ret;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\treturn ret;\n\t\t\t},\n\n\t\t\t// Traverse a language definition with Depth First Search\n\t\t\tDFS: function DFS(o, callback, type, visited) {\n\t\t\t\tvisited = visited || {};\n\n\t\t\t\tvar objId = _.util.objId;\n\n\t\t\t\tfor (var i in o) {\n\t\t\t\t\tif (o.hasOwnProperty(i)) {\n\t\t\t\t\t\tcallback.call(o, i, o[i], type || i);\n\n\t\t\t\t\t\tvar property = o[i];\n\t\t\t\t\t\tvar propertyType = _.util.type(property);\n\n\t\t\t\t\t\tif (propertyType === 'Object' && !visited[objId(property)]) {\n\t\t\t\t\t\t\tvisited[objId(property)] = true;\n\t\t\t\t\t\t\tDFS(property, callback, null, visited);\n\t\t\t\t\t\t} else if (propertyType === 'Array' && !visited[objId(property)]) {\n\t\t\t\t\t\t\tvisited[objId(property)] = true;\n\t\t\t\t\t\t\tDFS(property, callback, i, visited);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tplugins: {},\n\n\t\t/**\n\t\t * This is the most high-level function in Prisms API.\n\t\t * It fetches all the elements that have a `.language-xxxx` class and then calls {@link Prism.highlightElement} on\n\t\t * each one of them.\n\t\t *\n\t\t * This is equivalent to `Prism.highlightAllUnder(document, async, callback)`.\n\t\t *\n\t\t * @param {boolean} [async=false] Same as in {@link Prism.highlightAllUnder}.\n\t\t * @param {HighlightCallback} [callback] Same as in {@link Prism.highlightAllUnder}.\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\thighlightAll: function (async, callback) {\n\t\t\t_.highlightAllUnder(document, async, callback);\n\t\t},\n\n\t\t/**\n\t\t * Fetches all the descendants of `container` that have a `.language-xxxx` class and then calls\n\t\t * {@link Prism.highlightElement} on each one of them.\n\t\t *\n\t\t * The following hooks will be run:\n\t\t * 1. `before-highlightall`\n\t\t * 2. `before-all-elements-highlight`\n\t\t * 3. All hooks of {@link Prism.highlightElement} for each element.\n\t\t *\n\t\t * @param {ParentNode} container The root element, whose descendants that have a `.language-xxxx` class will be highlighted.\n\t\t * @param {boolean} [async=false] Whether each element is to be highlighted asynchronously using Web Workers.\n\t\t * @param {HighlightCallback} [callback] An optional callback to be invoked on each element after its highlighting is done.\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\thighlightAllUnder: function (container, async, callback) {\n\t\t\tvar env = {\n\t\t\t\tcallback: callback,\n\t\t\t\tcontainer: container,\n\t\t\t\tselector: 'code[class*=\"language-\"], [class*=\"language-\"] code, code[class*=\"lang-\"], [class*=\"lang-\"] code'\n\t\t\t};\n\n\t\t\t_.hooks.run('before-highlightall', env);\n\n\t\t\tenv.elements = Array.prototype.slice.apply(env.container.querySelectorAll(env.selector));\n\n\t\t\t_.hooks.run('before-all-elements-highlight', env);\n\n\t\t\tfor (var i = 0, element; (element = env.elements[i++]);) {\n\t\t\t\t_.highlightElement(element, async === true, env.callback);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Highlights the code inside a single element.\n\t\t *\n\t\t * The following hooks will be run:\n\t\t * 1. `before-sanity-check`\n\t\t * 2. `before-highlight`\n\t\t * 3. All hooks of {@link Prism.highlight}. These hooks will be run by an asynchronous worker if `async` is `true`.\n\t\t * 4. `before-insert`\n\t\t * 5. `after-highlight`\n\t\t * 6. `complete`\n\t\t *\n\t\t * Some the above hooks will be skipped if the element doesn't contain any text or there is no grammar loaded for\n\t\t * the element's language.\n\t\t *\n\t\t * @param {Element} element The element containing the code.\n\t\t * It must have a class of `language-xxxx` to be processed, where `xxxx` is a valid language identifier.\n\t\t * @param {boolean} [async=false] Whether the element is to be highlighted asynchronously using Web Workers\n\t\t * to improve performance and avoid blocking the UI when highlighting very large chunks of code. This option is\n\t\t * [disabled by default](https://prismjs.com/faq.html#why-is-asynchronous-highlighting-disabled-by-default).\n\t\t *\n\t\t * Note: All language definitions required to highlight the code must be included in the main `prism.js` file for\n\t\t * asynchronous highlighting to work. You can build your own bundle on the\n\t\t * [Download page](https://prismjs.com/download.html).\n\t\t * @param {HighlightCallback} [callback] An optional callback to be invoked after the highlighting is done.\n\t\t * Mostly useful when `async` is `true`, since in that case, the highlighting is done asynchronously.\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\thighlightElement: function (element, async, callback) {\n\t\t\t// Find language\n\t\t\tvar language = _.util.getLanguage(element);\n\t\t\tvar grammar = _.languages[language];\n\n\t\t\t// Set language on the element, if not present\n\t\t\t_.util.setLanguage(element, language);\n\n\t\t\t// Set language on the parent, for styling\n\t\t\tvar parent = element.parentElement;\n\t\t\tif (parent && parent.nodeName.toLowerCase() === 'pre') {\n\t\t\t\t_.util.setLanguage(parent, language);\n\t\t\t}\n\n\t\t\tvar code = element.textContent;\n\n\t\t\tvar env = {\n\t\t\t\telement: element,\n\t\t\t\tlanguage: language,\n\t\t\t\tgrammar: grammar,\n\t\t\t\tcode: code\n\t\t\t};\n\n\t\t\tfunction insertHighlightedCode(highlightedCode) {\n\t\t\t\tenv.highlightedCode = highlightedCode;\n\n\t\t\t\t_.hooks.run('before-insert', env);\n\n\t\t\t\tenv.element.innerHTML = env.highlightedCode;\n\n\t\t\t\t_.hooks.run('after-highlight', env);\n\t\t\t\t_.hooks.run('complete', env);\n\t\t\t\tcallback && callback.call(env.element);\n\t\t\t}\n\n\t\t\t_.hooks.run('before-sanity-check', env);\n\n\t\t\t// plugins may change/add the parent/element\n\t\t\tparent = env.element.parentElement;\n\t\t\tif (parent && parent.nodeName.toLowerCase() === 'pre' && !parent.hasAttribute('tabindex')) {\n\t\t\t\tparent.setAttribute('tabindex', '0');\n\t\t\t}\n\n\t\t\tif (!env.code) {\n\t\t\t\t_.hooks.run('complete', env);\n\t\t\t\tcallback && callback.call(env.element);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t_.hooks.run('before-highlight', env);\n\n\t\t\tif (!env.grammar) {\n\t\t\t\tinsertHighlightedCode(_.util.encode(env.code));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (async && _self.Worker) {\n\t\t\t\tvar worker = new Worker(_.filename);\n\n\t\t\t\tworker.onmessage = function (evt) {\n\t\t\t\t\tinsertHighlightedCode(evt.data);\n\t\t\t\t};\n\n\t\t\t\tworker.postMessage(JSON.stringify({\n\t\t\t\t\tlanguage: env.language,\n\t\t\t\t\tcode: env.code,\n\t\t\t\t\timmediateClose: true\n\t\t\t\t}));\n\t\t\t} else {\n\t\t\t\tinsertHighlightedCode(_.highlight(env.code, env.grammar, env.language));\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Low-level function, only use if you know what youre doing. It accepts a string of text as input\n\t\t * and the language definitions to use, and returns a string with the HTML produced.\n\t\t *\n\t\t * The following hooks will be run:\n\t\t * 1. `before-tokenize`\n\t\t * 2. `after-tokenize`\n\t\t * 3. `wrap`: On each {@link Token}.\n\t\t *\n\t\t * @param {string} text A string with the code to be highlighted.\n\t\t * @param {Grammar} grammar An object containing the tokens to use.\n\t\t *\n\t\t * Usually a language definition like `Prism.languages.markup`.\n\t\t * @param {string} language The name of the language definition passed to `grammar`.\n\t\t * @returns {string} The highlighted HTML.\n\t\t * @memberof Prism\n\t\t * @public\n\t\t * @example\n\t\t * Prism.highlight('var foo = true;', Prism.languages.javascript, 'javascript');\n\t\t */\n\t\thighlight: function (text, grammar, language) {\n\t\t\tvar env = {\n\t\t\t\tcode: text,\n\t\t\t\tgrammar: grammar,\n\t\t\t\tlanguage: language\n\t\t\t};\n\t\t\t_.hooks.run('before-tokenize', env);\n\t\t\tif (!env.grammar) {\n\t\t\t\tthrow new Error('The language \"' + env.language + '\" has no grammar.');\n\t\t\t}\n\t\t\tenv.tokens = _.tokenize(env.code, env.grammar);\n\t\t\t_.hooks.run('after-tokenize', env);\n\t\t\treturn Token.stringify(_.util.encode(env.tokens), env.language);\n\t\t},\n\n\t\t/**\n\t\t * This is the heart of Prism, and the most low-level function you can use. It accepts a string of text as input\n\t\t * and the language definitions to use, and returns an array with the tokenized code.\n\t\t *\n\t\t * When the language definition includes nested tokens, the function is called recursively on each of these tokens.\n\t\t *\n\t\t * This method could be useful in other contexts as well, as a very crude parser.\n\t\t *\n\t\t * @param {string} text A string with the code to be highlighted.\n\t\t * @param {Grammar} grammar An object containing the tokens to use.\n\t\t *\n\t\t * Usually a language definition like `Prism.languages.markup`.\n\t\t * @returns {TokenStream} An array of strings and tokens, a token stream.\n\t\t * @memberof Prism\n\t\t * @public\n\t\t * @example\n\t\t * let code = `var foo = 0;`;\n\t\t * let tokens = Prism.tokenize(code, Prism.languages.javascript);\n\t\t * tokens.forEach(token => {\n\t\t *     if (token instanceof Prism.Token && token.type === 'number') {\n\t\t *         console.log(`Found numeric literal: ${token.content}`);\n\t\t *     }\n\t\t * });\n\t\t */\n\t\ttokenize: function (text, grammar) {\n\t\t\tvar rest = grammar.rest;\n\t\t\tif (rest) {\n\t\t\t\tfor (var token in rest) {\n\t\t\t\t\tgrammar[token] = rest[token];\n\t\t\t\t}\n\n\t\t\t\tdelete grammar.rest;\n\t\t\t}\n\n\t\t\tvar tokenList = new LinkedList();\n\t\t\taddAfter(tokenList, tokenList.head, text);\n\n\t\t\tmatchGrammar(text, tokenList, grammar, tokenList.head, 0);\n\n\t\t\treturn toArray(tokenList);\n\t\t},\n\n\t\t/**\n\t\t * @namespace\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\thooks: {\n\t\t\tall: {},\n\n\t\t\t/**\n\t\t\t * Adds the given callback to the list of callbacks for the given hook.\n\t\t\t *\n\t\t\t * The callback will be invoked when the hook it is registered for is run.\n\t\t\t * Hooks are usually directly run by a highlight function but you can also run hooks yourself.\n\t\t\t *\n\t\t\t * One callback function can be registered to multiple hooks and the same hook multiple times.\n\t\t\t *\n\t\t\t * @param {string} name The name of the hook.\n\t\t\t * @param {HookCallback} callback The callback function which is given environment variables.\n\t\t\t * @public\n\t\t\t */\n\t\t\tadd: function (name, callback) {\n\t\t\t\tvar hooks = _.hooks.all;\n\n\t\t\t\thooks[name] = hooks[name] || [];\n\n\t\t\t\thooks[name].push(callback);\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Runs a hook invoking all registered callbacks with the given environment variables.\n\t\t\t *\n\t\t\t * Callbacks will be invoked synchronously and in the order in which they were registered.\n\t\t\t *\n\t\t\t * @param {string} name The name of the hook.\n\t\t\t * @param {Object<string, any>} env The environment variables of the hook passed to all callbacks registered.\n\t\t\t * @public\n\t\t\t */\n\t\t\trun: function (name, env) {\n\t\t\t\tvar callbacks = _.hooks.all[name];\n\n\t\t\t\tif (!callbacks || !callbacks.length) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tfor (var i = 0, callback; (callback = callbacks[i++]);) {\n\t\t\t\t\tcallback(env);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tToken: Token\n\t};\n\t_self.Prism = _;\n\n\n\t// Typescript note:\n\t// The following can be used to import the Token type in JSDoc:\n\t//\n\t//   @typedef {InstanceType<import(\"./prism-core\")[\"Token\"]>} Token\n\n\t/**\n\t * Creates a new token.\n\t *\n\t * @param {string} type See {@link Token#type type}\n\t * @param {string | TokenStream} content See {@link Token#content content}\n\t * @param {string|string[]} [alias] The alias(es) of the token.\n\t * @param {string} [matchedStr=\"\"] A copy of the full string this token was created from.\n\t * @class\n\t * @global\n\t * @public\n\t */\n\tfunction Token(type, content, alias, matchedStr) {\n\t\t/**\n\t\t * The type of the token.\n\t\t *\n\t\t * This is usually the key of a pattern in a {@link Grammar}.\n\t\t *\n\t\t * @type {string}\n\t\t * @see GrammarToken\n\t\t * @public\n\t\t */\n\t\tthis.type = type;\n\t\t/**\n\t\t * The strings or tokens contained by this token.\n\t\t *\n\t\t * This will be a token stream if the pattern matched also defined an `inside` grammar.\n\t\t *\n\t\t * @type {string | TokenStream}\n\t\t * @public\n\t\t */\n\t\tthis.content = content;\n\t\t/**\n\t\t * The alias(es) of the token.\n\t\t *\n\t\t * @type {string|string[]}\n\t\t * @see GrammarToken\n\t\t * @public\n\t\t */\n\t\tthis.alias = alias;\n\t\t// Copy of the full string this token was created from\n\t\tthis.length = (matchedStr || '').length | 0;\n\t}\n\n\t/**\n\t * A token stream is an array of strings and {@link Token Token} objects.\n\t *\n\t * Token streams have to fulfill a few properties that are assumed by most functions (mostly internal ones) that process\n\t * them.\n\t *\n\t * 1. No adjacent strings.\n\t * 2. No empty strings.\n\t *\n\t *    The only exception here is the token stream that only contains the empty string and nothing else.\n\t *\n\t * @typedef {Array<string | Token>} TokenStream\n\t * @global\n\t * @public\n\t */\n\n\t/**\n\t * Converts the given token or token stream to an HTML representation.\n\t *\n\t * The following hooks will be run:\n\t * 1. `wrap`: On each {@link Token}.\n\t *\n\t * @param {string | Token | TokenStream} o The token or token stream to be converted.\n\t * @param {string} language The name of current language.\n\t * @returns {string} The HTML representation of the token or token stream.\n\t * @memberof Token\n\t * @static\n\t */\n\tToken.stringify = function stringify(o, language) {\n\t\tif (typeof o == 'string') {\n\t\t\treturn o;\n\t\t}\n\t\tif (Array.isArray(o)) {\n\t\t\tvar s = '';\n\t\t\to.forEach(function (e) {\n\t\t\t\ts += stringify(e, language);\n\t\t\t});\n\t\t\treturn s;\n\t\t}\n\n\t\tvar env = {\n\t\t\ttype: o.type,\n\t\t\tcontent: stringify(o.content, language),\n\t\t\ttag: 'span',\n\t\t\tclasses: ['token', o.type],\n\t\t\tattributes: {},\n\t\t\tlanguage: language\n\t\t};\n\n\t\tvar aliases = o.alias;\n\t\tif (aliases) {\n\t\t\tif (Array.isArray(aliases)) {\n\t\t\t\tArray.prototype.push.apply(env.classes, aliases);\n\t\t\t} else {\n\t\t\t\tenv.classes.push(aliases);\n\t\t\t}\n\t\t}\n\n\t\t_.hooks.run('wrap', env);\n\n\t\tvar attributes = '';\n\t\tfor (var name in env.attributes) {\n\t\t\tattributes += ' ' + name + '=\"' + (env.attributes[name] || '').replace(/\"/g, '&quot;') + '\"';\n\t\t}\n\n\t\treturn '<' + env.tag + ' class=\"' + env.classes.join(' ') + '\"' + attributes + '>' + env.content + '</' + env.tag + '>';\n\t};\n\n\t/**\n\t * @param {RegExp} pattern\n\t * @param {number} pos\n\t * @param {string} text\n\t * @param {boolean} lookbehind\n\t * @returns {RegExpExecArray | null}\n\t */\n\tfunction matchPattern(pattern, pos, text, lookbehind) {\n\t\tpattern.lastIndex = pos;\n\t\tvar match = pattern.exec(text);\n\t\tif (match && lookbehind && match[1]) {\n\t\t\t// change the match to remove the text matched by the Prism lookbehind group\n\t\t\tvar lookbehindLength = match[1].length;\n\t\t\tmatch.index += lookbehindLength;\n\t\t\tmatch[0] = match[0].slice(lookbehindLength);\n\t\t}\n\t\treturn match;\n\t}\n\n\t/**\n\t * @param {string} text\n\t * @param {LinkedList<string | Token>} tokenList\n\t * @param {any} grammar\n\t * @param {LinkedListNode<string | Token>} startNode\n\t * @param {number} startPos\n\t * @param {RematchOptions} [rematch]\n\t * @returns {void}\n\t * @private\n\t *\n\t * @typedef RematchOptions\n\t * @property {string} cause\n\t * @property {number} reach\n\t */\n\tfunction matchGrammar(text, tokenList, grammar, startNode, startPos, rematch) {\n\t\tfor (var token in grammar) {\n\t\t\tif (!grammar.hasOwnProperty(token) || !grammar[token]) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tvar patterns = grammar[token];\n\t\t\tpatterns = Array.isArray(patterns) ? patterns : [patterns];\n\n\t\t\tfor (var j = 0; j < patterns.length; ++j) {\n\t\t\t\tif (rematch && rematch.cause == token + ',' + j) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar patternObj = patterns[j];\n\t\t\t\tvar inside = patternObj.inside;\n\t\t\t\tvar lookbehind = !!patternObj.lookbehind;\n\t\t\t\tvar greedy = !!patternObj.greedy;\n\t\t\t\tvar alias = patternObj.alias;\n\n\t\t\t\tif (greedy && !patternObj.pattern.global) {\n\t\t\t\t\t// Without the global flag, lastIndex won't work\n\t\t\t\t\tvar flags = patternObj.pattern.toString().match(/[imsuy]*$/)[0];\n\t\t\t\t\tpatternObj.pattern = RegExp(patternObj.pattern.source, flags + 'g');\n\t\t\t\t}\n\n\t\t\t\t/** @type {RegExp} */\n\t\t\t\tvar pattern = patternObj.pattern || patternObj;\n\n\t\t\t\tfor ( // iterate the token list and keep track of the current token/string position\n\t\t\t\t\tvar currentNode = startNode.next, pos = startPos;\n\t\t\t\t\tcurrentNode !== tokenList.tail;\n\t\t\t\t\tpos += currentNode.value.length, currentNode = currentNode.next\n\t\t\t\t) {\n\n\t\t\t\t\tif (rematch && pos >= rematch.reach) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar str = currentNode.value;\n\n\t\t\t\t\tif (tokenList.length > text.length) {\n\t\t\t\t\t\t// Something went terribly wrong, ABORT, ABORT!\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (str instanceof Token) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar removeCount = 1; // this is the to parameter of removeBetween\n\t\t\t\t\tvar match;\n\n\t\t\t\t\tif (greedy) {\n\t\t\t\t\t\tmatch = matchPattern(pattern, pos, text, lookbehind);\n\t\t\t\t\t\tif (!match || match.index >= text.length) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar from = match.index;\n\t\t\t\t\t\tvar to = match.index + match[0].length;\n\t\t\t\t\t\tvar p = pos;\n\n\t\t\t\t\t\t// find the node that contains the match\n\t\t\t\t\t\tp += currentNode.value.length;\n\t\t\t\t\t\twhile (from >= p) {\n\t\t\t\t\t\t\tcurrentNode = currentNode.next;\n\t\t\t\t\t\t\tp += currentNode.value.length;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// adjust pos (and p)\n\t\t\t\t\t\tp -= currentNode.value.length;\n\t\t\t\t\t\tpos = p;\n\n\t\t\t\t\t\t// the current node is a Token, then the match starts inside another Token, which is invalid\n\t\t\t\t\t\tif (currentNode.value instanceof Token) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// find the last node which is affected by this match\n\t\t\t\t\t\tfor (\n\t\t\t\t\t\t\tvar k = currentNode;\n\t\t\t\t\t\t\tk !== tokenList.tail && (p < to || typeof k.value === 'string');\n\t\t\t\t\t\t\tk = k.next\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tremoveCount++;\n\t\t\t\t\t\t\tp += k.value.length;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tremoveCount--;\n\n\t\t\t\t\t\t// replace with the new match\n\t\t\t\t\t\tstr = text.slice(pos, p);\n\t\t\t\t\t\tmatch.index -= pos;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tmatch = matchPattern(pattern, 0, str, lookbehind);\n\t\t\t\t\t\tif (!match) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// eslint-disable-next-line no-redeclare\n\t\t\t\t\tvar from = match.index;\n\t\t\t\t\tvar matchStr = match[0];\n\t\t\t\t\tvar before = str.slice(0, from);\n\t\t\t\t\tvar after = str.slice(from + matchStr.length);\n\n\t\t\t\t\tvar reach = pos + str.length;\n\t\t\t\t\tif (rematch && reach > rematch.reach) {\n\t\t\t\t\t\trematch.reach = reach;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar removeFrom = currentNode.prev;\n\n\t\t\t\t\tif (before) {\n\t\t\t\t\t\tremoveFrom = addAfter(tokenList, removeFrom, before);\n\t\t\t\t\t\tpos += before.length;\n\t\t\t\t\t}\n\n\t\t\t\t\tremoveRange(tokenList, removeFrom, removeCount);\n\n\t\t\t\t\tvar wrapped = new Token(token, inside ? _.tokenize(matchStr, inside) : matchStr, alias, matchStr);\n\t\t\t\t\tcurrentNode = addAfter(tokenList, removeFrom, wrapped);\n\n\t\t\t\t\tif (after) {\n\t\t\t\t\t\taddAfter(tokenList, currentNode, after);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (removeCount > 1) {\n\t\t\t\t\t\t// at least one Token object was removed, so we have to do some rematching\n\t\t\t\t\t\t// this can only happen if the current pattern is greedy\n\n\t\t\t\t\t\t/** @type {RematchOptions} */\n\t\t\t\t\t\tvar nestedRematch = {\n\t\t\t\t\t\t\tcause: token + ',' + j,\n\t\t\t\t\t\t\treach: reach\n\t\t\t\t\t\t};\n\t\t\t\t\t\tmatchGrammar(text, tokenList, grammar, currentNode.prev, pos, nestedRematch);\n\n\t\t\t\t\t\t// the reach might have been extended because of the rematching\n\t\t\t\t\t\tif (rematch && nestedRematch.reach > rematch.reach) {\n\t\t\t\t\t\t\trematch.reach = nestedRematch.reach;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * @typedef LinkedListNode\n\t * @property {T} value\n\t * @property {LinkedListNode<T> | null} prev The previous node.\n\t * @property {LinkedListNode<T> | null} next The next node.\n\t * @template T\n\t * @private\n\t */\n\n\t/**\n\t * @template T\n\t * @private\n\t */\n\tfunction LinkedList() {\n\t\t/** @type {LinkedListNode<T>} */\n\t\tvar head = { value: null, prev: null, next: null };\n\t\t/** @type {LinkedListNode<T>} */\n\t\tvar tail = { value: null, prev: head, next: null };\n\t\thead.next = tail;\n\n\t\t/** @type {LinkedListNode<T>} */\n\t\tthis.head = head;\n\t\t/** @type {LinkedListNode<T>} */\n\t\tthis.tail = tail;\n\t\tthis.length = 0;\n\t}\n\n\t/**\n\t * Adds a new node with the given value to the list.\n\t *\n\t * @param {LinkedList<T>} list\n\t * @param {LinkedListNode<T>} node\n\t * @param {T} value\n\t * @returns {LinkedListNode<T>} The added node.\n\t * @template T\n\t */\n\tfunction addAfter(list, node, value) {\n\t\t// assumes that node != list.tail && values.length >= 0\n\t\tvar next = node.next;\n\n\t\tvar newNode = { value: value, prev: node, next: next };\n\t\tnode.next = newNode;\n\t\tnext.prev = newNode;\n\t\tlist.length++;\n\n\t\treturn newNode;\n\t}\n\t/**\n\t * Removes `count` nodes after the given node. The given node will not be removed.\n\t *\n\t * @param {LinkedList<T>} list\n\t * @param {LinkedListNode<T>} node\n\t * @param {number} count\n\t * @template T\n\t */\n\tfunction removeRange(list, node, count) {\n\t\tvar next = node.next;\n\t\tfor (var i = 0; i < count && next !== list.tail; i++) {\n\t\t\tnext = next.next;\n\t\t}\n\t\tnode.next = next;\n\t\tnext.prev = node;\n\t\tlist.length -= i;\n\t}\n\t/**\n\t * @param {LinkedList<T>} list\n\t * @returns {T[]}\n\t * @template T\n\t */\n\tfunction toArray(list) {\n\t\tvar array = [];\n\t\tvar node = list.head.next;\n\t\twhile (node !== list.tail) {\n\t\t\tarray.push(node.value);\n\t\t\tnode = node.next;\n\t\t}\n\t\treturn array;\n\t}\n\n\n\tif (!_self.document) {\n\t\tif (!_self.addEventListener) {\n\t\t\t// in Node.js\n\t\t\treturn _;\n\t\t}\n\n\t\tif (!_.disableWorkerMessageHandler) {\n\t\t\t// In worker\n\t\t\t_self.addEventListener('message', function (evt) {\n\t\t\t\tvar message = JSON.parse(evt.data);\n\t\t\t\tvar lang = message.language;\n\t\t\t\tvar code = message.code;\n\t\t\t\tvar immediateClose = message.immediateClose;\n\n\t\t\t\t_self.postMessage(_.highlight(code, _.languages[lang], lang));\n\t\t\t\tif (immediateClose) {\n\t\t\t\t\t_self.close();\n\t\t\t\t}\n\t\t\t}, false);\n\t\t}\n\n\t\treturn _;\n\t}\n\n\t// Get current script and highlight\n\tvar script = _.util.currentScript();\n\n\tif (script) {\n\t\t_.filename = script.src;\n\n\t\tif (script.hasAttribute('data-manual')) {\n\t\t\t_.manual = true;\n\t\t}\n\t}\n\n\tfunction highlightAutomaticallyCallback() {\n\t\tif (!_.manual) {\n\t\t\t_.highlightAll();\n\t\t}\n\t}\n\n\tif (!_.manual) {\n\t\t// If the document state is \"loading\", then we'll use DOMContentLoaded.\n\t\t// If the document state is \"interactive\" and the prism.js script is deferred, then we'll also use the\n\t\t// DOMContentLoaded event because there might be some plugins or languages which have also been deferred and they\n\t\t// might take longer one animation frame to execute which can create a race condition where only some plugins have\n\t\t// been loaded when Prism.highlightAll() is executed, depending on how fast resources are loaded.\n\t\t// See https://github.com/PrismJS/prism/issues/2102\n\t\tvar readyState = document.readyState;\n\t\tif (readyState === 'loading' || readyState === 'interactive' && script && script.defer) {\n\t\t\tdocument.addEventListener('DOMContentLoaded', highlightAutomaticallyCallback);\n\t\t} else {\n\t\t\tif (window.requestAnimationFrame) {\n\t\t\t\twindow.requestAnimationFrame(highlightAutomaticallyCallback);\n\t\t\t} else {\n\t\t\t\twindow.setTimeout(highlightAutomaticallyCallback, 16);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn _;\n\n}(_self));\n\nif (typeof module !== 'undefined' && module.exports) {\n\tmodule.exports = Prism;\n}\n\n// hack for components to work correctly in node.js\nif (typeof global !== 'undefined') {\n\tglobal.Prism = Prism;\n}\n\n// some additional documentation/types\n\n/**\n * The expansion of a simple `RegExp` literal to support additional properties.\n *\n * @typedef GrammarToken\n * @property {RegExp} pattern The regular expression of the token.\n * @property {boolean} [lookbehind=false] If `true`, then the first capturing group of `pattern` will (effectively)\n * behave as a lookbehind group meaning that the captured text will not be part of the matched text of the new token.\n * @property {boolean} [greedy=false] Whether the token is greedy.\n * @property {string|string[]} [alias] An optional alias or list of aliases.\n * @property {Grammar} [inside] The nested grammar of this token.\n *\n * The `inside` grammar will be used to tokenize the text value of each token of this kind.\n *\n * This can be used to make nested and even recursive language definitions.\n *\n * Note: This can cause infinite recursion. Be careful when you embed different languages or even the same language into\n * each another.\n * @global\n * @public\n */\n\n/**\n * @typedef Grammar\n * @type {Object<string, RegExp | GrammarToken | Array<RegExp | GrammarToken>>}\n * @property {Grammar} [rest] An optional grammar object that will be appended to this grammar.\n * @global\n * @public\n */\n\n/**\n * A function which will invoked after an element was successfully highlighted.\n *\n * @callback HighlightCallback\n * @param {Element} element The element successfully highlighted.\n * @returns {void}\n * @global\n * @public\n */\n\n/**\n * @callback HookCallback\n * @param {Object<string, any>} env The environment variables of the hook.\n * @returns {void}\n * @global\n * @public\n */\n\n\n/* **********************************************\n     Begin prism-markup.js\n********************************************** */\n\nPrism.languages.markup = {\n\t'comment': {\n\t\tpattern: /<!--(?:(?!<!--)[\\s\\S])*?-->/,\n\t\tgreedy: true\n\t},\n\t'prolog': {\n\t\tpattern: /<\\?[\\s\\S]+?\\?>/,\n\t\tgreedy: true\n\t},\n\t'doctype': {\n\t\t// https://www.w3.org/TR/xml/#NT-doctypedecl\n\t\tpattern: /<!DOCTYPE(?:[^>\"'[\\]]|\"[^\"]*\"|'[^']*')+(?:\\[(?:[^<\"'\\]]|\"[^\"]*\"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\\]\\s*)?>/i,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'internal-subset': {\n\t\t\t\tpattern: /(^[^\\[]*\\[)[\\s\\S]+(?=\\]>$)/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: null // see below\n\t\t\t},\n\t\t\t'string': {\n\t\t\t\tpattern: /\"[^\"]*\"|'[^']*'/,\n\t\t\t\tgreedy: true\n\t\t\t},\n\t\t\t'punctuation': /^<!|>$|[[\\]]/,\n\t\t\t'doctype-tag': /^DOCTYPE/i,\n\t\t\t'name': /[^\\s<>'\"]+/\n\t\t}\n\t},\n\t'cdata': {\n\t\tpattern: /<!\\[CDATA\\[[\\s\\S]*?\\]\\]>/i,\n\t\tgreedy: true\n\t},\n\t'tag': {\n\t\tpattern: /<\\/?(?!\\d)[^\\s>\\/=$<%]+(?:\\s(?:\\s*[^\\s>\\/=]+(?:\\s*=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+(?=[\\s>]))|(?=[\\s/>])))+)?\\s*\\/?>/,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'tag': {\n\t\t\t\tpattern: /^<\\/?[^\\s>\\/]+/,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': /^<\\/?/,\n\t\t\t\t\t'namespace': /^[^\\s>\\/:]+:/\n\t\t\t\t}\n\t\t\t},\n\t\t\t'special-attr': [],\n\t\t\t'attr-value': {\n\t\t\t\tpattern: /=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+)/,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpattern: /^=/,\n\t\t\t\t\t\t\talias: 'attr-equals'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpattern: /^(\\s*)[\"']|[\"']$/,\n\t\t\t\t\t\t\tlookbehind: true\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t},\n\t\t\t'punctuation': /\\/?>/,\n\t\t\t'attr-name': {\n\t\t\t\tpattern: /[^\\s>\\/]+/,\n\t\t\t\tinside: {\n\t\t\t\t\t'namespace': /^[^\\s>\\/:]+:/\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t},\n\t'entity': [\n\t\t{\n\t\t\tpattern: /&[\\da-z]{1,8};/i,\n\t\t\talias: 'named-entity'\n\t\t},\n\t\t/&#x?[\\da-f]{1,8};/i\n\t]\n};\n\nPrism.languages.markup['tag'].inside['attr-value'].inside['entity'] =\n\tPrism.languages.markup['entity'];\nPrism.languages.markup['doctype'].inside['internal-subset'].inside = Prism.languages.markup;\n\n// Plugin to make entity title show the real entity, idea by Roman Komarov\nPrism.hooks.add('wrap', function (env) {\n\n\tif (env.type === 'entity') {\n\t\tenv.attributes['title'] = env.content.replace(/&amp;/, '&');\n\t}\n});\n\nObject.defineProperty(Prism.languages.markup.tag, 'addInlined', {\n\t/**\n\t * Adds an inlined language to markup.\n\t *\n\t * An example of an inlined language is CSS with `<style>` tags.\n\t *\n\t * @param {string} tagName The name of the tag that contains the inlined language. This name will be treated as\n\t * case insensitive.\n\t * @param {string} lang The language key.\n\t * @example\n\t * addInlined('style', 'css');\n\t */\n\tvalue: function addInlined(tagName, lang) {\n\t\tvar includedCdataInside = {};\n\t\tincludedCdataInside['language-' + lang] = {\n\t\t\tpattern: /(^<!\\[CDATA\\[)[\\s\\S]+?(?=\\]\\]>$)/i,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages[lang]\n\t\t};\n\t\tincludedCdataInside['cdata'] = /^<!\\[CDATA\\[|\\]\\]>$/i;\n\n\t\tvar inside = {\n\t\t\t'included-cdata': {\n\t\t\t\tpattern: /<!\\[CDATA\\[[\\s\\S]*?\\]\\]>/i,\n\t\t\t\tinside: includedCdataInside\n\t\t\t}\n\t\t};\n\t\tinside['language-' + lang] = {\n\t\t\tpattern: /[\\s\\S]+/,\n\t\t\tinside: Prism.languages[lang]\n\t\t};\n\n\t\tvar def = {};\n\t\tdef[tagName] = {\n\t\t\tpattern: RegExp(/(<__[^>]*>)(?:<!\\[CDATA\\[(?:[^\\]]|\\](?!\\]>))*\\]\\]>|(?!<!\\[CDATA\\[)[\\s\\S])*?(?=<\\/__>)/.source.replace(/__/g, function () { return tagName; }), 'i'),\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true,\n\t\t\tinside: inside\n\t\t};\n\n\t\tPrism.languages.insertBefore('markup', 'cdata', def);\n\t}\n});\nObject.defineProperty(Prism.languages.markup.tag, 'addAttribute', {\n\t/**\n\t * Adds an pattern to highlight languages embedded in HTML attributes.\n\t *\n\t * An example of an inlined language is CSS with `style` attributes.\n\t *\n\t * @param {string} attrName The name of the tag that contains the inlined language. This name will be treated as\n\t * case insensitive.\n\t * @param {string} lang The language key.\n\t * @example\n\t * addAttribute('style', 'css');\n\t */\n\tvalue: function (attrName, lang) {\n\t\tPrism.languages.markup.tag.inside['special-attr'].push({\n\t\t\tpattern: RegExp(\n\t\t\t\t/(^|[\"'\\s])/.source + '(?:' + attrName + ')' + /\\s*=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+(?=[\\s>]))/.source,\n\t\t\t\t'i'\n\t\t\t),\n\t\t\tlookbehind: true,\n\t\t\tinside: {\n\t\t\t\t'attr-name': /^[^\\s=]+/,\n\t\t\t\t'attr-value': {\n\t\t\t\t\tpattern: /=[\\s\\S]+/,\n\t\t\t\t\tinside: {\n\t\t\t\t\t\t'value': {\n\t\t\t\t\t\t\tpattern: /(^=\\s*([\"']|(?![\"'])))\\S[\\s\\S]*(?=\\2$)/,\n\t\t\t\t\t\t\tlookbehind: true,\n\t\t\t\t\t\t\talias: [lang, 'language-' + lang],\n\t\t\t\t\t\t\tinside: Prism.languages[lang]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t'punctuation': [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tpattern: /^=/,\n\t\t\t\t\t\t\t\talias: 'attr-equals'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t/\"|'/\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n});\n\nPrism.languages.html = Prism.languages.markup;\nPrism.languages.mathml = Prism.languages.markup;\nPrism.languages.svg = Prism.languages.markup;\n\nPrism.languages.xml = Prism.languages.extend('markup', {});\nPrism.languages.ssml = Prism.languages.xml;\nPrism.languages.atom = Prism.languages.xml;\nPrism.languages.rss = Prism.languages.xml;\n\n\n/* **********************************************\n     Begin prism-css.js\n********************************************** */\n\n(function (Prism) {\n\n\tvar string = /(?:\"(?:\\\\(?:\\r\\n|[\\s\\S])|[^\"\\\\\\r\\n])*\"|'(?:\\\\(?:\\r\\n|[\\s\\S])|[^'\\\\\\r\\n])*')/;\n\n\tPrism.languages.css = {\n\t\t'comment': /\\/\\*[\\s\\S]*?\\*\\//,\n\t\t'atrule': {\n\t\t\tpattern: RegExp('@[\\\\w-](?:' + /[^;{\\s\"']|\\s+(?!\\s)/.source + '|' + string.source + ')*?' + /(?:;|(?=\\s*\\{))/.source),\n\t\t\tinside: {\n\t\t\t\t'rule': /^@[\\w-]+/,\n\t\t\t\t'selector-function-argument': {\n\t\t\t\t\tpattern: /(\\bselector\\s*\\(\\s*(?![\\s)]))(?:[^()\\s]|\\s+(?![\\s)])|\\((?:[^()]|\\([^()]*\\))*\\))+(?=\\s*\\))/,\n\t\t\t\t\tlookbehind: true,\n\t\t\t\t\talias: 'selector'\n\t\t\t\t},\n\t\t\t\t'keyword': {\n\t\t\t\t\tpattern: /(^|[^\\w-])(?:and|not|only|or)(?![\\w-])/,\n\t\t\t\t\tlookbehind: true\n\t\t\t\t}\n\t\t\t\t// See rest below\n\t\t\t}\n\t\t},\n\t\t'url': {\n\t\t\t// https://drafts.csswg.org/css-values-3/#urls\n\t\t\tpattern: RegExp('\\\\burl\\\\((?:' + string.source + '|' + /(?:[^\\\\\\r\\n()\"']|\\\\[\\s\\S])*/.source + ')\\\\)', 'i'),\n\t\t\tgreedy: true,\n\t\t\tinside: {\n\t\t\t\t'function': /^url/i,\n\t\t\t\t'punctuation': /^\\(|\\)$/,\n\t\t\t\t'string': {\n\t\t\t\t\tpattern: RegExp('^' + string.source + '$'),\n\t\t\t\t\talias: 'url'\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t'selector': {\n\t\t\tpattern: RegExp('(^|[{}\\\\s])[^{}\\\\s](?:[^{};\"\\'\\\\s]|\\\\s+(?![\\\\s{])|' + string.source + ')*(?=\\\\s*\\\\{)'),\n\t\t\tlookbehind: true\n\t\t},\n\t\t'string': {\n\t\t\tpattern: string,\n\t\t\tgreedy: true\n\t\t},\n\t\t'property': {\n\t\t\tpattern: /(^|[^-\\w\\xA0-\\uFFFF])(?!\\s)[-_a-z\\xA0-\\uFFFF](?:(?!\\s)[-\\w\\xA0-\\uFFFF])*(?=\\s*:)/i,\n\t\t\tlookbehind: true\n\t\t},\n\t\t'important': /!important\\b/i,\n\t\t'function': {\n\t\t\tpattern: /(^|[^-a-z0-9])[-a-z0-9]+(?=\\()/i,\n\t\t\tlookbehind: true\n\t\t},\n\t\t'punctuation': /[(){};:,]/\n\t};\n\n\tPrism.languages.css['atrule'].inside.rest = Prism.languages.css;\n\n\tvar markup = Prism.languages.markup;\n\tif (markup) {\n\t\tmarkup.tag.addInlined('style', 'css');\n\t\tmarkup.tag.addAttribute('style', 'css');\n\t}\n\n}(Prism));\n\n\n/* **********************************************\n     Begin prism-clike.js\n********************************************** */\n\nPrism.languages.clike = {\n\t'comment': [\n\t\t{\n\t\t\tpattern: /(^|[^\\\\])\\/\\*[\\s\\S]*?(?:\\*\\/|$)/,\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true\n\t\t},\n\t\t{\n\t\t\tpattern: /(^|[^\\\\:])\\/\\/.*/,\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true\n\t\t}\n\t],\n\t'string': {\n\t\tpattern: /([\"'])(?:\\\\(?:\\r\\n|[\\s\\S])|(?!\\1)[^\\\\\\r\\n])*\\1/,\n\t\tgreedy: true\n\t},\n\t'class-name': {\n\t\tpattern: /(\\b(?:class|extends|implements|instanceof|interface|new|trait)\\s+|\\bcatch\\s+\\()[\\w.\\\\]+/i,\n\t\tlookbehind: true,\n\t\tinside: {\n\t\t\t'punctuation': /[.\\\\]/\n\t\t}\n\t},\n\t'keyword': /\\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\\b/,\n\t'boolean': /\\b(?:false|true)\\b/,\n\t'function': /\\b\\w+(?=\\()/,\n\t'number': /\\b0x[\\da-f]+\\b|(?:\\b\\d+(?:\\.\\d*)?|\\B\\.\\d+)(?:e[+-]?\\d+)?/i,\n\t'operator': /[<>]=?|[!=]=?=?|--?|\\+\\+?|&&?|\\|\\|?|[?*/~^%]/,\n\t'punctuation': /[{}[\\];(),.:]/\n};\n\n\n/* **********************************************\n     Begin prism-javascript.js\n********************************************** */\n\nPrism.languages.javascript = Prism.languages.extend('clike', {\n\t'class-name': [\n\t\tPrism.languages.clike['class-name'],\n\t\t{\n\t\t\tpattern: /(^|[^$\\w\\xA0-\\uFFFF])(?!\\s)[_$A-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\.(?:constructor|prototype))/,\n\t\t\tlookbehind: true\n\t\t}\n\t],\n\t'keyword': [\n\t\t{\n\t\t\tpattern: /((?:^|\\})\\s*)catch\\b/,\n\t\t\tlookbehind: true\n\t\t},\n\t\t{\n\t\t\tpattern: /(^|[^.]|\\.\\.\\.\\s*)\\b(?:as|assert(?=\\s*\\{)|async(?=\\s*(?:function\\b|\\(|[$\\w\\xA0-\\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\\s*(?:\\{|$))|for|from(?=\\s*(?:['\"]|$))|function|(?:get|set)(?=\\s*(?:[#\\[$\\w\\xA0-\\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\\b/,\n\t\t\tlookbehind: true\n\t\t},\n\t],\n\t// Allow for all non-ASCII characters (See http://stackoverflow.com/a/2008444)\n\t'function': /#?(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*(?:\\.\\s*(?:apply|bind|call)\\s*)?\\()/,\n\t'number': {\n\t\tpattern: RegExp(\n\t\t\t/(^|[^\\w$])/.source +\n\t\t\t'(?:' +\n\t\t\t(\n\t\t\t\t// constant\n\t\t\t\t/NaN|Infinity/.source +\n\t\t\t\t'|' +\n\t\t\t\t// binary integer\n\t\t\t\t/0[bB][01]+(?:_[01]+)*n?/.source +\n\t\t\t\t'|' +\n\t\t\t\t// octal integer\n\t\t\t\t/0[oO][0-7]+(?:_[0-7]+)*n?/.source +\n\t\t\t\t'|' +\n\t\t\t\t// hexadecimal integer\n\t\t\t\t/0[xX][\\dA-Fa-f]+(?:_[\\dA-Fa-f]+)*n?/.source +\n\t\t\t\t'|' +\n\t\t\t\t// decimal bigint\n\t\t\t\t/\\d+(?:_\\d+)*n/.source +\n\t\t\t\t'|' +\n\t\t\t\t// decimal number (integer or float) but no bigint\n\t\t\t\t/(?:\\d+(?:_\\d+)*(?:\\.(?:\\d+(?:_\\d+)*)?)?|\\.\\d+(?:_\\d+)*)(?:[Ee][+-]?\\d+(?:_\\d+)*)?/.source\n\t\t\t) +\n\t\t\t')' +\n\t\t\t/(?![\\w$])/.source\n\t\t),\n\t\tlookbehind: true\n\t},\n\t'operator': /--|\\+\\+|\\*\\*=?|=>|&&=?|\\|\\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\\.{3}|\\?\\?=?|\\?\\.?|[~:]/\n});\n\nPrism.languages.javascript['class-name'][0].pattern = /(\\b(?:class|extends|implements|instanceof|interface|new)\\s+)[\\w.\\\\]+/;\n\nPrism.languages.insertBefore('javascript', 'keyword', {\n\t'regex': {\n\t\tpattern: RegExp(\n\t\t\t// lookbehind\n\t\t\t// eslint-disable-next-line regexp/no-dupe-characters-character-class\n\t\t\t/((?:^|[^$\\w\\xA0-\\uFFFF.\"'\\])\\s]|\\b(?:return|yield))\\s*)/.source +\n\t\t\t// Regex pattern:\n\t\t\t// There are 2 regex patterns here. The RegExp set notation proposal added support for nested character\n\t\t\t// classes if the `v` flag is present. Unfortunately, nested CCs are both context-free and incompatible\n\t\t\t// with the only syntax, so we have to define 2 different regex patterns.\n\t\t\t/\\//.source +\n\t\t\t'(?:' +\n\t\t\t/(?:\\[(?:[^\\]\\\\\\r\\n]|\\\\.)*\\]|\\\\.|[^/\\\\\\[\\r\\n])+\\/[dgimyus]{0,7}/.source +\n\t\t\t'|' +\n\t\t\t// `v` flag syntax. This supports 3 levels of nested character classes.\n\t\t\t/(?:\\[(?:[^[\\]\\\\\\r\\n]|\\\\.|\\[(?:[^[\\]\\\\\\r\\n]|\\\\.|\\[(?:[^[\\]\\\\\\r\\n]|\\\\.)*\\])*\\])*\\]|\\\\.|[^/\\\\\\[\\r\\n])+\\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source +\n\t\t\t')' +\n\t\t\t// lookahead\n\t\t\t/(?=(?:\\s|\\/\\*(?:[^*]|\\*(?!\\/))*\\*\\/)*(?:$|[\\r\\n,.;:})\\]]|\\/\\/))/.source\n\t\t),\n\t\tlookbehind: true,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'regex-source': {\n\t\t\t\tpattern: /^(\\/)[\\s\\S]+(?=\\/[a-z]*$)/,\n\t\t\t\tlookbehind: true,\n\t\t\t\talias: 'language-regex',\n\t\t\t\tinside: Prism.languages.regex\n\t\t\t},\n\t\t\t'regex-delimiter': /^\\/|\\/$/,\n\t\t\t'regex-flags': /^[a-z]+$/,\n\t\t}\n\t},\n\t// This must be declared before keyword because we use \"function\" inside the look-forward\n\t'function-variable': {\n\t\tpattern: /#?(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*[=:]\\s*(?:async\\s*)?(?:\\bfunction\\b|(?:\\((?:[^()]|\\([^()]*\\))*\\)|(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*)\\s*=>))/,\n\t\talias: 'function'\n\t},\n\t'parameter': [\n\t\t{\n\t\t\tpattern: /(function(?:\\s+(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*)?\\s*\\(\\s*)(?!\\s)(?:[^()\\s]|\\s+(?![\\s)])|\\([^()]*\\))+(?=\\s*\\))/,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t},\n\t\t{\n\t\t\tpattern: /(^|[^$\\w\\xA0-\\uFFFF])(?!\\s)[_$a-z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*=>)/i,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t},\n\t\t{\n\t\t\tpattern: /(\\(\\s*)(?!\\s)(?:[^()\\s]|\\s+(?![\\s)])|\\([^()]*\\))+(?=\\s*\\)\\s*=>)/,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t},\n\t\t{\n\t\t\tpattern: /((?:\\b|\\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\\w\\xA0-\\uFFFF]))(?:(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*\\s*)\\(\\s*|\\]\\s*\\(\\s*)(?!\\s)(?:[^()\\s]|\\s+(?![\\s)])|\\([^()]*\\))+(?=\\s*\\)\\s*\\{)/,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t}\n\t],\n\t'constant': /\\b[A-Z](?:[A-Z_]|\\dx?)*\\b/\n});\n\nPrism.languages.insertBefore('javascript', 'string', {\n\t'hashbang': {\n\t\tpattern: /^#!.*/,\n\t\tgreedy: true,\n\t\talias: 'comment'\n\t},\n\t'template-string': {\n\t\tpattern: /`(?:\\\\[\\s\\S]|\\$\\{(?:[^{}]|\\{(?:[^{}]|\\{[^}]*\\})*\\})+\\}|(?!\\$\\{)[^\\\\`])*`/,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'template-punctuation': {\n\t\t\t\tpattern: /^`|`$/,\n\t\t\t\talias: 'string'\n\t\t\t},\n\t\t\t'interpolation': {\n\t\t\t\tpattern: /((?:^|[^\\\\])(?:\\\\{2})*)\\$\\{(?:[^{}]|\\{(?:[^{}]|\\{[^}]*\\})*\\})+\\}/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'interpolation-punctuation': {\n\t\t\t\t\t\tpattern: /^\\$\\{|\\}$/,\n\t\t\t\t\t\talias: 'punctuation'\n\t\t\t\t\t},\n\t\t\t\t\trest: Prism.languages.javascript\n\t\t\t\t}\n\t\t\t},\n\t\t\t'string': /[\\s\\S]+/\n\t\t}\n\t},\n\t'string-property': {\n\t\tpattern: /((?:^|[,{])[ \\t]*)([\"'])(?:\\\\(?:\\r\\n|[\\s\\S])|(?!\\2)[^\\\\\\r\\n])*\\2(?=\\s*:)/m,\n\t\tlookbehind: true,\n\t\tgreedy: true,\n\t\talias: 'property'\n\t}\n});\n\nPrism.languages.insertBefore('javascript', 'operator', {\n\t'literal-property': {\n\t\tpattern: /((?:^|[,{])[ \\t]*)(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*:)/m,\n\t\tlookbehind: true,\n\t\talias: 'property'\n\t},\n});\n\nif (Prism.languages.markup) {\n\tPrism.languages.markup.tag.addInlined('script', 'javascript');\n\n\t// add attribute support for all DOM events.\n\t// https://developer.mozilla.org/en-US/docs/Web/Events#Standard_events\n\tPrism.languages.markup.tag.addAttribute(\n\t\t/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,\n\t\t'javascript'\n\t);\n}\n\nPrism.languages.js = Prism.languages.javascript;\n\n\n/* **********************************************\n     Begin prism-file-highlight.js\n********************************************** */\n\n(function () {\n\n\tif (typeof Prism === 'undefined' || typeof document === 'undefined') {\n\t\treturn;\n\t}\n\n\t// https://developer.mozilla.org/en-US/docs/Web/API/Element/matches#Polyfill\n\tif (!Element.prototype.matches) {\n\t\tElement.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\n\t}\n\n\tvar LOADING_MESSAGE = 'Loading';\n\tvar FAILURE_MESSAGE = function (status, message) {\n\t\treturn ' Error ' + status + ' while fetching file: ' + message;\n\t};\n\tvar FAILURE_EMPTY_MESSAGE = ' Error: File does not exist or is empty';\n\n\tvar EXTENSIONS = {\n\t\t'js': 'javascript',\n\t\t'py': 'python',\n\t\t'rb': 'ruby',\n\t\t'ps1': 'powershell',\n\t\t'psm1': 'powershell',\n\t\t'sh': 'bash',\n\t\t'bat': 'batch',\n\t\t'h': 'c',\n\t\t'tex': 'latex'\n\t};\n\n\tvar STATUS_ATTR = 'data-src-status';\n\tvar STATUS_LOADING = 'loading';\n\tvar STATUS_LOADED = 'loaded';\n\tvar STATUS_FAILED = 'failed';\n\n\tvar SELECTOR = 'pre[data-src]:not([' + STATUS_ATTR + '=\"' + STATUS_LOADED + '\"])'\n\t\t+ ':not([' + STATUS_ATTR + '=\"' + STATUS_LOADING + '\"])';\n\n\t/**\n\t * Loads the given file.\n\t *\n\t * @param {string} src The URL or path of the source file to load.\n\t * @param {(result: string) => void} success\n\t * @param {(reason: string) => void} error\n\t */\n\tfunction loadFile(src, success, error) {\n\t\tvar xhr = new XMLHttpRequest();\n\t\txhr.open('GET', src, true);\n\t\txhr.onreadystatechange = function () {\n\t\t\tif (xhr.readyState == 4) {\n\t\t\t\tif (xhr.status < 400 && xhr.responseText) {\n\t\t\t\t\tsuccess(xhr.responseText);\n\t\t\t\t} else {\n\t\t\t\t\tif (xhr.status >= 400) {\n\t\t\t\t\t\terror(FAILURE_MESSAGE(xhr.status, xhr.statusText));\n\t\t\t\t\t} else {\n\t\t\t\t\t\terror(FAILURE_EMPTY_MESSAGE);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\txhr.send(null);\n\t}\n\n\t/**\n\t * Parses the given range.\n\t *\n\t * This returns a range with inclusive ends.\n\t *\n\t * @param {string | null | undefined} range\n\t * @returns {[number, number | undefined] | undefined}\n\t */\n\tfunction parseRange(range) {\n\t\tvar m = /^\\s*(\\d+)\\s*(?:(,)\\s*(?:(\\d+)\\s*)?)?$/.exec(range || '');\n\t\tif (m) {\n\t\t\tvar start = Number(m[1]);\n\t\t\tvar comma = m[2];\n\t\t\tvar end = m[3];\n\n\t\t\tif (!comma) {\n\t\t\t\treturn [start, start];\n\t\t\t}\n\t\t\tif (!end) {\n\t\t\t\treturn [start, undefined];\n\t\t\t}\n\t\t\treturn [start, Number(end)];\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tPrism.hooks.add('before-highlightall', function (env) {\n\t\tenv.selector += ', ' + SELECTOR;\n\t});\n\n\tPrism.hooks.add('before-sanity-check', function (env) {\n\t\tvar pre = /** @type {HTMLPreElement} */ (env.element);\n\t\tif (pre.matches(SELECTOR)) {\n\t\t\tenv.code = ''; // fast-path the whole thing and go to complete\n\n\t\t\tpre.setAttribute(STATUS_ATTR, STATUS_LOADING); // mark as loading\n\n\t\t\t// add code element with loading message\n\t\t\tvar code = pre.appendChild(document.createElement('CODE'));\n\t\t\tcode.textContent = LOADING_MESSAGE;\n\n\t\t\tvar src = pre.getAttribute('data-src');\n\n\t\t\tvar language = env.language;\n\t\t\tif (language === 'none') {\n\t\t\t\t// the language might be 'none' because there is no language set;\n\t\t\t\t// in this case, we want to use the extension as the language\n\t\t\t\tvar extension = (/\\.(\\w+)$/.exec(src) || [, 'none'])[1];\n\t\t\t\tlanguage = EXTENSIONS[extension] || extension;\n\t\t\t}\n\n\t\t\t// set language classes\n\t\t\tPrism.util.setLanguage(code, language);\n\t\t\tPrism.util.setLanguage(pre, language);\n\n\t\t\t// preload the language\n\t\t\tvar autoloader = Prism.plugins.autoloader;\n\t\t\tif (autoloader) {\n\t\t\t\tautoloader.loadLanguages(language);\n\t\t\t}\n\n\t\t\t// load file\n\t\t\tloadFile(\n\t\t\t\tsrc,\n\t\t\t\tfunction (text) {\n\t\t\t\t\t// mark as loaded\n\t\t\t\t\tpre.setAttribute(STATUS_ATTR, STATUS_LOADED);\n\n\t\t\t\t\t// handle data-range\n\t\t\t\t\tvar range = parseRange(pre.getAttribute('data-range'));\n\t\t\t\t\tif (range) {\n\t\t\t\t\t\tvar lines = text.split(/\\r\\n?|\\n/g);\n\n\t\t\t\t\t\t// the range is one-based and inclusive on both ends\n\t\t\t\t\t\tvar start = range[0];\n\t\t\t\t\t\tvar end = range[1] == null ? lines.length : range[1];\n\n\t\t\t\t\t\tif (start < 0) { start += lines.length; }\n\t\t\t\t\t\tstart = Math.max(0, Math.min(start - 1, lines.length));\n\t\t\t\t\t\tif (end < 0) { end += lines.length; }\n\t\t\t\t\t\tend = Math.max(0, Math.min(end, lines.length));\n\n\t\t\t\t\t\ttext = lines.slice(start, end).join('\\n');\n\n\t\t\t\t\t\t// add data-start for line numbers\n\t\t\t\t\t\tif (!pre.hasAttribute('data-start')) {\n\t\t\t\t\t\t\tpre.setAttribute('data-start', String(start + 1));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// highlight code\n\t\t\t\t\tcode.textContent = text;\n\t\t\t\t\tPrism.highlightElement(code);\n\t\t\t\t},\n\t\t\t\tfunction (error) {\n\t\t\t\t\t// mark as failed\n\t\t\t\t\tpre.setAttribute(STATUS_ATTR, STATUS_FAILED);\n\n\t\t\t\t\tcode.textContent = error;\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t});\n\n\tPrism.plugins.fileHighlight = {\n\t\t/**\n\t\t * Executes the File Highlight plugin for all matching `pre` elements under the given container.\n\t\t *\n\t\t * Note: Elements which are already loaded or currently loading will not be touched by this method.\n\t\t *\n\t\t * @param {ParentNode} [container=document]\n\t\t */\n\t\thighlight: function highlight(container) {\n\t\t\tvar elements = (container || document).querySelectorAll(SELECTOR);\n\n\t\t\tfor (var i = 0, element; (element = elements[i++]);) {\n\t\t\t\tPrism.highlightElement(element);\n\t\t\t}\n\t\t}\n\t};\n\n\tvar logged = false;\n\t/** @deprecated Use `Prism.plugins.fileHighlight.highlight` instead. */\n\tPrism.fileHighlight = function () {\n\t\tif (!logged) {\n\t\t\tconsole.warn('Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead.');\n\t\t\tlogged = true;\n\t\t}\n\t\tPrism.plugins.fileHighlight.highlight.apply(this, arguments);\n\t};\n\n}());\n","Prism.languages.markup = {\n\t'comment': {\n\t\tpattern: /<!--(?:(?!<!--)[\\s\\S])*?-->/,\n\t\tgreedy: true\n\t},\n\t'prolog': {\n\t\tpattern: /<\\?[\\s\\S]+?\\?>/,\n\t\tgreedy: true\n\t},\n\t'doctype': {\n\t\t// https://www.w3.org/TR/xml/#NT-doctypedecl\n\t\tpattern: /<!DOCTYPE(?:[^>\"'[\\]]|\"[^\"]*\"|'[^']*')+(?:\\[(?:[^<\"'\\]]|\"[^\"]*\"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\\]\\s*)?>/i,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'internal-subset': {\n\t\t\t\tpattern: /(^[^\\[]*\\[)[\\s\\S]+(?=\\]>$)/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: null // see below\n\t\t\t},\n\t\t\t'string': {\n\t\t\t\tpattern: /\"[^\"]*\"|'[^']*'/,\n\t\t\t\tgreedy: true\n\t\t\t},\n\t\t\t'punctuation': /^<!|>$|[[\\]]/,\n\t\t\t'doctype-tag': /^DOCTYPE/i,\n\t\t\t'name': /[^\\s<>'\"]+/\n\t\t}\n\t},\n\t'cdata': {\n\t\tpattern: /<!\\[CDATA\\[[\\s\\S]*?\\]\\]>/i,\n\t\tgreedy: true\n\t},\n\t'tag': {\n\t\tpattern: /<\\/?(?!\\d)[^\\s>\\/=$<%]+(?:\\s(?:\\s*[^\\s>\\/=]+(?:\\s*=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+(?=[\\s>]))|(?=[\\s/>])))+)?\\s*\\/?>/,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'tag': {\n\t\t\t\tpattern: /^<\\/?[^\\s>\\/]+/,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': /^<\\/?/,\n\t\t\t\t\t'namespace': /^[^\\s>\\/:]+:/\n\t\t\t\t}\n\t\t\t},\n\t\t\t'special-attr': [],\n\t\t\t'attr-value': {\n\t\t\t\tpattern: /=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+)/,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpattern: /^=/,\n\t\t\t\t\t\t\talias: 'attr-equals'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpattern: /^(\\s*)[\"']|[\"']$/,\n\t\t\t\t\t\t\tlookbehind: true\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t},\n\t\t\t'punctuation': /\\/?>/,\n\t\t\t'attr-name': {\n\t\t\t\tpattern: /[^\\s>\\/]+/,\n\t\t\t\tinside: {\n\t\t\t\t\t'namespace': /^[^\\s>\\/:]+:/\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t},\n\t'entity': [\n\t\t{\n\t\t\tpattern: /&[\\da-z]{1,8};/i,\n\t\t\talias: 'named-entity'\n\t\t},\n\t\t/&#x?[\\da-f]{1,8};/i\n\t]\n};\n\nPrism.languages.markup['tag'].inside['attr-value'].inside['entity'] =\n\tPrism.languages.markup['entity'];\nPrism.languages.markup['doctype'].inside['internal-subset'].inside = Prism.languages.markup;\n\n// Plugin to make entity title show the real entity, idea by Roman Komarov\nPrism.hooks.add('wrap', function (env) {\n\n\tif (env.type === 'entity') {\n\t\tenv.attributes['title'] = env.content.replace(/&amp;/, '&');\n\t}\n});\n\nObject.defineProperty(Prism.languages.markup.tag, 'addInlined', {\n\t/**\n\t * Adds an inlined language to markup.\n\t *\n\t * An example of an inlined language is CSS with `<style>` tags.\n\t *\n\t * @param {string} tagName The name of the tag that contains the inlined language. This name will be treated as\n\t * case insensitive.\n\t * @param {string} lang The language key.\n\t * @example\n\t * addInlined('style', 'css');\n\t */\n\tvalue: function addInlined(tagName, lang) {\n\t\tvar includedCdataInside = {};\n\t\tincludedCdataInside['language-' + lang] = {\n\t\t\tpattern: /(^<!\\[CDATA\\[)[\\s\\S]+?(?=\\]\\]>$)/i,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages[lang]\n\t\t};\n\t\tincludedCdataInside['cdata'] = /^<!\\[CDATA\\[|\\]\\]>$/i;\n\n\t\tvar inside = {\n\t\t\t'included-cdata': {\n\t\t\t\tpattern: /<!\\[CDATA\\[[\\s\\S]*?\\]\\]>/i,\n\t\t\t\tinside: includedCdataInside\n\t\t\t}\n\t\t};\n\t\tinside['language-' + lang] = {\n\t\t\tpattern: /[\\s\\S]+/,\n\t\t\tinside: Prism.languages[lang]\n\t\t};\n\n\t\tvar def = {};\n\t\tdef[tagName] = {\n\t\t\tpattern: RegExp(/(<__[^>]*>)(?:<!\\[CDATA\\[(?:[^\\]]|\\](?!\\]>))*\\]\\]>|(?!<!\\[CDATA\\[)[\\s\\S])*?(?=<\\/__>)/.source.replace(/__/g, function () { return tagName; }), 'i'),\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true,\n\t\t\tinside: inside\n\t\t};\n\n\t\tPrism.languages.insertBefore('markup', 'cdata', def);\n\t}\n});\nObject.defineProperty(Prism.languages.markup.tag, 'addAttribute', {\n\t/**\n\t * Adds an pattern to highlight languages embedded in HTML attributes.\n\t *\n\t * An example of an inlined language is CSS with `style` attributes.\n\t *\n\t * @param {string} attrName The name of the tag that contains the inlined language. This name will be treated as\n\t * case insensitive.\n\t * @param {string} lang The language key.\n\t * @example\n\t * addAttribute('style', 'css');\n\t */\n\tvalue: function (attrName, lang) {\n\t\tPrism.languages.markup.tag.inside['special-attr'].push({\n\t\t\tpattern: RegExp(\n\t\t\t\t/(^|[\"'\\s])/.source + '(?:' + attrName + ')' + /\\s*=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+(?=[\\s>]))/.source,\n\t\t\t\t'i'\n\t\t\t),\n\t\t\tlookbehind: true,\n\t\t\tinside: {\n\t\t\t\t'attr-name': /^[^\\s=]+/,\n\t\t\t\t'attr-value': {\n\t\t\t\t\tpattern: /=[\\s\\S]+/,\n\t\t\t\t\tinside: {\n\t\t\t\t\t\t'value': {\n\t\t\t\t\t\t\tpattern: /(^=\\s*([\"']|(?![\"'])))\\S[\\s\\S]*(?=\\2$)/,\n\t\t\t\t\t\t\tlookbehind: true,\n\t\t\t\t\t\t\talias: [lang, 'language-' + lang],\n\t\t\t\t\t\t\tinside: Prism.languages[lang]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t'punctuation': [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tpattern: /^=/,\n\t\t\t\t\t\t\t\talias: 'attr-equals'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t/\"|'/\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n});\n\nPrism.languages.html = Prism.languages.markup;\nPrism.languages.mathml = Prism.languages.markup;\nPrism.languages.svg = Prism.languages.markup;\n\nPrism.languages.xml = Prism.languages.extend('markup', {});\nPrism.languages.ssml = Prism.languages.xml;\nPrism.languages.atom = Prism.languages.xml;\nPrism.languages.rss = Prism.languages.xml;\n","(function (Prism) {\n\n\t/**\n\t * Returns the placeholder for the given language id and index.\n\t *\n\t * @param {string} language\n\t * @param {string|number} index\n\t * @returns {string}\n\t */\n\tfunction getPlaceholder(language, index) {\n\t\treturn '___' + language.toUpperCase() + index + '___';\n\t}\n\n\tObject.defineProperties(Prism.languages['markup-templating'] = {}, {\n\t\tbuildPlaceholders: {\n\t\t\t/**\n\t\t\t * Tokenize all inline templating expressions matching `placeholderPattern`.\n\t\t\t *\n\t\t\t * If `replaceFilter` is provided, only matches of `placeholderPattern` for which `replaceFilter` returns\n\t\t\t * `true` will be replaced.\n\t\t\t *\n\t\t\t * @param {object} env The environment of the `before-tokenize` hook.\n\t\t\t * @param {string} language The language id.\n\t\t\t * @param {RegExp} placeholderPattern The matches of this pattern will be replaced by placeholders.\n\t\t\t * @param {(match: string) => boolean} [replaceFilter]\n\t\t\t */\n\t\t\tvalue: function (env, language, placeholderPattern, replaceFilter) {\n\t\t\t\tif (env.language !== language) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar tokenStack = env.tokenStack = [];\n\n\t\t\t\tenv.code = env.code.replace(placeholderPattern, function (match) {\n\t\t\t\t\tif (typeof replaceFilter === 'function' && !replaceFilter(match)) {\n\t\t\t\t\t\treturn match;\n\t\t\t\t\t}\n\t\t\t\t\tvar i = tokenStack.length;\n\t\t\t\t\tvar placeholder;\n\n\t\t\t\t\t// Check for existing strings\n\t\t\t\t\twhile (env.code.indexOf(placeholder = getPlaceholder(language, i)) !== -1) {\n\t\t\t\t\t\t++i;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Create a sparse array\n\t\t\t\t\ttokenStack[i] = match;\n\n\t\t\t\t\treturn placeholder;\n\t\t\t\t});\n\n\t\t\t\t// Switch the grammar to markup\n\t\t\t\tenv.grammar = Prism.languages.markup;\n\t\t\t}\n\t\t},\n\t\ttokenizePlaceholders: {\n\t\t\t/**\n\t\t\t * Replace placeholders with proper tokens after tokenizing.\n\t\t\t *\n\t\t\t * @param {object} env The environment of the `after-tokenize` hook.\n\t\t\t * @param {string} language The language id.\n\t\t\t */\n\t\t\tvalue: function (env, language) {\n\t\t\t\tif (env.language !== language || !env.tokenStack) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Switch the grammar back\n\t\t\t\tenv.grammar = Prism.languages[language];\n\n\t\t\t\tvar j = 0;\n\t\t\t\tvar keys = Object.keys(env.tokenStack);\n\n\t\t\t\tfunction walkTokens(tokens) {\n\t\t\t\t\tfor (var i = 0; i < tokens.length; i++) {\n\t\t\t\t\t\t// all placeholders are replaced already\n\t\t\t\t\t\tif (j >= keys.length) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar token = tokens[i];\n\t\t\t\t\t\tif (typeof token === 'string' || (token.content && typeof token.content === 'string')) {\n\t\t\t\t\t\t\tvar k = keys[j];\n\t\t\t\t\t\t\tvar t = env.tokenStack[k];\n\t\t\t\t\t\t\tvar s = typeof token === 'string' ? token : token.content;\n\t\t\t\t\t\t\tvar placeholder = getPlaceholder(language, k);\n\n\t\t\t\t\t\t\tvar index = s.indexOf(placeholder);\n\t\t\t\t\t\t\tif (index > -1) {\n\t\t\t\t\t\t\t\t++j;\n\n\t\t\t\t\t\t\t\tvar before = s.substring(0, index);\n\t\t\t\t\t\t\t\tvar middle = new Prism.Token(language, Prism.tokenize(t, env.grammar), 'language-' + language, t);\n\t\t\t\t\t\t\t\tvar after = s.substring(index + placeholder.length);\n\n\t\t\t\t\t\t\t\tvar replacement = [];\n\t\t\t\t\t\t\t\tif (before) {\n\t\t\t\t\t\t\t\t\treplacement.push.apply(replacement, walkTokens([before]));\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treplacement.push(middle);\n\t\t\t\t\t\t\t\tif (after) {\n\t\t\t\t\t\t\t\t\treplacement.push.apply(replacement, walkTokens([after]));\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (typeof token === 'string') {\n\t\t\t\t\t\t\t\t\ttokens.splice.apply(tokens, [i, 1].concat(replacement));\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\ttoken.content = replacement;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (token.content /* && typeof token.content !== 'string' */) {\n\t\t\t\t\t\t\twalkTokens(token.content);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn tokens;\n\t\t\t\t}\n\n\t\t\t\twalkTokens(env.tokens);\n\t\t\t}\n\t\t}\n\t});\n\n}(Prism));\n","Prism.languages.javascript = Prism.languages.extend('clike', {\n\t'class-name': [\n\t\tPrism.languages.clike['class-name'],\n\t\t{\n\t\t\tpattern: /(^|[^$\\w\\xA0-\\uFFFF])(?!\\s)[_$A-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\.(?:constructor|prototype))/,\n\t\t\tlookbehind: true\n\t\t}\n\t],\n\t'keyword': [\n\t\t{\n\t\t\tpattern: /((?:^|\\})\\s*)catch\\b/,\n\t\t\tlookbehind: true\n\t\t},\n\t\t{\n\t\t\tpattern: /(^|[^.]|\\.\\.\\.\\s*)\\b(?:as|assert(?=\\s*\\{)|async(?=\\s*(?:function\\b|\\(|[$\\w\\xA0-\\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\\s*(?:\\{|$))|for|from(?=\\s*(?:['\"]|$))|function|(?:get|set)(?=\\s*(?:[#\\[$\\w\\xA0-\\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\\b/,\n\t\t\tlookbehind: true\n\t\t},\n\t],\n\t// Allow for all non-ASCII characters (See http://stackoverflow.com/a/2008444)\n\t'function': /#?(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*(?:\\.\\s*(?:apply|bind|call)\\s*)?\\()/,\n\t'number': {\n\t\tpattern: RegExp(\n\t\t\t/(^|[^\\w$])/.source +\n\t\t\t'(?:' +\n\t\t\t(\n\t\t\t\t// constant\n\t\t\t\t/NaN|Infinity/.source +\n\t\t\t\t'|' +\n\t\t\t\t// binary integer\n\t\t\t\t/0[bB][01]+(?:_[01]+)*n?/.source +\n\t\t\t\t'|' +\n\t\t\t\t// octal integer\n\t\t\t\t/0[oO][0-7]+(?:_[0-7]+)*n?/.source +\n\t\t\t\t'|' +\n\t\t\t\t// hexadecimal integer\n\t\t\t\t/0[xX][\\dA-Fa-f]+(?:_[\\dA-Fa-f]+)*n?/.source +\n\t\t\t\t'|' +\n\t\t\t\t// decimal bigint\n\t\t\t\t/\\d+(?:_\\d+)*n/.source +\n\t\t\t\t'|' +\n\t\t\t\t// decimal number (integer or float) but no bigint\n\t\t\t\t/(?:\\d+(?:_\\d+)*(?:\\.(?:\\d+(?:_\\d+)*)?)?|\\.\\d+(?:_\\d+)*)(?:[Ee][+-]?\\d+(?:_\\d+)*)?/.source\n\t\t\t) +\n\t\t\t')' +\n\t\t\t/(?![\\w$])/.source\n\t\t),\n\t\tlookbehind: true\n\t},\n\t'operator': /--|\\+\\+|\\*\\*=?|=>|&&=?|\\|\\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\\.{3}|\\?\\?=?|\\?\\.?|[~:]/\n});\n\nPrism.languages.javascript['class-name'][0].pattern = /(\\b(?:class|extends|implements|instanceof|interface|new)\\s+)[\\w.\\\\]+/;\n\nPrism.languages.insertBefore('javascript', 'keyword', {\n\t'regex': {\n\t\tpattern: RegExp(\n\t\t\t// lookbehind\n\t\t\t// eslint-disable-next-line regexp/no-dupe-characters-character-class\n\t\t\t/((?:^|[^$\\w\\xA0-\\uFFFF.\"'\\])\\s]|\\b(?:return|yield))\\s*)/.source +\n\t\t\t// Regex pattern:\n\t\t\t// There are 2 regex patterns here. The RegExp set notation proposal added support for nested character\n\t\t\t// classes if the `v` flag is present. Unfortunately, nested CCs are both context-free and incompatible\n\t\t\t// with the only syntax, so we have to define 2 different regex patterns.\n\t\t\t/\\//.source +\n\t\t\t'(?:' +\n\t\t\t/(?:\\[(?:[^\\]\\\\\\r\\n]|\\\\.)*\\]|\\\\.|[^/\\\\\\[\\r\\n])+\\/[dgimyus]{0,7}/.source +\n\t\t\t'|' +\n\t\t\t// `v` flag syntax. This supports 3 levels of nested character classes.\n\t\t\t/(?:\\[(?:[^[\\]\\\\\\r\\n]|\\\\.|\\[(?:[^[\\]\\\\\\r\\n]|\\\\.|\\[(?:[^[\\]\\\\\\r\\n]|\\\\.)*\\])*\\])*\\]|\\\\.|[^/\\\\\\[\\r\\n])+\\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source +\n\t\t\t')' +\n\t\t\t// lookahead\n\t\t\t/(?=(?:\\s|\\/\\*(?:[^*]|\\*(?!\\/))*\\*\\/)*(?:$|[\\r\\n,.;:})\\]]|\\/\\/))/.source\n\t\t),\n\t\tlookbehind: true,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'regex-source': {\n\t\t\t\tpattern: /^(\\/)[\\s\\S]+(?=\\/[a-z]*$)/,\n\t\t\t\tlookbehind: true,\n\t\t\t\talias: 'language-regex',\n\t\t\t\tinside: Prism.languages.regex\n\t\t\t},\n\t\t\t'regex-delimiter': /^\\/|\\/$/,\n\t\t\t'regex-flags': /^[a-z]+$/,\n\t\t}\n\t},\n\t// This must be declared before keyword because we use \"function\" inside the look-forward\n\t'function-variable': {\n\t\tpattern: /#?(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*[=:]\\s*(?:async\\s*)?(?:\\bfunction\\b|(?:\\((?:[^()]|\\([^()]*\\))*\\)|(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*)\\s*=>))/,\n\t\talias: 'function'\n\t},\n\t'parameter': [\n\t\t{\n\t\t\tpattern: /(function(?:\\s+(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*)?\\s*\\(\\s*)(?!\\s)(?:[^()\\s]|\\s+(?![\\s)])|\\([^()]*\\))+(?=\\s*\\))/,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t},\n\t\t{\n\t\t\tpattern: /(^|[^$\\w\\xA0-\\uFFFF])(?!\\s)[_$a-z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*=>)/i,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t},\n\t\t{\n\t\t\tpattern: /(\\(\\s*)(?!\\s)(?:[^()\\s]|\\s+(?![\\s)])|\\([^()]*\\))+(?=\\s*\\)\\s*=>)/,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t},\n\t\t{\n\t\t\tpattern: /((?:\\b|\\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\\w\\xA0-\\uFFFF]))(?:(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*\\s*)\\(\\s*|\\]\\s*\\(\\s*)(?!\\s)(?:[^()\\s]|\\s+(?![\\s)])|\\([^()]*\\))+(?=\\s*\\)\\s*\\{)/,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t}\n\t],\n\t'constant': /\\b[A-Z](?:[A-Z_]|\\dx?)*\\b/\n});\n\nPrism.languages.insertBefore('javascript', 'string', {\n\t'hashbang': {\n\t\tpattern: /^#!.*/,\n\t\tgreedy: true,\n\t\talias: 'comment'\n\t},\n\t'template-string': {\n\t\tpattern: /`(?:\\\\[\\s\\S]|\\$\\{(?:[^{}]|\\{(?:[^{}]|\\{[^}]*\\})*\\})+\\}|(?!\\$\\{)[^\\\\`])*`/,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'template-punctuation': {\n\t\t\t\tpattern: /^`|`$/,\n\t\t\t\talias: 'string'\n\t\t\t},\n\t\t\t'interpolation': {\n\t\t\t\tpattern: /((?:^|[^\\\\])(?:\\\\{2})*)\\$\\{(?:[^{}]|\\{(?:[^{}]|\\{[^}]*\\})*\\})+\\}/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'interpolation-punctuation': {\n\t\t\t\t\t\tpattern: /^\\$\\{|\\}$/,\n\t\t\t\t\t\talias: 'punctuation'\n\t\t\t\t\t},\n\t\t\t\t\trest: Prism.languages.javascript\n\t\t\t\t}\n\t\t\t},\n\t\t\t'string': /[\\s\\S]+/\n\t\t}\n\t},\n\t'string-property': {\n\t\tpattern: /((?:^|[,{])[ \\t]*)([\"'])(?:\\\\(?:\\r\\n|[\\s\\S])|(?!\\2)[^\\\\\\r\\n])*\\2(?=\\s*:)/m,\n\t\tlookbehind: true,\n\t\tgreedy: true,\n\t\talias: 'property'\n\t}\n});\n\nPrism.languages.insertBefore('javascript', 'operator', {\n\t'literal-property': {\n\t\tpattern: /((?:^|[,{])[ \\t]*)(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*:)/m,\n\t\tlookbehind: true,\n\t\talias: 'property'\n\t},\n});\n\nif (Prism.languages.markup) {\n\tPrism.languages.markup.tag.addInlined('script', 'javascript');\n\n\t// add attribute support for all DOM events.\n\t// https://developer.mozilla.org/en-US/docs/Web/Events#Standard_events\n\tPrism.languages.markup.tag.addAttribute(\n\t\t/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,\n\t\t'javascript'\n\t);\n}\n\nPrism.languages.js = Prism.languages.javascript;\n","(function (Prism) {\n\n\tPrism.languages.typescript = Prism.languages.extend('javascript', {\n\t\t'class-name': {\n\t\t\tpattern: /(\\b(?:class|extends|implements|instanceof|interface|new|type)\\s+)(?!keyof\\b)(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?:\\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true,\n\t\t\tinside: null // see below\n\t\t},\n\t\t'builtin': /\\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\\b/,\n\t});\n\n\t// The keywords TypeScript adds to JavaScript\n\tPrism.languages.typescript.keyword.push(\n\t\t/\\b(?:abstract|declare|is|keyof|readonly|require)\\b/,\n\t\t// keywords that have to be followed by an identifier\n\t\t/\\b(?:asserts|infer|interface|module|namespace|type)\\b(?=\\s*(?:[{_$a-zA-Z\\xA0-\\uFFFF]|$))/,\n\t\t// This is for `import type *, {}`\n\t\t/\\btype\\b(?=\\s*(?:[\\{*]|$))/\n\t);\n\n\t// doesn't work with TS because TS is too complex\n\tdelete Prism.languages.typescript['parameter'];\n\tdelete Prism.languages.typescript['literal-property'];\n\n\t// a version of typescript specifically for highlighting types\n\tvar typeInside = Prism.languages.extend('typescript', {});\n\tdelete typeInside['class-name'];\n\n\tPrism.languages.typescript['class-name'].inside = typeInside;\n\n\tPrism.languages.insertBefore('typescript', 'function', {\n\t\t'decorator': {\n\t\t\tpattern: /@[$\\w\\xA0-\\uFFFF]+/,\n\t\t\tinside: {\n\t\t\t\t'at': {\n\t\t\t\t\tpattern: /^@/,\n\t\t\t\t\talias: 'operator'\n\t\t\t\t},\n\t\t\t\t'function': /^[\\s\\S]+/\n\t\t\t}\n\t\t},\n\t\t'generic-function': {\n\t\t\t// e.g. foo<T extends \"bar\" | \"baz\">( ...\n\t\t\tpattern: /#?(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*\\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\\s*\\()/,\n\t\t\tgreedy: true,\n\t\t\tinside: {\n\t\t\t\t'function': /^#?(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*/,\n\t\t\t\t'generic': {\n\t\t\t\t\tpattern: /<[\\s\\S]+/, // everything after the first <\n\t\t\t\t\talias: 'class-name',\n\t\t\t\t\tinside: typeInside\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\n\tPrism.languages.ts = Prism.languages.typescript;\n\n}(Prism));\n","Prism.languages.python = {\n\t'comment': {\n\t\tpattern: /(^|[^\\\\])#.*/,\n\t\tlookbehind: true,\n\t\tgreedy: true\n\t},\n\t'string-interpolation': {\n\t\tpattern: /(?:f|fr|rf)(?:(\"\"\"|''')[\\s\\S]*?\\1|(\"|')(?:\\\\.|(?!\\2)[^\\\\\\r\\n])*\\2)/i,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'interpolation': {\n\t\t\t\t// \"{\" <expression> <optional \"!s\", \"!r\", or \"!a\"> <optional \":\" format specifier> \"}\"\n\t\t\t\tpattern: /((?:^|[^{])(?:\\{\\{)*)\\{(?!\\{)(?:[^{}]|\\{(?!\\{)(?:[^{}]|\\{(?!\\{)(?:[^{}])+\\})+\\})+\\}/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'format-spec': {\n\t\t\t\t\t\tpattern: /(:)[^:(){}]+(?=\\}$)/,\n\t\t\t\t\t\tlookbehind: true\n\t\t\t\t\t},\n\t\t\t\t\t'conversion-option': {\n\t\t\t\t\t\tpattern: /![sra](?=[:}]$)/,\n\t\t\t\t\t\talias: 'punctuation'\n\t\t\t\t\t},\n\t\t\t\t\trest: null\n\t\t\t\t}\n\t\t\t},\n\t\t\t'string': /[\\s\\S]+/\n\t\t}\n\t},\n\t'triple-quoted-string': {\n\t\tpattern: /(?:[rub]|br|rb)?(\"\"\"|''')[\\s\\S]*?\\1/i,\n\t\tgreedy: true,\n\t\talias: 'string'\n\t},\n\t'string': {\n\t\tpattern: /(?:[rub]|br|rb)?(\"|')(?:\\\\.|(?!\\1)[^\\\\\\r\\n])*\\1/i,\n\t\tgreedy: true\n\t},\n\t'function': {\n\t\tpattern: /((?:^|\\s)def[ \\t]+)[a-zA-Z_]\\w*(?=\\s*\\()/g,\n\t\tlookbehind: true\n\t},\n\t'class-name': {\n\t\tpattern: /(\\bclass\\s+)\\w+/i,\n\t\tlookbehind: true\n\t},\n\t'decorator': {\n\t\tpattern: /(^[\\t ]*)@\\w+(?:\\.\\w+)*/m,\n\t\tlookbehind: true,\n\t\talias: ['annotation', 'punctuation'],\n\t\tinside: {\n\t\t\t'punctuation': /\\./\n\t\t}\n\t},\n\t'keyword': /\\b(?:_(?=\\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\\b/,\n\t'builtin': /\\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\\b/,\n\t'boolean': /\\b(?:False|None|True)\\b/,\n\t'number': /\\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\\b|(?:\\b\\d+(?:_\\d+)*(?:\\.(?:\\d+(?:_\\d+)*)?)?|\\B\\.\\d+(?:_\\d+)*)(?:e[+-]?\\d+(?:_\\d+)*)?j?(?!\\w)/i,\n\t'operator': /[-+%=]=?|!=|:=|\\*\\*?=?|\\/\\/?=?|<[<=>]?|>[=>]?|[&|^~]/,\n\t'punctuation': /[{}[\\];(),.:]/\n};\n\nPrism.languages.python['string-interpolation'].inside['interpolation'].inside.rest = Prism.languages.python;\n\nPrism.languages.py = Prism.languages.python;\n","(function (Prism) {\n\n\tvar keywords = /\\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\\s*[(){}[\\]<>=%~.:,;?+\\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\\b/;\n\n\t// full package (optional) + parent classes (optional)\n\tvar classNamePrefix = /(?:[a-z]\\w*\\s*\\.\\s*)*(?:[A-Z]\\w*\\s*\\.\\s*)*/.source;\n\n\t// based on the java naming conventions\n\tvar className = {\n\t\tpattern: RegExp(/(^|[^\\w.])/.source + classNamePrefix + /[A-Z](?:[\\d_A-Z]*[a-z]\\w*)?\\b/.source),\n\t\tlookbehind: true,\n\t\tinside: {\n\t\t\t'namespace': {\n\t\t\t\tpattern: /^[a-z]\\w*(?:\\s*\\.\\s*[a-z]\\w*)*(?:\\s*\\.)?/,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': /\\./\n\t\t\t\t}\n\t\t\t},\n\t\t\t'punctuation': /\\./\n\t\t}\n\t};\n\n\tPrism.languages.java = Prism.languages.extend('clike', {\n\t\t'string': {\n\t\t\tpattern: /(^|[^\\\\])\"(?:\\\\.|[^\"\\\\\\r\\n])*\"/,\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true\n\t\t},\n\t\t'class-name': [\n\t\t\tclassName,\n\t\t\t{\n\t\t\t\t// variables, parameters, and constructor references\n\t\t\t\t// this to support class names (or generic parameters) which do not contain a lower case letter (also works for methods)\n\t\t\t\tpattern: RegExp(/(^|[^\\w.])/.source + classNamePrefix + /[A-Z]\\w*(?=\\s+\\w+\\s*[;,=()]|\\s*(?:\\[[\\s,]*\\]\\s*)?::\\s*new\\b)/.source),\n\t\t\t\tlookbehind: true,\n\t\t\t\tinside: className.inside\n\t\t\t},\n\t\t\t{\n\t\t\t\t// class names based on keyword\n\t\t\t\t// this to support class names (or generic parameters) which do not contain a lower case letter (also works for methods)\n\t\t\t\tpattern: RegExp(/(\\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\\s+)/.source + classNamePrefix + /[A-Z]\\w*\\b/.source),\n\t\t\t\tlookbehind: true,\n\t\t\t\tinside: className.inside\n\t\t\t}\n\t\t],\n\t\t'keyword': keywords,\n\t\t'function': [\n\t\t\tPrism.languages.clike.function,\n\t\t\t{\n\t\t\t\tpattern: /(::\\s*)[a-z_]\\w*/,\n\t\t\t\tlookbehind: true\n\t\t\t}\n\t\t],\n\t\t'number': /\\b0b[01][01_]*L?\\b|\\b0x(?:\\.[\\da-f_p+-]+|[\\da-f_]+(?:\\.[\\da-f_p+-]+)?)\\b|(?:\\b\\d[\\d_]*(?:\\.[\\d_]*)?|\\B\\.\\d[\\d_]*)(?:e[+-]?\\d[\\d_]*)?[dfl]?/i,\n\t\t'operator': {\n\t\t\tpattern: /(^|[^.])(?:<<=?|>>>?=?|->|--|\\+\\+|&&|\\|\\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,\n\t\t\tlookbehind: true\n\t\t},\n\t\t'constant': /\\b[A-Z][A-Z_\\d]+\\b/\n\t});\n\n\tPrism.languages.insertBefore('java', 'string', {\n\t\t'triple-quoted-string': {\n\t\t\t// http://openjdk.java.net/jeps/355#Description\n\t\t\tpattern: /\"\"\"[ \\t]*[\\r\\n](?:(?:\"|\"\")?(?:\\\\.|[^\"\\\\]))*\"\"\"/,\n\t\t\tgreedy: true,\n\t\t\talias: 'string'\n\t\t},\n\t\t'char': {\n\t\t\tpattern: /'(?:\\\\.|[^'\\\\\\r\\n]){1,6}'/,\n\t\t\tgreedy: true\n\t\t}\n\t});\n\n\tPrism.languages.insertBefore('java', 'class-name', {\n\t\t'annotation': {\n\t\t\tpattern: /(^|[^.])@\\w+(?:\\s*\\.\\s*\\w+)*/,\n\t\t\tlookbehind: true,\n\t\t\talias: 'punctuation'\n\t\t},\n\t\t'generics': {\n\t\t\tpattern: /<(?:[\\w\\s,.?]|&(?!&)|<(?:[\\w\\s,.?]|&(?!&)|<(?:[\\w\\s,.?]|&(?!&)|<(?:[\\w\\s,.?]|&(?!&))*>)*>)*>)*>/,\n\t\t\tinside: {\n\t\t\t\t'class-name': className,\n\t\t\t\t'keyword': keywords,\n\t\t\t\t'punctuation': /[<>(),.:]/,\n\t\t\t\t'operator': /[?&|]/\n\t\t\t}\n\t\t},\n\t\t'import': [\n\t\t\t{\n\t\t\t\tpattern: RegExp(/(\\bimport\\s+)/.source + classNamePrefix + /(?:[A-Z]\\w*|\\*)(?=\\s*;)/.source),\n\t\t\t\tlookbehind: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'namespace': className.inside.namespace,\n\t\t\t\t\t'punctuation': /\\./,\n\t\t\t\t\t'operator': /\\*/,\n\t\t\t\t\t'class-name': /\\w+/\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tpattern: RegExp(/(\\bimport\\s+static\\s+)/.source + classNamePrefix + /(?:\\w+|\\*)(?=\\s*;)/.source),\n\t\t\t\tlookbehind: true,\n\t\t\t\talias: 'static',\n\t\t\t\tinside: {\n\t\t\t\t\t'namespace': className.inside.namespace,\n\t\t\t\t\t'static': /\\b\\w+$/,\n\t\t\t\t\t'punctuation': /\\./,\n\t\t\t\t\t'operator': /\\*/,\n\t\t\t\t\t'class-name': /\\w+/\n\t\t\t\t}\n\t\t\t}\n\t\t],\n\t\t'namespace': {\n\t\t\tpattern: RegExp(\n\t\t\t\t/(\\b(?:exports|import(?:\\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\\s+)(?!<keyword>)[a-z]\\w*(?:\\.[a-z]\\w*)*\\.?/\n\t\t\t\t\t.source.replace(/<keyword>/g, function () { return keywords.source; })),\n\t\t\tlookbehind: true,\n\t\t\tinside: {\n\t\t\t\t'punctuation': /\\./,\n\t\t\t}\n\t\t}\n\t});\n}(Prism));\n","(function (Prism) {\n\n\t/**\n\t * Replaces all placeholders \"<<n>>\" of given pattern with the n-th replacement (zero based).\n\t *\n\t * Note: This is a simple text based replacement. Be careful when using backreferences!\n\t *\n\t * @param {string} pattern the given pattern.\n\t * @param {string[]} replacements a list of replacement which can be inserted into the given pattern.\n\t * @returns {string} the pattern with all placeholders replaced with their corresponding replacements.\n\t * @example replace(/a<<0>>a/.source, [/b+/.source]) === /a(?:b+)a/.source\n\t */\n\tfunction replace(pattern, replacements) {\n\t\treturn pattern.replace(/<<(\\d+)>>/g, function (m, index) {\n\t\t\treturn '(?:' + replacements[+index] + ')';\n\t\t});\n\t}\n\t/**\n\t * @param {string} pattern\n\t * @param {string[]} replacements\n\t * @param {string} [flags]\n\t * @returns {RegExp}\n\t */\n\tfunction re(pattern, replacements, flags) {\n\t\treturn RegExp(replace(pattern, replacements), flags || '');\n\t}\n\n\t/**\n\t * Creates a nested pattern where all occurrences of the string `<<self>>` are replaced with the pattern itself.\n\t *\n\t * @param {string} pattern\n\t * @param {number} depthLog2\n\t * @returns {string}\n\t */\n\tfunction nested(pattern, depthLog2) {\n\t\tfor (var i = 0; i < depthLog2; i++) {\n\t\t\tpattern = pattern.replace(/<<self>>/g, function () { return '(?:' + pattern + ')'; });\n\t\t}\n\t\treturn pattern.replace(/<<self>>/g, '[^\\\\s\\\\S]');\n\t}\n\n\t// https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/\n\tvar keywordKinds = {\n\t\t// keywords which represent a return or variable type\n\t\ttype: 'bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void',\n\t\t// keywords which are used to declare a type\n\t\ttypeDeclaration: 'class enum interface record struct',\n\t\t// contextual keywords\n\t\t// (\"var\" and \"dynamic\" are missing because they are used like types)\n\t\tcontextual: 'add alias and ascending async await by descending from(?=\\\\s*(?:\\\\w|$)) get global group into init(?=\\\\s*;) join let nameof not notnull on or orderby partial remove select set unmanaged value when where with(?=\\\\s*{)',\n\t\t// all other keywords\n\t\tother: 'abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield'\n\t};\n\n\t// keywords\n\tfunction keywordsToPattern(words) {\n\t\treturn '\\\\b(?:' + words.trim().replace(/ /g, '|') + ')\\\\b';\n\t}\n\tvar typeDeclarationKeywords = keywordsToPattern(keywordKinds.typeDeclaration);\n\tvar keywords = RegExp(keywordsToPattern(keywordKinds.type + ' ' + keywordKinds.typeDeclaration + ' ' + keywordKinds.contextual + ' ' + keywordKinds.other));\n\tvar nonTypeKeywords = keywordsToPattern(keywordKinds.typeDeclaration + ' ' + keywordKinds.contextual + ' ' + keywordKinds.other);\n\tvar nonContextualKeywords = keywordsToPattern(keywordKinds.type + ' ' + keywordKinds.typeDeclaration + ' ' + keywordKinds.other);\n\n\t// types\n\tvar generic = nested(/<(?:[^<>;=+\\-*/%&|^]|<<self>>)*>/.source, 2); // the idea behind the other forbidden characters is to prevent false positives. Same for tupleElement.\n\tvar nestedRound = nested(/\\((?:[^()]|<<self>>)*\\)/.source, 2);\n\tvar name = /@?\\b[A-Za-z_]\\w*\\b/.source;\n\tvar genericName = replace(/<<0>>(?:\\s*<<1>>)?/.source, [name, generic]);\n\tvar identifier = replace(/(?!<<0>>)<<1>>(?:\\s*\\.\\s*<<1>>)*/.source, [nonTypeKeywords, genericName]);\n\tvar array = /\\[\\s*(?:,\\s*)*\\]/.source;\n\tvar typeExpressionWithoutTuple = replace(/<<0>>(?:\\s*(?:\\?\\s*)?<<1>>)*(?:\\s*\\?)?/.source, [identifier, array]);\n\tvar tupleElement = replace(/[^,()<>[\\];=+\\-*/%&|^]|<<0>>|<<1>>|<<2>>/.source, [generic, nestedRound, array]);\n\tvar tuple = replace(/\\(<<0>>+(?:,<<0>>+)+\\)/.source, [tupleElement]);\n\tvar typeExpression = replace(/(?:<<0>>|<<1>>)(?:\\s*(?:\\?\\s*)?<<2>>)*(?:\\s*\\?)?/.source, [tuple, identifier, array]);\n\n\tvar typeInside = {\n\t\t'keyword': keywords,\n\t\t'punctuation': /[<>()?,.:[\\]]/\n\t};\n\n\t// strings & characters\n\t// https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/language-specification/lexical-structure#character-literals\n\t// https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/language-specification/lexical-structure#string-literals\n\tvar character = /'(?:[^\\r\\n'\\\\]|\\\\.|\\\\[Uux][\\da-fA-F]{1,8})'/.source; // simplified pattern\n\tvar regularString = /\"(?:\\\\.|[^\\\\\"\\r\\n])*\"/.source;\n\tvar verbatimString = /@\"(?:\"\"|\\\\[\\s\\S]|[^\\\\\"])*\"(?!\")/.source;\n\n\n\tPrism.languages.csharp = Prism.languages.extend('clike', {\n\t\t'string': [\n\t\t\t{\n\t\t\t\tpattern: re(/(^|[^$\\\\])<<0>>/.source, [verbatimString]),\n\t\t\t\tlookbehind: true,\n\t\t\t\tgreedy: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tpattern: re(/(^|[^@$\\\\])<<0>>/.source, [regularString]),\n\t\t\t\tlookbehind: true,\n\t\t\t\tgreedy: true\n\t\t\t}\n\t\t],\n\t\t'class-name': [\n\t\t\t{\n\t\t\t\t// Using static\n\t\t\t\t// using static System.Math;\n\t\t\t\tpattern: re(/(\\busing\\s+static\\s+)<<0>>(?=\\s*;)/.source, [identifier]),\n\t\t\t\tlookbehind: true,\n\t\t\t\tinside: typeInside\n\t\t\t},\n\t\t\t{\n\t\t\t\t// Using alias (type)\n\t\t\t\t// using Project = PC.MyCompany.Project;\n\t\t\t\tpattern: re(/(\\busing\\s+<<0>>\\s*=\\s*)<<1>>(?=\\s*;)/.source, [name, typeExpression]),\n\t\t\t\tlookbehind: true,\n\t\t\t\tinside: typeInside\n\t\t\t},\n\t\t\t{\n\t\t\t\t// Using alias (alias)\n\t\t\t\t// using Project = PC.MyCompany.Project;\n\t\t\t\tpattern: re(/(\\busing\\s+)<<0>>(?=\\s*=)/.source, [name]),\n\t\t\t\tlookbehind: true\n\t\t\t},\n\t\t\t{\n\t\t\t\t// Type declarations\n\t\t\t\t// class Foo<A, B>\n\t\t\t\t// interface Foo<out A, B>\n\t\t\t\tpattern: re(/(\\b<<0>>\\s+)<<1>>/.source, [typeDeclarationKeywords, genericName]),\n\t\t\t\tlookbehind: true,\n\t\t\t\tinside: typeInside\n\t\t\t},\n\t\t\t{\n\t\t\t\t// Single catch exception declaration\n\t\t\t\t// catch(Foo)\n\t\t\t\t// (things like catch(Foo e) is covered by variable declaration)\n\t\t\t\tpattern: re(/(\\bcatch\\s*\\(\\s*)<<0>>/.source, [identifier]),\n\t\t\t\tlookbehind: true,\n\t\t\t\tinside: typeInside\n\t\t\t},\n\t\t\t{\n\t\t\t\t// Name of the type parameter of generic constraints\n\t\t\t\t// where Foo : class\n\t\t\t\tpattern: re(/(\\bwhere\\s+)<<0>>/.source, [name]),\n\t\t\t\tlookbehind: true\n\t\t\t},\n\t\t\t{\n\t\t\t\t// Casts and checks via as and is.\n\t\t\t\t// as Foo<A>, is Bar<B>\n\t\t\t\t// (things like if(a is Foo b) is covered by variable declaration)\n\t\t\t\tpattern: re(/(\\b(?:is(?:\\s+not)?|as)\\s+)<<0>>/.source, [typeExpressionWithoutTuple]),\n\t\t\t\tlookbehind: true,\n\t\t\t\tinside: typeInside\n\t\t\t},\n\t\t\t{\n\t\t\t\t// Variable, field and parameter declaration\n\t\t\t\t// (Foo bar, Bar baz, Foo[,,] bay, Foo<Bar, FooBar<Bar>> bax)\n\t\t\t\tpattern: re(/\\b<<0>>(?=\\s+(?!<<1>>|with\\s*\\{)<<2>>(?:\\s*[=,;:{)\\]]|\\s+(?:in|when)\\b))/.source, [typeExpression, nonContextualKeywords, name]),\n\t\t\t\tinside: typeInside\n\t\t\t}\n\t\t],\n\t\t'keyword': keywords,\n\t\t// https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/language-specification/lexical-structure#literals\n\t\t'number': /(?:\\b0(?:x[\\da-f_]*[\\da-f]|b[01_]*[01])|(?:\\B\\.\\d+(?:_+\\d+)*|\\b\\d+(?:_+\\d+)*(?:\\.\\d+(?:_+\\d+)*)?)(?:e[-+]?\\d+(?:_+\\d+)*)?)(?:[dflmu]|lu|ul)?\\b/i,\n\t\t'operator': />>=?|<<=?|[-=]>|([-+&|])\\1|~|\\?\\?=?|[-+*/%&|^!=<>]=?/,\n\t\t'punctuation': /\\?\\.?|::|[{}[\\];(),.:]/\n\t});\n\n\tPrism.languages.insertBefore('csharp', 'number', {\n\t\t'range': {\n\t\t\tpattern: /\\.\\./,\n\t\t\talias: 'operator'\n\t\t}\n\t});\n\n\tPrism.languages.insertBefore('csharp', 'punctuation', {\n\t\t'named-parameter': {\n\t\t\tpattern: re(/([(,]\\s*)<<0>>(?=\\s*:)/.source, [name]),\n\t\t\tlookbehind: true,\n\t\t\talias: 'punctuation'\n\t\t}\n\t});\n\n\tPrism.languages.insertBefore('csharp', 'class-name', {\n\t\t'namespace': {\n\t\t\t// namespace Foo.Bar {}\n\t\t\t// using Foo.Bar;\n\t\t\tpattern: re(/(\\b(?:namespace|using)\\s+)<<0>>(?:\\s*\\.\\s*<<0>>)*(?=\\s*[;{])/.source, [name]),\n\t\t\tlookbehind: true,\n\t\t\tinside: {\n\t\t\t\t'punctuation': /\\./\n\t\t\t}\n\t\t},\n\t\t'type-expression': {\n\t\t\t// default(Foo), typeof(Foo<Bar>), sizeof(int)\n\t\t\tpattern: re(/(\\b(?:default|sizeof|typeof)\\s*\\(\\s*(?!\\s))(?:[^()\\s]|\\s(?!\\s)|<<0>>)*(?=\\s*\\))/.source, [nestedRound]),\n\t\t\tlookbehind: true,\n\t\t\talias: 'class-name',\n\t\t\tinside: typeInside\n\t\t},\n\t\t'return-type': {\n\t\t\t// Foo<Bar> ForBar(); Foo IFoo.Bar() => 0\n\t\t\t// int this[int index] => 0; T IReadOnlyList<T>.this[int index] => this[index];\n\t\t\t// int Foo => 0; int Foo { get; set } = 0;\n\t\t\tpattern: re(/<<0>>(?=\\s+(?:<<1>>\\s*(?:=>|[({]|\\.\\s*this\\s*\\[)|this\\s*\\[))/.source, [typeExpression, identifier]),\n\t\t\tinside: typeInside,\n\t\t\talias: 'class-name'\n\t\t},\n\t\t'constructor-invocation': {\n\t\t\t// new List<Foo<Bar[]>> { }\n\t\t\tpattern: re(/(\\bnew\\s+)<<0>>(?=\\s*[[({])/.source, [typeExpression]),\n\t\t\tlookbehind: true,\n\t\t\tinside: typeInside,\n\t\t\talias: 'class-name'\n\t\t},\n\t\t/*'explicit-implementation': {\n\t\t\t// int IFoo<Foo>.Bar => 0; void IFoo<Foo<Foo>>.Foo<T>();\n\t\t\tpattern: replace(/\\b<<0>>(?=\\.<<1>>)/, className, methodOrPropertyDeclaration),\n\t\t\tinside: classNameInside,\n\t\t\talias: 'class-name'\n\t\t},*/\n\t\t'generic-method': {\n\t\t\t// foo<Bar>()\n\t\t\tpattern: re(/<<0>>\\s*<<1>>(?=\\s*\\()/.source, [name, generic]),\n\t\t\tinside: {\n\t\t\t\t'function': re(/^<<0>>/.source, [name]),\n\t\t\t\t'generic': {\n\t\t\t\t\tpattern: RegExp(generic),\n\t\t\t\t\talias: 'class-name',\n\t\t\t\t\tinside: typeInside\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t'type-list': {\n\t\t\t// The list of types inherited or of generic constraints\n\t\t\t// class Foo<F> : Bar, IList<FooBar>\n\t\t\t// where F : Bar, IList<int>\n\t\t\tpattern: re(\n\t\t\t\t/\\b((?:<<0>>\\s+<<1>>|record\\s+<<1>>\\s*<<5>>|where\\s+<<2>>)\\s*:\\s*)(?:<<3>>|<<4>>|<<1>>\\s*<<5>>|<<6>>)(?:\\s*,\\s*(?:<<3>>|<<4>>|<<6>>))*(?=\\s*(?:where|[{;]|=>|$))/.source,\n\t\t\t\t[typeDeclarationKeywords, genericName, name, typeExpression, keywords.source, nestedRound, /\\bnew\\s*\\(\\s*\\)/.source]\n\t\t\t),\n\t\t\tlookbehind: true,\n\t\t\tinside: {\n\t\t\t\t'record-arguments': {\n\t\t\t\t\tpattern: re(/(^(?!new\\s*\\()<<0>>\\s*)<<1>>/.source, [genericName, nestedRound]),\n\t\t\t\t\tlookbehind: true,\n\t\t\t\t\tgreedy: true,\n\t\t\t\t\tinside: Prism.languages.csharp\n\t\t\t\t},\n\t\t\t\t'keyword': keywords,\n\t\t\t\t'class-name': {\n\t\t\t\t\tpattern: RegExp(typeExpression),\n\t\t\t\t\tgreedy: true,\n\t\t\t\t\tinside: typeInside\n\t\t\t\t},\n\t\t\t\t'punctuation': /[,()]/\n\t\t\t}\n\t\t},\n\t\t'preprocessor': {\n\t\t\tpattern: /(^[\\t ]*)#.*/m,\n\t\t\tlookbehind: true,\n\t\t\talias: 'property',\n\t\t\tinside: {\n\t\t\t\t// highlight preprocessor directives as keywords\n\t\t\t\t'directive': {\n\t\t\t\t\tpattern: /(#)\\b(?:define|elif|else|endif|endregion|error|if|line|nullable|pragma|region|undef|warning)\\b/,\n\t\t\t\t\tlookbehind: true,\n\t\t\t\t\talias: 'keyword'\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\n\t// attributes\n\tvar regularStringOrCharacter = regularString + '|' + character;\n\tvar regularStringCharacterOrComment = replace(/\\/(?![*/])|\\/\\/[^\\r\\n]*[\\r\\n]|\\/\\*(?:[^*]|\\*(?!\\/))*\\*\\/|<<0>>/.source, [regularStringOrCharacter]);\n\tvar roundExpression = nested(replace(/[^\"'/()]|<<0>>|\\(<<self>>*\\)/.source, [regularStringCharacterOrComment]), 2);\n\n\t// https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/concepts/attributes/#attribute-targets\n\tvar attrTarget = /\\b(?:assembly|event|field|method|module|param|property|return|type)\\b/.source;\n\tvar attr = replace(/<<0>>(?:\\s*\\(<<1>>*\\))?/.source, [identifier, roundExpression]);\n\n\tPrism.languages.insertBefore('csharp', 'class-name', {\n\t\t'attribute': {\n\t\t\t// Attributes\n\t\t\t// [Foo], [Foo(1), Bar(2, Prop = \"foo\")], [return: Foo(1), Bar(2)], [assembly: Foo(Bar)]\n\t\t\tpattern: re(/((?:^|[^\\s\\w>)?])\\s*\\[\\s*)(?:<<0>>\\s*:\\s*)?<<1>>(?:\\s*,\\s*<<1>>)*(?=\\s*\\])/.source, [attrTarget, attr]),\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true,\n\t\t\tinside: {\n\t\t\t\t'target': {\n\t\t\t\t\tpattern: re(/^<<0>>(?=\\s*:)/.source, [attrTarget]),\n\t\t\t\t\talias: 'keyword'\n\t\t\t\t},\n\t\t\t\t'attribute-arguments': {\n\t\t\t\t\tpattern: re(/\\(<<0>>*\\)/.source, [roundExpression]),\n\t\t\t\t\tinside: Prism.languages.csharp\n\t\t\t\t},\n\t\t\t\t'class-name': {\n\t\t\t\t\tpattern: RegExp(identifier),\n\t\t\t\t\tinside: {\n\t\t\t\t\t\t'punctuation': /\\./\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t'punctuation': /[:,]/\n\t\t\t}\n\t\t}\n\t});\n\n\n\t// string interpolation\n\tvar formatString = /:[^}\\r\\n]+/.source;\n\t// multi line\n\tvar mInterpolationRound = nested(replace(/[^\"'/()]|<<0>>|\\(<<self>>*\\)/.source, [regularStringCharacterOrComment]), 2);\n\tvar mInterpolation = replace(/\\{(?!\\{)(?:(?![}:])<<0>>)*<<1>>?\\}/.source, [mInterpolationRound, formatString]);\n\t// single line\n\tvar sInterpolationRound = nested(replace(/[^\"'/()]|\\/(?!\\*)|\\/\\*(?:[^*]|\\*(?!\\/))*\\*\\/|<<0>>|\\(<<self>>*\\)/.source, [regularStringOrCharacter]), 2);\n\tvar sInterpolation = replace(/\\{(?!\\{)(?:(?![}:])<<0>>)*<<1>>?\\}/.source, [sInterpolationRound, formatString]);\n\n\tfunction createInterpolationInside(interpolation, interpolationRound) {\n\t\treturn {\n\t\t\t'interpolation': {\n\t\t\t\tpattern: re(/((?:^|[^{])(?:\\{\\{)*)<<0>>/.source, [interpolation]),\n\t\t\t\tlookbehind: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'format-string': {\n\t\t\t\t\t\tpattern: re(/(^\\{(?:(?![}:])<<0>>)*)<<1>>(?=\\}$)/.source, [interpolationRound, formatString]),\n\t\t\t\t\t\tlookbehind: true,\n\t\t\t\t\t\tinside: {\n\t\t\t\t\t\t\t'punctuation': /^:/\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t'punctuation': /^\\{|\\}$/,\n\t\t\t\t\t'expression': {\n\t\t\t\t\t\tpattern: /[\\s\\S]+/,\n\t\t\t\t\t\talias: 'language-csharp',\n\t\t\t\t\t\tinside: Prism.languages.csharp\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t'string': /[\\s\\S]+/\n\t\t};\n\t}\n\n\tPrism.languages.insertBefore('csharp', 'string', {\n\t\t'interpolation-string': [\n\t\t\t{\n\t\t\t\tpattern: re(/(^|[^\\\\])(?:\\$@|@\\$)\"(?:\"\"|\\\\[\\s\\S]|\\{\\{|<<0>>|[^\\\\{\"])*\"/.source, [mInterpolation]),\n\t\t\t\tlookbehind: true,\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: createInterpolationInside(mInterpolation, mInterpolationRound),\n\t\t\t},\n\t\t\t{\n\t\t\t\tpattern: re(/(^|[^@\\\\])\\$\"(?:\\\\.|\\{\\{|<<0>>|[^\\\\\"{])*\"/.source, [sInterpolation]),\n\t\t\t\tlookbehind: true,\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: createInterpolationInside(sInterpolation, sInterpolationRound),\n\t\t\t}\n\t\t],\n\t\t'char': {\n\t\t\tpattern: RegExp(character),\n\t\t\tgreedy: true\n\t\t}\n\t});\n\n\tPrism.languages.dotnet = Prism.languages.cs = Prism.languages.csharp;\n\n}(Prism));\n","/**\n * Original by Aaron Harun: http://aahacreative.com/2012/07/31/php-syntax-highlighting-prism/\n * Modified by Miles Johnson: http://milesj.me\n * Rewritten by Tom Pavelec\n *\n * Supports PHP 5.3 - 8.0\n */\n(function (Prism) {\n\tvar comment = /\\/\\*[\\s\\S]*?\\*\\/|\\/\\/.*|#(?!\\[).*/;\n\tvar constant = [\n\t\t{\n\t\t\tpattern: /\\b(?:false|true)\\b/i,\n\t\t\talias: 'boolean'\n\t\t},\n\t\t{\n\t\t\tpattern: /(::\\s*)\\b[a-z_]\\w*\\b(?!\\s*\\()/i,\n\t\t\tgreedy: true,\n\t\t\tlookbehind: true,\n\t\t},\n\t\t{\n\t\t\tpattern: /(\\b(?:case|const)\\s+)\\b[a-z_]\\w*(?=\\s*[;=])/i,\n\t\t\tgreedy: true,\n\t\t\tlookbehind: true,\n\t\t},\n\t\t/\\b(?:null)\\b/i,\n\t\t/\\b[A-Z_][A-Z0-9_]*\\b(?!\\s*\\()/,\n\t];\n\tvar number = /\\b0b[01]+(?:_[01]+)*\\b|\\b0o[0-7]+(?:_[0-7]+)*\\b|\\b0x[\\da-f]+(?:_[\\da-f]+)*\\b|(?:\\b\\d+(?:_\\d+)*\\.?(?:\\d+(?:_\\d+)*)?|\\B\\.\\d+)(?:e[+-]?\\d+)?/i;\n\tvar operator = /<?=>|\\?\\?=?|\\.{3}|\\??->|[!=]=?=?|::|\\*\\*=?|--|\\+\\+|&&|\\|\\||<<|>>|[?~]|[/^|%*&<>.+-]=?/;\n\tvar punctuation = /[{}\\[\\](),:;]/;\n\n\tPrism.languages.php = {\n\t\t'delimiter': {\n\t\t\tpattern: /\\?>$|^<\\?(?:php(?=\\s)|=)?/i,\n\t\t\talias: 'important'\n\t\t},\n\t\t'comment': comment,\n\t\t'variable': /\\$+(?:\\w+\\b|(?=\\{))/,\n\t\t'package': {\n\t\t\tpattern: /(namespace\\s+|use\\s+(?:function\\s+)?)(?:\\\\?\\b[a-z_]\\w*)+\\b(?!\\\\)/i,\n\t\t\tlookbehind: true,\n\t\t\tinside: {\n\t\t\t\t'punctuation': /\\\\/\n\t\t\t}\n\t\t},\n\t\t'class-name-definition': {\n\t\t\tpattern: /(\\b(?:class|enum|interface|trait)\\s+)\\b[a-z_]\\w*(?!\\\\)\\b/i,\n\t\t\tlookbehind: true,\n\t\t\talias: 'class-name'\n\t\t},\n\t\t'function-definition': {\n\t\t\tpattern: /(\\bfunction\\s+)[a-z_]\\w*(?=\\s*\\()/i,\n\t\t\tlookbehind: true,\n\t\t\talias: 'function'\n\t\t},\n\t\t'keyword': [\n\t\t\t{\n\t\t\t\tpattern: /(\\(\\s*)\\b(?:array|bool|boolean|float|int|integer|object|string)\\b(?=\\s*\\))/i,\n\t\t\t\talias: 'type-casting',\n\t\t\t\tgreedy: true,\n\t\t\t\tlookbehind: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tpattern: /([(,?]\\s*)\\b(?:array(?!\\s*\\()|bool|callable|(?:false|null)(?=\\s*\\|)|float|int|iterable|mixed|object|self|static|string)\\b(?=\\s*\\$)/i,\n\t\t\t\talias: 'type-hint',\n\t\t\t\tgreedy: true,\n\t\t\t\tlookbehind: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tpattern: /(\\)\\s*:\\s*(?:\\?\\s*)?)\\b(?:array(?!\\s*\\()|bool|callable|(?:false|null)(?=\\s*\\|)|float|int|iterable|mixed|never|object|self|static|string|void)\\b/i,\n\t\t\t\talias: 'return-type',\n\t\t\t\tgreedy: true,\n\t\t\t\tlookbehind: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tpattern: /\\b(?:array(?!\\s*\\()|bool|float|int|iterable|mixed|object|string|void)\\b/i,\n\t\t\t\talias: 'type-declaration',\n\t\t\t\tgreedy: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tpattern: /(\\|\\s*)(?:false|null)\\b|\\b(?:false|null)(?=\\s*\\|)/i,\n\t\t\t\talias: 'type-declaration',\n\t\t\t\tgreedy: true,\n\t\t\t\tlookbehind: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tpattern: /\\b(?:parent|self|static)(?=\\s*::)/i,\n\t\t\t\talias: 'static-context',\n\t\t\t\tgreedy: true\n\t\t\t},\n\t\t\t{\n\t\t\t\t// yield from\n\t\t\t\tpattern: /(\\byield\\s+)from\\b/i,\n\t\t\t\tlookbehind: true\n\t\t\t},\n\t\t\t// `class` is always a keyword unlike other keywords\n\t\t\t/\\bclass\\b/i,\n\t\t\t{\n\t\t\t\t// https://www.php.net/manual/en/reserved.keywords.php\n\t\t\t\t//\n\t\t\t\t// keywords cannot be preceded by \"->\"\n\t\t\t\t// the complex lookbehind means `(?<!(?:->|::)\\s*)`\n\t\t\t\tpattern: /((?:^|[^\\s>:]|(?:^|[^-])>|(?:^|[^:]):)\\s*)\\b(?:abstract|and|array|as|break|callable|case|catch|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|enum|eval|exit|extends|final|finally|fn|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|match|namespace|never|new|or|parent|print|private|protected|public|readonly|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|xor|yield|__halt_compiler)\\b/i,\n\t\t\t\tlookbehind: true\n\t\t\t}\n\t\t],\n\t\t'argument-name': {\n\t\t\tpattern: /([(,]\\s*)\\b[a-z_]\\w*(?=\\s*:(?!:))/i,\n\t\t\tlookbehind: true\n\t\t},\n\t\t'class-name': [\n\t\t\t{\n\t\t\t\tpattern: /(\\b(?:extends|implements|instanceof|new(?!\\s+self|\\s+static))\\s+|\\bcatch\\s*\\()\\b[a-z_]\\w*(?!\\\\)\\b/i,\n\t\t\t\tgreedy: true,\n\t\t\t\tlookbehind: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tpattern: /(\\|\\s*)\\b[a-z_]\\w*(?!\\\\)\\b/i,\n\t\t\t\tgreedy: true,\n\t\t\t\tlookbehind: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tpattern: /\\b[a-z_]\\w*(?!\\\\)\\b(?=\\s*\\|)/i,\n\t\t\t\tgreedy: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tpattern: /(\\|\\s*)(?:\\\\?\\b[a-z_]\\w*)+\\b/i,\n\t\t\t\talias: 'class-name-fully-qualified',\n\t\t\t\tgreedy: true,\n\t\t\t\tlookbehind: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': /\\\\/\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tpattern: /(?:\\\\?\\b[a-z_]\\w*)+\\b(?=\\s*\\|)/i,\n\t\t\t\talias: 'class-name-fully-qualified',\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': /\\\\/\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tpattern: /(\\b(?:extends|implements|instanceof|new(?!\\s+self\\b|\\s+static\\b))\\s+|\\bcatch\\s*\\()(?:\\\\?\\b[a-z_]\\w*)+\\b(?!\\\\)/i,\n\t\t\t\talias: 'class-name-fully-qualified',\n\t\t\t\tgreedy: true,\n\t\t\t\tlookbehind: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': /\\\\/\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tpattern: /\\b[a-z_]\\w*(?=\\s*\\$)/i,\n\t\t\t\talias: 'type-declaration',\n\t\t\t\tgreedy: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tpattern: /(?:\\\\?\\b[a-z_]\\w*)+(?=\\s*\\$)/i,\n\t\t\t\talias: ['class-name-fully-qualified', 'type-declaration'],\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': /\\\\/\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tpattern: /\\b[a-z_]\\w*(?=\\s*::)/i,\n\t\t\t\talias: 'static-context',\n\t\t\t\tgreedy: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tpattern: /(?:\\\\?\\b[a-z_]\\w*)+(?=\\s*::)/i,\n\t\t\t\talias: ['class-name-fully-qualified', 'static-context'],\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': /\\\\/\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tpattern: /([(,?]\\s*)[a-z_]\\w*(?=\\s*\\$)/i,\n\t\t\t\talias: 'type-hint',\n\t\t\t\tgreedy: true,\n\t\t\t\tlookbehind: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tpattern: /([(,?]\\s*)(?:\\\\?\\b[a-z_]\\w*)+(?=\\s*\\$)/i,\n\t\t\t\talias: ['class-name-fully-qualified', 'type-hint'],\n\t\t\t\tgreedy: true,\n\t\t\t\tlookbehind: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': /\\\\/\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tpattern: /(\\)\\s*:\\s*(?:\\?\\s*)?)\\b[a-z_]\\w*(?!\\\\)\\b/i,\n\t\t\t\talias: 'return-type',\n\t\t\t\tgreedy: true,\n\t\t\t\tlookbehind: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tpattern: /(\\)\\s*:\\s*(?:\\?\\s*)?)(?:\\\\?\\b[a-z_]\\w*)+\\b(?!\\\\)/i,\n\t\t\t\talias: ['class-name-fully-qualified', 'return-type'],\n\t\t\t\tgreedy: true,\n\t\t\t\tlookbehind: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': /\\\\/\n\t\t\t\t}\n\t\t\t}\n\t\t],\n\t\t'constant': constant,\n\t\t'function': {\n\t\t\tpattern: /(^|[^\\\\\\w])\\\\?[a-z_](?:[\\w\\\\]*\\w)?(?=\\s*\\()/i,\n\t\t\tlookbehind: true,\n\t\t\tinside: {\n\t\t\t\t'punctuation': /\\\\/\n\t\t\t}\n\t\t},\n\t\t'property': {\n\t\t\tpattern: /(->\\s*)\\w+/,\n\t\t\tlookbehind: true\n\t\t},\n\t\t'number': number,\n\t\t'operator': operator,\n\t\t'punctuation': punctuation\n\t};\n\n\tvar string_interpolation = {\n\t\tpattern: /\\{\\$(?:\\{(?:\\{[^{}]+\\}|[^{}]+)\\}|[^{}])+\\}|(^|[^\\\\{])\\$+(?:\\w+(?:\\[[^\\r\\n\\[\\]]+\\]|->\\w+)?)/,\n\t\tlookbehind: true,\n\t\tinside: Prism.languages.php\n\t};\n\n\tvar string = [\n\t\t{\n\t\t\tpattern: /<<<'([^']+)'[\\r\\n](?:.*[\\r\\n])*?\\1;/,\n\t\t\talias: 'nowdoc-string',\n\t\t\tgreedy: true,\n\t\t\tinside: {\n\t\t\t\t'delimiter': {\n\t\t\t\t\tpattern: /^<<<'[^']+'|[a-z_]\\w*;$/i,\n\t\t\t\t\talias: 'symbol',\n\t\t\t\t\tinside: {\n\t\t\t\t\t\t'punctuation': /^<<<'?|[';]$/\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\tpattern: /<<<(?:\"([^\"]+)\"[\\r\\n](?:.*[\\r\\n])*?\\1;|([a-z_]\\w*)[\\r\\n](?:.*[\\r\\n])*?\\2;)/i,\n\t\t\talias: 'heredoc-string',\n\t\t\tgreedy: true,\n\t\t\tinside: {\n\t\t\t\t'delimiter': {\n\t\t\t\t\tpattern: /^<<<(?:\"[^\"]+\"|[a-z_]\\w*)|[a-z_]\\w*;$/i,\n\t\t\t\t\talias: 'symbol',\n\t\t\t\t\tinside: {\n\t\t\t\t\t\t'punctuation': /^<<<\"?|[\";]$/\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t'interpolation': string_interpolation\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\tpattern: /`(?:\\\\[\\s\\S]|[^\\\\`])*`/,\n\t\t\talias: 'backtick-quoted-string',\n\t\t\tgreedy: true\n\t\t},\n\t\t{\n\t\t\tpattern: /'(?:\\\\[\\s\\S]|[^\\\\'])*'/,\n\t\t\talias: 'single-quoted-string',\n\t\t\tgreedy: true\n\t\t},\n\t\t{\n\t\t\tpattern: /\"(?:\\\\[\\s\\S]|[^\\\\\"])*\"/,\n\t\t\talias: 'double-quoted-string',\n\t\t\tgreedy: true,\n\t\t\tinside: {\n\t\t\t\t'interpolation': string_interpolation\n\t\t\t}\n\t\t}\n\t];\n\n\tPrism.languages.insertBefore('php', 'variable', {\n\t\t'string': string,\n\t\t'attribute': {\n\t\t\tpattern: /#\\[(?:[^\"'\\/#]|\\/(?![*/])|\\/\\/.*$|#(?!\\[).*$|\\/\\*(?:[^*]|\\*(?!\\/))*\\*\\/|\"(?:\\\\[\\s\\S]|[^\\\\\"])*\"|'(?:\\\\[\\s\\S]|[^\\\\'])*')+\\](?=\\s*[a-z$#])/im,\n\t\t\tgreedy: true,\n\t\t\tinside: {\n\t\t\t\t'attribute-content': {\n\t\t\t\t\tpattern: /^(#\\[)[\\s\\S]+(?=\\]$)/,\n\t\t\t\t\tlookbehind: true,\n\t\t\t\t\t// inside can appear subset of php\n\t\t\t\t\tinside: {\n\t\t\t\t\t\t'comment': comment,\n\t\t\t\t\t\t'string': string,\n\t\t\t\t\t\t'attribute-class-name': [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tpattern: /([^:]|^)\\b[a-z_]\\w*(?!\\\\)\\b/i,\n\t\t\t\t\t\t\t\talias: 'class-name',\n\t\t\t\t\t\t\t\tgreedy: true,\n\t\t\t\t\t\t\t\tlookbehind: true\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tpattern: /([^:]|^)(?:\\\\?\\b[a-z_]\\w*)+/i,\n\t\t\t\t\t\t\t\talias: [\n\t\t\t\t\t\t\t\t\t'class-name',\n\t\t\t\t\t\t\t\t\t'class-name-fully-qualified'\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\tgreedy: true,\n\t\t\t\t\t\t\t\tlookbehind: true,\n\t\t\t\t\t\t\t\tinside: {\n\t\t\t\t\t\t\t\t\t'punctuation': /\\\\/\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t],\n\t\t\t\t\t\t'constant': constant,\n\t\t\t\t\t\t'number': number,\n\t\t\t\t\t\t'operator': operator,\n\t\t\t\t\t\t'punctuation': punctuation\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t'delimiter': {\n\t\t\t\t\tpattern: /^#\\[|\\]$/,\n\t\t\t\t\talias: 'punctuation'\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t});\n\n\tPrism.hooks.add('before-tokenize', function (env) {\n\t\tif (!/<\\?/.test(env.code)) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar phpPattern = /<\\?(?:[^\"'/#]|\\/(?![*/])|(\"|')(?:\\\\[\\s\\S]|(?!\\1)[^\\\\])*\\1|(?:\\/\\/|#(?!\\[))(?:[^?\\n\\r]|\\?(?!>))*(?=$|\\?>|[\\r\\n])|#\\[|\\/\\*(?:[^*]|\\*(?!\\/))*(?:\\*\\/|$))*?(?:\\?>|$)/g;\n\t\tPrism.languages['markup-templating'].buildPlaceholders(env, 'php', phpPattern);\n\t});\n\n\tPrism.hooks.add('after-tokenize', function (env) {\n\t\tPrism.languages['markup-templating'].tokenizePlaceholders(env, 'php');\n\t});\n\n}(Prism));\n","(function (Prism) {\n\n\tvar string = /(?:\"(?:\\\\(?:\\r\\n|[\\s\\S])|[^\"\\\\\\r\\n])*\"|'(?:\\\\(?:\\r\\n|[\\s\\S])|[^'\\\\\\r\\n])*')/;\n\n\tPrism.languages.css = {\n\t\t'comment': /\\/\\*[\\s\\S]*?\\*\\//,\n\t\t'atrule': {\n\t\t\tpattern: RegExp('@[\\\\w-](?:' + /[^;{\\s\"']|\\s+(?!\\s)/.source + '|' + string.source + ')*?' + /(?:;|(?=\\s*\\{))/.source),\n\t\t\tinside: {\n\t\t\t\t'rule': /^@[\\w-]+/,\n\t\t\t\t'selector-function-argument': {\n\t\t\t\t\tpattern: /(\\bselector\\s*\\(\\s*(?![\\s)]))(?:[^()\\s]|\\s+(?![\\s)])|\\((?:[^()]|\\([^()]*\\))*\\))+(?=\\s*\\))/,\n\t\t\t\t\tlookbehind: true,\n\t\t\t\t\talias: 'selector'\n\t\t\t\t},\n\t\t\t\t'keyword': {\n\t\t\t\t\tpattern: /(^|[^\\w-])(?:and|not|only|or)(?![\\w-])/,\n\t\t\t\t\tlookbehind: true\n\t\t\t\t}\n\t\t\t\t// See rest below\n\t\t\t}\n\t\t},\n\t\t'url': {\n\t\t\t// https://drafts.csswg.org/css-values-3/#urls\n\t\t\tpattern: RegExp('\\\\burl\\\\((?:' + string.source + '|' + /(?:[^\\\\\\r\\n()\"']|\\\\[\\s\\S])*/.source + ')\\\\)', 'i'),\n\t\t\tgreedy: true,\n\t\t\tinside: {\n\t\t\t\t'function': /^url/i,\n\t\t\t\t'punctuation': /^\\(|\\)$/,\n\t\t\t\t'string': {\n\t\t\t\t\tpattern: RegExp('^' + string.source + '$'),\n\t\t\t\t\talias: 'url'\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t'selector': {\n\t\t\tpattern: RegExp('(^|[{}\\\\s])[^{}\\\\s](?:[^{};\"\\'\\\\s]|\\\\s+(?![\\\\s{])|' + string.source + ')*(?=\\\\s*\\\\{)'),\n\t\t\tlookbehind: true\n\t\t},\n\t\t'string': {\n\t\t\tpattern: string,\n\t\t\tgreedy: true\n\t\t},\n\t\t'property': {\n\t\t\tpattern: /(^|[^-\\w\\xA0-\\uFFFF])(?!\\s)[-_a-z\\xA0-\\uFFFF](?:(?!\\s)[-\\w\\xA0-\\uFFFF])*(?=\\s*:)/i,\n\t\t\tlookbehind: true\n\t\t},\n\t\t'important': /!important\\b/i,\n\t\t'function': {\n\t\t\tpattern: /(^|[^-a-z0-9])[-a-z0-9]+(?=\\()/i,\n\t\t\tlookbehind: true\n\t\t},\n\t\t'punctuation': /[(){};:,]/\n\t};\n\n\tPrism.languages.css['atrule'].inside.rest = Prism.languages.css;\n\n\tvar markup = Prism.languages.markup;\n\tif (markup) {\n\t\tmarkup.tag.addInlined('style', 'css');\n\t\tmarkup.tag.addAttribute('style', 'css');\n\t}\n\n}(Prism));\n","// https://www.json.org/json-en.html\nPrism.languages.json = {\n\t'property': {\n\t\tpattern: /(^|[^\\\\])\"(?:\\\\.|[^\\\\\"\\r\\n])*\"(?=\\s*:)/,\n\t\tlookbehind: true,\n\t\tgreedy: true\n\t},\n\t'string': {\n\t\tpattern: /(^|[^\\\\])\"(?:\\\\.|[^\\\\\"\\r\\n])*\"(?!\\s*:)/,\n\t\tlookbehind: true,\n\t\tgreedy: true\n\t},\n\t'comment': {\n\t\tpattern: /\\/\\/.*|\\/\\*[\\s\\S]*?(?:\\*\\/|$)/,\n\t\tgreedy: true\n\t},\n\t'number': /-?\\b\\d+(?:\\.\\d+)?(?:e[+-]?\\d+)?\\b/i,\n\t'punctuation': /[{}[\\],]/,\n\t'operator': /:/,\n\t'boolean': /\\b(?:false|true)\\b/,\n\t'null': {\n\t\tpattern: /\\bnull\\b/,\n\t\talias: 'keyword'\n\t}\n};\n\nPrism.languages.webmanifest = Prism.languages.json;\n","Prism.languages.sql = {\n\t'comment': {\n\t\tpattern: /(^|[^\\\\])(?:\\/\\*[\\s\\S]*?\\*\\/|(?:--|\\/\\/|#).*)/,\n\t\tlookbehind: true\n\t},\n\t'variable': [\n\t\t{\n\t\t\tpattern: /@([\"'`])(?:\\\\[\\s\\S]|(?!\\1)[^\\\\])+\\1/,\n\t\t\tgreedy: true\n\t\t},\n\t\t/@[\\w.$]+/\n\t],\n\t'string': {\n\t\tpattern: /(^|[^@\\\\])(\"|')(?:\\\\[\\s\\S]|(?!\\2)[^\\\\]|\\2\\2)*\\2/,\n\t\tgreedy: true,\n\t\tlookbehind: true\n\t},\n\t'identifier': {\n\t\tpattern: /(^|[^@\\\\])`(?:\\\\[\\s\\S]|[^`\\\\]|``)*`/,\n\t\tgreedy: true,\n\t\tlookbehind: true,\n\t\tinside: {\n\t\t\t'punctuation': /^`|`$/\n\t\t}\n\t},\n\t'function': /\\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\\s*\\()/i, // Should we highlight user defined functions too?\n\t'keyword': /\\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:COL|_INSERT)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:ING|S)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\\b/i,\n\t'boolean': /\\b(?:FALSE|NULL|TRUE)\\b/i,\n\t'number': /\\b0x[\\da-f]+\\b|\\b\\d+(?:\\.\\d*)?|\\B\\.\\d+\\b/i,\n\t'operator': /[-+*\\/=%^~]|&&?|\\|\\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\\b(?:AND|BETWEEN|DIV|ILIKE|IN|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\\b/i,\n\t'punctuation': /[;[\\]()`,.]/\n};\n","(function (Prism) {\n\t// $ set | grep '^[A-Z][^[:space:]]*=' | cut -d= -f1 | tr '\\n' '|'\n\t// + LC_ALL, RANDOM, REPLY, SECONDS.\n\t// + make sure PS1..4 are here as they are not always set,\n\t// - some useless things.\n\tvar envVars = '\\\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\\\b';\n\n\tvar commandAfterHeredoc = {\n\t\tpattern: /(^([\"']?)\\w+\\2)[ \\t]+\\S.*/,\n\t\tlookbehind: true,\n\t\talias: 'punctuation', // this looks reasonably well in all themes\n\t\tinside: null // see below\n\t};\n\n\tvar insideString = {\n\t\t'bash': commandAfterHeredoc,\n\t\t'environment': {\n\t\t\tpattern: RegExp('\\\\$' + envVars),\n\t\t\talias: 'constant'\n\t\t},\n\t\t'variable': [\n\t\t\t// [0]: Arithmetic Environment\n\t\t\t{\n\t\t\t\tpattern: /\\$?\\(\\([\\s\\S]+?\\)\\)/,\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: {\n\t\t\t\t\t// If there is a $ sign at the beginning highlight $(( and )) as variable\n\t\t\t\t\t'variable': [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpattern: /(^\\$\\(\\([\\s\\S]+)\\)\\)/,\n\t\t\t\t\t\t\tlookbehind: true\n\t\t\t\t\t\t},\n\t\t\t\t\t\t/^\\$\\(\\(/\n\t\t\t\t\t],\n\t\t\t\t\t'number': /\\b0x[\\dA-Fa-f]+\\b|(?:\\b\\d+(?:\\.\\d*)?|\\B\\.\\d+)(?:[Ee]-?\\d+)?/,\n\t\t\t\t\t// Operators according to https://www.gnu.org/software/bash/manual/bashref.html#Shell-Arithmetic\n\t\t\t\t\t'operator': /--|\\+\\+|\\*\\*=?|<<=?|>>=?|&&|\\|\\||[=!+\\-*/%<>^&|]=?|[?~:]/,\n\t\t\t\t\t// If there is no $ sign at the beginning highlight (( and )) as punctuation\n\t\t\t\t\t'punctuation': /\\(\\(?|\\)\\)?|,|;/\n\t\t\t\t}\n\t\t\t},\n\t\t\t// [1]: Command Substitution\n\t\t\t{\n\t\t\t\tpattern: /\\$\\((?:\\([^)]+\\)|[^()])+\\)|`[^`]+`/,\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'variable': /^\\$\\(|^`|\\)$|`$/\n\t\t\t\t}\n\t\t\t},\n\t\t\t// [2]: Brace expansion\n\t\t\t{\n\t\t\t\tpattern: /\\$\\{[^}]+\\}/,\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'operator': /:[-=?+]?|[!\\/]|##?|%%?|\\^\\^?|,,?/,\n\t\t\t\t\t'punctuation': /[\\[\\]]/,\n\t\t\t\t\t'environment': {\n\t\t\t\t\t\tpattern: RegExp('(\\\\{)' + envVars),\n\t\t\t\t\t\tlookbehind: true,\n\t\t\t\t\t\talias: 'constant'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t/\\$(?:\\w+|[#?*!@$])/\n\t\t],\n\t\t// Escape sequences from echo and printf's manuals, and escaped quotes.\n\t\t'entity': /\\\\(?:[abceEfnrtv\\\\\"]|O?[0-7]{1,3}|U[0-9a-fA-F]{8}|u[0-9a-fA-F]{4}|x[0-9a-fA-F]{1,2})/\n\t};\n\n\tPrism.languages.bash = {\n\t\t'shebang': {\n\t\t\tpattern: /^#!\\s*\\/.*/,\n\t\t\talias: 'important'\n\t\t},\n\t\t'comment': {\n\t\t\tpattern: /(^|[^\"{\\\\$])#.*/,\n\t\t\tlookbehind: true\n\t\t},\n\t\t'function-name': [\n\t\t\t// a) function foo {\n\t\t\t// b) foo() {\n\t\t\t// c) function foo() {\n\t\t\t// but not foo {\n\t\t\t{\n\t\t\t\t// a) and c)\n\t\t\t\tpattern: /(\\bfunction\\s+)[\\w-]+(?=(?:\\s*\\(?:\\s*\\))?\\s*\\{)/,\n\t\t\t\tlookbehind: true,\n\t\t\t\talias: 'function'\n\t\t\t},\n\t\t\t{\n\t\t\t\t// b)\n\t\t\t\tpattern: /\\b[\\w-]+(?=\\s*\\(\\s*\\)\\s*\\{)/,\n\t\t\t\talias: 'function'\n\t\t\t}\n\t\t],\n\t\t// Highlight variable names as variables in for and select beginnings.\n\t\t'for-or-select': {\n\t\t\tpattern: /(\\b(?:for|select)\\s+)\\w+(?=\\s+in\\s)/,\n\t\t\talias: 'variable',\n\t\t\tlookbehind: true\n\t\t},\n\t\t// Highlight variable names as variables in the left-hand part\n\t\t// of assignments (= and +=).\n\t\t'assign-left': {\n\t\t\tpattern: /(^|[\\s;|&]|[<>]\\()\\w+(?:\\.\\w+)*(?=\\+?=)/,\n\t\t\tinside: {\n\t\t\t\t'environment': {\n\t\t\t\t\tpattern: RegExp('(^|[\\\\s;|&]|[<>]\\\\()' + envVars),\n\t\t\t\t\tlookbehind: true,\n\t\t\t\t\talias: 'constant'\n\t\t\t\t}\n\t\t\t},\n\t\t\talias: 'variable',\n\t\t\tlookbehind: true\n\t\t},\n\t\t// Highlight parameter names as variables\n\t\t'parameter': {\n\t\t\tpattern: /(^|\\s)-{1,2}(?:\\w+:[+-]?)?\\w+(?:\\.\\w+)*(?=[=\\s]|$)/,\n\t\t\talias: 'variable',\n\t\t\tlookbehind: true\n\t\t},\n\t\t'string': [\n\t\t\t// Support for Here-documents https://en.wikipedia.org/wiki/Here_document\n\t\t\t{\n\t\t\t\tpattern: /((?:^|[^<])<<-?\\s*)(\\w+)\\s[\\s\\S]*?(?:\\r?\\n|\\r)\\2/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: insideString\n\t\t\t},\n\t\t\t// Here-document with quotes around the tag\n\t\t\t//  No expansion (so no inside).\n\t\t\t{\n\t\t\t\tpattern: /((?:^|[^<])<<-?\\s*)([\"'])(\\w+)\\2\\s[\\s\\S]*?(?:\\r?\\n|\\r)\\3/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'bash': commandAfterHeredoc\n\t\t\t\t}\n\t\t\t},\n\t\t\t// Normal string\n\t\t\t{\n\t\t\t\t// https://www.gnu.org/software/bash/manual/html_node/Double-Quotes.html\n\t\t\t\tpattern: /(^|[^\\\\](?:\\\\\\\\)*)\"(?:\\\\[\\s\\S]|\\$\\([^)]+\\)|\\$(?!\\()|`[^`]+`|[^\"\\\\`$])*\"/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: insideString\n\t\t\t},\n\t\t\t{\n\t\t\t\t// https://www.gnu.org/software/bash/manual/html_node/Single-Quotes.html\n\t\t\t\tpattern: /(^|[^$\\\\])'[^']*'/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tgreedy: true\n\t\t\t},\n\t\t\t{\n\t\t\t\t// https://www.gnu.org/software/bash/manual/html_node/ANSI_002dC-Quoting.html\n\t\t\t\tpattern: /\\$'(?:[^'\\\\]|\\\\[\\s\\S])*'/,\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'entity': insideString.entity\n\t\t\t\t}\n\t\t\t}\n\t\t],\n\t\t'environment': {\n\t\t\tpattern: RegExp('\\\\$?' + envVars),\n\t\t\talias: 'constant'\n\t\t},\n\t\t'variable': insideString.variable,\n\t\t'function': {\n\t\t\tpattern: /(^|[\\s;|&]|[<>]\\()(?:add|apropos|apt|apt-cache|apt-get|aptitude|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cargo|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|docker|docker-compose|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|java|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|node|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|podman|podman-compose|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|sysctl|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vcpkg|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\\s;|&])/,\n\t\t\tlookbehind: true\n\t\t},\n\t\t'keyword': {\n\t\t\tpattern: /(^|[\\s;|&]|[<>]\\()(?:case|do|done|elif|else|esac|fi|for|function|if|in|select|then|until|while)(?=$|[)\\s;|&])/,\n\t\t\tlookbehind: true\n\t\t},\n\t\t// https://www.gnu.org/software/bash/manual/html_node/Shell-Builtin-Commands.html\n\t\t'builtin': {\n\t\t\tpattern: /(^|[\\s;|&]|[<>]\\()(?:\\.|:|alias|bind|break|builtin|caller|cd|command|continue|declare|echo|enable|eval|exec|exit|export|getopts|hash|help|let|local|logout|mapfile|printf|pwd|read|readarray|readonly|return|set|shift|shopt|source|test|times|trap|type|typeset|ulimit|umask|unalias|unset)(?=$|[)\\s;|&])/,\n\t\t\tlookbehind: true,\n\t\t\t// Alias added to make those easier to distinguish from strings.\n\t\t\talias: 'class-name'\n\t\t},\n\t\t'boolean': {\n\t\t\tpattern: /(^|[\\s;|&]|[<>]\\()(?:false|true)(?=$|[)\\s;|&])/,\n\t\t\tlookbehind: true\n\t\t},\n\t\t'file-descriptor': {\n\t\t\tpattern: /\\B&\\d\\b/,\n\t\t\talias: 'important'\n\t\t},\n\t\t'operator': {\n\t\t\t// Lots of redirections here, but not just that.\n\t\t\tpattern: /\\d?<>|>\\||\\+=|=[=~]?|!=?|<<[<-]?|[&\\d]?>>|\\d[<>]&?|[<>][&=]?|&[>&]?|\\|[&|]?/,\n\t\t\tinside: {\n\t\t\t\t'file-descriptor': {\n\t\t\t\t\tpattern: /^\\d/,\n\t\t\t\t\talias: 'important'\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t'punctuation': /\\$?\\(\\(?|\\)\\)?|\\.\\.|[{}[\\];\\\\]/,\n\t\t'number': {\n\t\t\tpattern: /(^|\\s)(?:[1-9]\\d*|0)(?:[.,]\\d+)?\\b/,\n\t\t\tlookbehind: true\n\t\t}\n\t};\n\n\tcommandAfterHeredoc.inside = Prism.languages.bash;\n\n\t/* Patterns in command substitution. */\n\tvar toBeCopied = [\n\t\t'comment',\n\t\t'function-name',\n\t\t'for-or-select',\n\t\t'assign-left',\n\t\t'parameter',\n\t\t'string',\n\t\t'environment',\n\t\t'function',\n\t\t'keyword',\n\t\t'builtin',\n\t\t'boolean',\n\t\t'file-descriptor',\n\t\t'operator',\n\t\t'punctuation',\n\t\t'number'\n\t];\n\tvar inside = insideString.variable[1].inside;\n\tfor (var i = 0; i < toBeCopied.length; i++) {\n\t\tinside[toBeCopied[i]] = Prism.languages.bash[toBeCopied[i]];\n\t}\n\n\tPrism.languages.sh = Prism.languages.bash;\n\tPrism.languages.shell = Prism.languages.bash;\n}(Prism));\n","'use strict';\r\n\r\nimport Prism from 'prismjs';\r\n\r\n// Import core languages that are commonly available and stable\r\nimport 'prismjs/components/prism-markup'; // HTML - must be loaded before markup-templating\r\nimport 'prismjs/components/prism-markup-templating'; // Required for PHP\r\nimport 'prismjs/components/prism-javascript';\r\nimport 'prismjs/components/prism-typescript';\r\nimport 'prismjs/components/prism-python';\r\nimport 'prismjs/components/prism-java';\r\nimport 'prismjs/components/prism-csharp';\r\nimport 'prismjs/components/prism-php';\r\nimport 'prismjs/components/prism-css';\r\nimport 'prismjs/components/prism-json';\r\nimport 'prismjs/components/prism-sql';\r\nimport 'prismjs/components/prism-bash';\r\n\r\n/**\r\n * Syntax Highlighter utility using Prism.js\r\n */\r\nexport class SyntaxHighlighter {\r\n    \r\n    /**\r\n     * Available languages for syntax highlighting\r\n     */\r\n    static SUPPORTED_LANGUAGES = {\r\n        'javascript': { name: 'JavaScript', aliases: ['js'] },\r\n        'typescript': { name: 'TypeScript', aliases: ['ts'] },\r\n        'python': { name: 'Python', aliases: ['py'] },\r\n        'java': { name: 'Java', aliases: [] },\r\n        'csharp': { name: 'C#', aliases: ['cs'] },\r\n        'php': { name: 'PHP', aliases: [] },\r\n        'css': { name: 'CSS', aliases: [] },\r\n        'markup': { name: 'HTML', aliases: ['html'] },\r\n        'json': { name: 'JSON', aliases: [] },\r\n        'sql': { name: 'SQL', aliases: [] },\r\n        'bash': { name: 'Bash', aliases: ['sh', 'shell'] }\r\n    };\r\n\r\n    /**\r\n     * Normalize language name to Prism.js language key\r\n     * @param {string} language - Language name or alias\r\n     * @returns {string} - Normalized language key\r\n     */\r\n    static normalizeLanguage(language) {\r\n        if (!language) return '';\r\n        \r\n        const lang = language.toLowerCase();\r\n        \r\n        // Handle special cases\r\n        if (lang === 'html') return 'markup';\r\n        \r\n        // Check if it's already a supported language\r\n        if (this.SUPPORTED_LANGUAGES[lang]) {\r\n            return lang;\r\n        }\r\n        \r\n        // Check aliases\r\n        for (const [key, config] of Object.entries(this.SUPPORTED_LANGUAGES)) {\r\n            if (config.aliases.includes(lang)) {\r\n                return key;\r\n            }\r\n        }\r\n        \r\n        return '';\r\n    }\r\n\r\n    /**\r\n     * Check if a language is supported\r\n     * @param {string} language - Language to check\r\n     * @returns {boolean} - True if supported\r\n     */\r\n    static isLanguageSupported(language) {\r\n        return this.normalizeLanguage(language) !== '';\r\n    }\r\n\r\n    /**\r\n     * Highlight code using Prism.js\r\n     * @param {string} code - Code to highlight\r\n     * @param {string} language - Programming language\r\n     * @returns {string} - Highlighted HTML\r\n     */\r\n    static highlight(code, language = '') {\r\n        if (!code) return '';\r\n        \r\n        const normalizedLang = this.normalizeLanguage(language);\r\n        \r\n        if (!normalizedLang || !Prism.languages[normalizedLang]) {\r\n            // Return escaped plain text if language not supported\r\n            return this.escapeHtml(code);\r\n        }\r\n        \r\n        try {\r\n            return Prism.highlight(code, Prism.languages[normalizedLang], normalizedLang);\r\n        } catch (error) {\r\n            console.warn('Prism highlighting failed:', error);\r\n            return this.escapeHtml(code);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Escape HTML entities\r\n     * @param {string} text - Text to escape\r\n     * @returns {string} - Escaped text\r\n     */\r\n    static escapeHtml(text) {\r\n        const div = document.createElement('div');\r\n        div.textContent = text;\r\n        return div.innerHTML;\r\n    }\r\n\r\n    /**\r\n     * Get list of supported languages for UI\r\n     * @returns {Array} - Array of language objects\r\n     */\r\n    static getSupportedLanguages() {\r\n        return Object.entries(this.SUPPORTED_LANGUAGES).map(([key, config]) => ({\r\n            key,\r\n            name: config.name,\r\n            aliases: config.aliases\r\n        }));\r\n    }\r\n\r\n    /**\r\n     * Get language display name\r\n     * @param {string} language - Language key\r\n     * @returns {string} - Display name\r\n     */\r\n    static getLanguageDisplayName(language) {\r\n        const normalizedLang = this.normalizeLanguage(language);\r\n        return this.SUPPORTED_LANGUAGES[normalizedLang]?.name || language;\r\n    }\r\n}\r\n","'use strict';\r\n\r\nimport {BaseBlock} from \"@/blocks/BaseBlock\";\r\nimport {BlockType} from \"@/BlockType\";\r\nimport {Toolbar} from \"@/Toolbar\";\r\nimport {SyntaxHighlighter} from \"@/utils/syntaxHighlighter\";\r\n\r\n/**\r\n * Code block\r\n */\r\nexport class CodeBlock extends BaseBlock\r\n{\r\n    constructor(content = '', html = '', nested = false, language = '') {\r\n        super(BlockType.CODE, content, html, nested);\r\n        this._language = language;\r\n        this._highlighted = false; // Track if content is already highlighted\r\n    }\r\n\r\n    /**\r\n     * Get the language of this code block\r\n     * @returns {string} - Language identifier\r\n     */\r\n    get language() {\r\n        return this._language;\r\n    }\r\n\r\n    /**\r\n     * Set the language of this code block\r\n     * @param {string} language - Language identifier\r\n     */\r\n    set language(language) {\r\n        this._language = language;\r\n        this._highlighted = false; // Reset highlighting when language changes\r\n    }\r\n\r\n    /**\r\n     * Apply syntax highlighting to the content\r\n     * @returns {string} - Highlighted HTML content\r\n     */\r\n    highlightSyntax() {\r\n        if (!this._content) return '';\r\n        \r\n        const highlighted = SyntaxHighlighter.highlight(this._content, this._language);\r\n        this._highlighted = true;\r\n        return highlighted;\r\n    }\r\n\r\n    /**\r\n     * Handle key press for code blocks\r\n     * @param {KeyboardEvent} event\r\n     * @param {string} text - current text content of the block\r\n     * @returns {boolean} - true if key was handled, false otherwise\r\n     */\r\n    handleKeyPress(event, text) {\r\n        // Handle special formatting in code blocks\r\n        if (event.key === 'Tab') {\r\n            // Insert tab character instead of changing focus\r\n            event.preventDefault();\r\n            document.execCommand('insertText', false, '\\t');\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * Handle Enter key press for code blocks\r\n     * @param {KeyboardEvent} event\r\n     * @returns {boolean} - true if key was handled, false otherwise\r\n     */\r\n    handleEnterKey(event) {\r\n        // In code blocks, preserve indentation on new lines\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * Get markdown triggers for code blocks\r\n     * @returns {Array<string>} - Array of markdown triggers\r\n     */\r\n    static getMarkdownTriggers() {\r\n        return ['```', '~~~'];\r\n    }\r\n\r\n    /**\r\n     * Apply code block transformation via toolbar\r\n     * @returns {void}\r\n     */\r\n    applyTransformation() {\r\n        Toolbar.code();\r\n    }\r\n\r\n    /**\r\n     * Convert this code block to markdown\r\n     * @returns {string} - markdown representation\r\n     */\r\n    toMarkdown() {\r\n        const langSuffix = this._language ? this._language : '';\r\n        return `\\`\\`\\`${langSuffix}\\n${this._content}\\n\\`\\`\\``;\r\n    }\r\n\r\n    /**\r\n     * Convert this code block to HTML\r\n     * @returns {string} - HTML representation\r\n     */\r\n    toHtml() {\r\n        const highlighted = this.highlightSyntax();\r\n        \r\n        if (!this._language) {\r\n            return `<pre><code>${highlighted}</code></pre>`;\r\n        }\r\n        \r\n        const normalizedLang = SyntaxHighlighter.normalizeLanguage(this._language);\r\n        const classes = [normalizedLang, `language-${this._language}`].filter(Boolean).join(' ');\r\n        \r\n        return `<pre><code class=\"${classes}\">${highlighted}</code></pre>`;\r\n    }\r\n\r\n    /**\r\n     * Render this code block as an HTML element\r\n     * @returns {HTMLElement} - DOM element representation\r\n     */\r\n    renderToElement() {\r\n        let element = document.createElement('div');\r\n        element.classList.add('block');\r\n        element.classList.add('block-code');\r\n        element.setAttribute('data-block-type', this._type);\r\n        element.setAttribute('data-placeholder', 'Type \"/\" to insert block');\r\n        \r\n        // Create code container\r\n        const pre = document.createElement('pre');\r\n        const code = document.createElement('code');\r\n        \r\n        // Apply syntax highlighting\r\n        const highlighted = this.highlightSyntax();\r\n        code.innerHTML = highlighted;\r\n        \r\n        // Add language classes\r\n        if (this._language) {\r\n            const normalizedLang = SyntaxHighlighter.normalizeLanguage(this._language);\r\n            code.classList.add(normalizedLang);\r\n            code.classList.add(`language-${this._language}`);\r\n        }\r\n        \r\n        pre.appendChild(code);\r\n        \r\n        // Create language selector\r\n        const languageSelector = this.createLanguageSelector();\r\n        \r\n        element.appendChild(pre);\r\n        element.appendChild(languageSelector);\r\n        \r\n        return element;\r\n    }\r\n\r\n    /**\r\n     * Create language selector dropdown\r\n     * @returns {HTMLElement} - Language selector element\r\n     */\r\n    createLanguageSelector() {\r\n        const container = document.createElement('div');\r\n        container.classList.add('language-selector');\r\n        \r\n        const select = document.createElement('select');\r\n        select.setAttribute('title', 'Select programming language');\r\n        \r\n        // Add default option\r\n        const defaultOption = document.createElement('option');\r\n        defaultOption.value = '';\r\n        defaultOption.textContent = 'Plain text';\r\n        select.appendChild(defaultOption);\r\n        \r\n        // Add supported languages\r\n        const languages = SyntaxHighlighter.getSupportedLanguages();\r\n        languages.forEach(lang => {\r\n            const option = document.createElement('option');\r\n            option.value = lang.key;\r\n            option.textContent = lang.name;\r\n            if (lang.key === this._language) {\r\n                option.selected = true;\r\n            }\r\n            select.appendChild(option);\r\n        });\r\n        \r\n        // Handle language change\r\n        select.addEventListener('change', (e) => {\r\n            this.language = e.target.value;\r\n            this.refreshHighlighting();\r\n        });\r\n        \r\n        container.appendChild(select);\r\n        return container;\r\n    }\r\n\r\n    /**\r\n     * Refresh syntax highlighting after language change\r\n     */\r\n    refreshHighlighting() {\r\n        const element = document.querySelector(`[data-block-type=\"code\"]`);\r\n        if (element) {\r\n            const code = element.querySelector('code');\r\n            if (code) {\r\n                // Remove old language classes\r\n                code.className = '';\r\n                \r\n                // Apply new highlighting\r\n                const highlighted = this.highlightSyntax();\r\n                code.innerHTML = highlighted;\r\n                \r\n                // Add new language classes\r\n                if (this._language) {\r\n                    const normalizedLang = SyntaxHighlighter.normalizeLanguage(this._language);\r\n                    code.classList.add(normalizedLang);\r\n                    code.classList.add(`language-${this._language}`);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Check if this block type can parse the given HTML\r\n     * @param {string} htmlString - HTML to check\r\n     * @returns {boolean} - true if can parse, false otherwise\r\n     */\r\n    static canParseHtml(htmlString) {\r\n        if (!htmlString || typeof htmlString !== 'string') {\r\n            return false;\r\n        }\r\n        \r\n        // Only match block-level code elements starting with <pre>\r\n        // This excludes inline <code> elements which should not be treated as code blocks\r\n        return /^<pre[^>]*>/i.test(htmlString);\r\n    }\r\n\r\n    /**\r\n     * Parse HTML string to create a code block instance\r\n     * @param {string} htmlString - HTML to parse\r\n     * @returns {CodeBlock|null} - Block instance or null if can't parse\r\n     */\r\n    static parseFromHtml(htmlString) {\r\n        if (!htmlString || typeof htmlString !== 'string') {\r\n            return null;\r\n        }\r\n        \r\n        // Handle <pre><code>content</code></pre> pattern\r\n        let match = htmlString.match(/^<pre[^>]*><code([^>]*)>(.*?)<\\/code><\\/pre>/is);\r\n        if (match) {\r\n            const codeAttributes = match[1];\r\n            const content = match[2].trim();\r\n            \r\n            // Extract language from class attribute\r\n            let language = '';\r\n            const classMatch = codeAttributes.match(/class=\"([^\"]*?)\"/);\r\n            if (classMatch) {\r\n                // Look for language-* pattern or direct language name\r\n                const classes = classMatch[1].split(' ');\r\n                for (const cls of classes) {\r\n                    if (cls.startsWith('language-')) {\r\n                        language = cls.replace('language-', '');\r\n                        break;\r\n                    } else if (cls && !cls.includes('-') && cls !== 'hljs' && cls !== 'language') {\r\n                        // Likely a direct language class name\r\n                        language = cls;\r\n                    }\r\n                }\r\n            }\r\n            \r\n            return new CodeBlock(content, htmlString, false, language);\r\n        }\r\n\r\n        // Handle standalone <code>content</code> pattern\r\n        match = htmlString.match(/^<code([^>]*)>(.*?)<\\/code>/is);\r\n        if (match) {\r\n            const codeAttributes = match[1];\r\n            const content = match[2].trim();\r\n            \r\n            // Extract language from class attribute\r\n            let language = '';\r\n            const classMatch = codeAttributes.match(/class=\"([^\"]*?)\"/);\r\n            if (classMatch) {\r\n                const classes = classMatch[1].split(' ');\r\n                for (const cls of classes) {\r\n                    if (cls.startsWith('language-')) {\r\n                        language = cls.replace('language-', '');\r\n                        break;\r\n                    } else if (cls && !cls.includes('-') && cls !== 'hljs' && cls !== 'language') {\r\n                        language = cls;\r\n                    }\r\n                }\r\n            }\r\n            \r\n            return new CodeBlock(content, htmlString, false, language);\r\n        }\r\n\r\n        // Handle <pre>content</pre> pattern\r\n        match = htmlString.match(/^<pre([^>]*)>(.*?)<\\/pre>/is);\r\n        if (match) {\r\n            const preAttributes = match[1];\r\n            const content = match[2].trim();\r\n            \r\n            // Extract language from class attribute if present\r\n            let language = '';\r\n            const classMatch = preAttributes.match(/class=\"([^\"]*?)\"/);\r\n            if (classMatch) {\r\n                const classes = classMatch[1].split(' ');\r\n                for (const cls of classes) {\r\n                    if (cls.startsWith('language-')) {\r\n                        language = cls.replace('language-', '');\r\n                        break;\r\n                    } else if (cls && !cls.includes('-') && cls !== 'hljs' && cls !== 'language') {\r\n                        language = cls;\r\n                    }\r\n                }\r\n            }\r\n            \r\n            return new CodeBlock(content, htmlString, false, language);\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    /**\r\n     * Check if this block type can parse the given markdown\r\n     * @param {string} markdownString - Markdown to check\r\n     * @returns {boolean} - true if can parse, false otherwise\r\n     */\r\n    static canParseMarkdown(markdownString) {\r\n        if (!markdownString || typeof markdownString !== 'string') {\r\n            return false;\r\n        }\r\n        return /^```/.test(markdownString.trim()) || /^~~~/.test(markdownString.trim());\r\n    }\r\n\r\n    /**\r\n     * Parse markdown string to create a code block instance\r\n     * @param {string} markdownString - Markdown to parse\r\n     * @returns {CodeBlock|null} - Block instance or null if can't parse\r\n     */\r\n    static parseFromMarkdown(markdownString) {\r\n        if (!markdownString || typeof markdownString !== 'string') {\r\n            return null;\r\n        }\r\n        \r\n        const match = markdownString.trim().match(/^```([\\w]*)\\n?([\\s\\S]*?)\\n?```$|^~~~([\\w]*)\\n?([\\s\\S]*?)\\n?~~~$/);\r\n        if (!match) return null;\r\n\r\n        // Extract language and content\r\n        const language = match[1] || match[3] || '';\r\n        const content = match[2] || match[4] || '';\r\n        \r\n        // Generate highlighted HTML\r\n        const highlighted = SyntaxHighlighter.highlight(content, language);\r\n        const normalizedLang = SyntaxHighlighter.normalizeLanguage(language);\r\n        const classes = [normalizedLang, `language-${language}`].filter(Boolean).join(' ');\r\n        const html = `<pre><code class=\"${classes}\">${highlighted}</code></pre>`;\r\n        \r\n        return new CodeBlock(content, html, false, language);\r\n    }\r\n}\r\n","'use strict';\r\n\r\nimport {BaseBlock} from \"@/blocks/BaseBlock\";\r\nimport {BlockType} from \"@/BlockType\";\r\nimport {Toolbar} from \"@/Toolbar\";\r\n\r\n/**\r\n * Quote block\r\n */\r\nexport class QuoteBlock extends BaseBlock\r\n{\r\n    constructor(content = '', html = '', nested = false) {\r\n        super(BlockType.QUOTE, content, html, nested);\r\n    }\r\n\r\n    /**\r\n     * Handle key press for quote blocks\r\n     * @param {KeyboardEvent} event\r\n     * @param {string} text - current text content of the block\r\n     * @returns {boolean} - true if key was handled, false otherwise\r\n     */\r\n    handleKeyPress(event, text) {\r\n        // Quote blocks don't have special key handling\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * Handle Enter key press for quote blocks\r\n     * @param {KeyboardEvent} event\r\n     * @returns {boolean} - true if key was handled, false otherwise\r\n     */\r\n    handleEnterKey(event) {\r\n        // Continue quote on new line or end quote\r\n        return false;\r\n    }\r\n\r\n    static getMarkdownTriggers() {\r\n        return ['> '];\r\n    }\r\n\r\n    applyTransformation() {\r\n        Toolbar.quote();\r\n    }\r\n\r\n    /**\r\n     * Convert this quote block to markdown\r\n     * @returns {string} - markdown representation\r\n     */\r\n    toMarkdown() {\r\n        return `> ${this._content}`;\r\n    }\r\n\r\n    /**\r\n     * Convert this quote block to HTML\r\n     * @returns {string} - HTML representation\r\n     */\r\n    toHtml() {\r\n        return `<blockquote>${this._content}</blockquote>`;\r\n    }\r\n\r\n    /**\r\n     * Render this quote block as an HTML element\r\n     * @returns {HTMLElement} - DOM element representation\r\n     */\r\n    renderToElement() {\r\n        let element = document.createElement('div');\r\n        element.classList.add('block');\r\n        element.classList.add('block-quote');\r\n        element.setAttribute('data-block-type', this._type);\r\n        element.setAttribute('data-placeholder', 'Type \"/\" to insert block');\r\n        element.innerHTML = this._html || this._content || '';\r\n        return element;\r\n    }\r\n\r\n    /**\r\n     * Check if this block type can parse the given HTML\r\n     * @param {string} htmlString - HTML to check\r\n     * @returns {boolean} - true if can parse, false otherwise\r\n     */\r\n    static canParseHtml(htmlString) {\r\n        return /^<blockquote[^>]*>/i.test(htmlString);\r\n    }\r\n\r\n    /**\r\n     * Parse HTML string to create a quote block instance\r\n     * @param {string} htmlString - HTML to parse\r\n     * @returns {QuoteBlock|null} - Block instance or null if can't parse\r\n     */\r\n    static parseFromHtml(htmlString) {\r\n        const match = htmlString.match(/^<blockquote[^>]*>(.*?)<\\/blockquote>/i);\r\n        if (!match) return null;\r\n\r\n        const content = match[1].trim();\r\n        return new QuoteBlock(content, htmlString);\r\n    }\r\n\r\n    /**\r\n     * Check if this block type can parse the given markdown\r\n     * @param {string} markdownString - Markdown to check\r\n     * @returns {boolean} - true if can parse, false otherwise\r\n     */\r\n    static canParseMarkdown(markdownString) {\r\n        return /^>\\s/.test(markdownString.trim());\r\n    }\r\n\r\n    /**\r\n     * Parse markdown string to create a quote block instance\r\n     * @param {string} markdownString - Markdown to parse\r\n     * @returns {QuoteBlock|null} - Block instance or null if can't parse\r\n     */\r\n    static parseFromMarkdown(markdownString) {\r\n        const match = markdownString.trim().match(/^>\\s+(.*)$/);\r\n        if (!match) return null;\r\n\r\n        const content = match[1].trim();\r\n        const html = `<blockquote>${content}</blockquote>`;\r\n        return new QuoteBlock(content, html);\r\n    }\r\n}\r\n","'use strict';\r\n\r\nimport {BaseBlock} from \"@/blocks/BaseBlock\";\r\nimport {BlockType} from \"@/BlockType\";\r\nimport {Toolbar} from \"@/Toolbar\";\r\n\r\n/**\r\n * Delimiter block (horizontal rule)\r\n */\r\nexport class DelimiterBlock extends BaseBlock\r\n{\r\n    constructor(content = '', html = '', nested = false) {\r\n        super(BlockType.DELIMITER, content, html, nested);\r\n    }\r\n\r\n    /**\r\n     * Handle key press for delimiter blocks\r\n     * @param {KeyboardEvent} event\r\n     * @param {string} text - current text content of the block\r\n     * @returns {boolean} - true if key was handled, false otherwise\r\n     */\r\n    handleKeyPress(event, text) {\r\n        // Delimiters are typically not editable\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * Handle Enter key press for delimiter blocks\r\n     * @param {KeyboardEvent} event\r\n     * @returns {boolean} - true if key was handled, false otherwise\r\n     */\r\n    handleEnterKey(event) {\r\n        // Create new paragraph after delimiter\r\n        return false;\r\n    }\r\n\r\n    static getMarkdownTriggers() {\r\n        return ['---', '***', '___'];\r\n    }\r\n\r\n    applyTransformation() {\r\n        Toolbar.delimiter();\r\n    }\r\n\r\n    /**\r\n     * Render this delimiter block as an HTML element\r\n     * @returns {HTMLElement} - DOM element representation\r\n     */\r\n    renderToElement() {\r\n        let element = document.createElement('hr');\r\n        element.classList.add('block');\r\n        element.classList.add('block-delimiter');\r\n        element.setAttribute('data-block-type', 'delimiter');\r\n        element.contentEditable = false; // Delimiters are not editable\r\n        \r\n        return element;\r\n    }\r\n\r\n    /**\r\n     * Check if this block type can parse the given HTML\r\n     * @param {string} htmlString - HTML to check\r\n     * @returns {boolean} - true if can parse, false otherwise\r\n     */\r\n    static canParseHtml(htmlString) {\r\n        return /^<hr[^>]*\\/?>/i.test(htmlString);\r\n    }\r\n\r\n    /**\r\n     * Parse HTML string to create a delimiter block instance\r\n     * @param {string} htmlString - HTML to parse\r\n     * @returns {DelimiterBlock|null} - Block instance or null if can't parse\r\n     */\r\n    static parseFromHtml(htmlString) {\r\n        if (!this.canParseHtml(htmlString)) return null;\r\n        \r\n        return new DelimiterBlock('', htmlString);\r\n    }\r\n\r\n    /**\r\n     * Check if this block type can parse the given markdown\r\n     * @param {string} markdownString - Markdown to check\r\n     * @returns {boolean} - true if can parse, false otherwise\r\n     */\r\n    static canParseMarkdown(markdownString) {\r\n        const trimmed = markdownString.trim();\r\n        return /^---+$/.test(trimmed) || \r\n               /^\\*\\*\\*+$/.test(trimmed) || \r\n               /^___+$/.test(trimmed);\r\n    }\r\n\r\n    /**\r\n     * Parse markdown string to create a delimiter block instance\r\n     * @param {string} markdownString - Markdown to parse\r\n     * @returns {DelimiterBlock|null} - Block instance or null if can't parse\r\n     */\r\n    static parseFromMarkdown(markdownString) {\r\n        if (!this.canParseMarkdown(markdownString)) return null;\r\n        \r\n        return new DelimiterBlock(markdownString.trim());\r\n    }\r\n\r\n    /**\r\n     * Convert this delimiter block to markdown\r\n     * @returns {string} - markdown representation\r\n     */\r\n    toMarkdown() {\r\n        return '---';\r\n    }\r\n\r\n    /**\r\n     * Convert this delimiter block to HTML\r\n     * @returns {string} - HTML representation\r\n     */\r\n    toHtml() {\r\n        return '<hr>';\r\n    }\r\n}\r\n","'use strict';\r\n\r\nimport {BaseBlock} from \"@/blocks/BaseBlock\";\r\nimport {BlockType} from \"@/BlockType\";\r\nimport {Toolbar} from \"@/Toolbar\";\r\nimport {Editor} from \"@/Editor\";\r\n\r\n/**\r\n * Table block for markdown tables\r\n */\r\nexport class TableBlock extends BaseBlock\r\n{\r\n    constructor(content = '', html = '', nested = false) {\r\n        super(BlockType.TABLE, content, html, nested);\r\n        this._rows = [];\r\n        this._headers = [];\r\n        \r\n        // Parse content if provided\r\n        if (content) {\r\n            this.parseTableContent(content);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Parse table content from markdown format\r\n     * @param {string} content - Table content in markdown format\r\n     */\r\n    parseTableContent(content) {\r\n        const lines = content.split('\\n').map(line => line.trim()).filter(line => line);\r\n        \r\n        if (lines.length >= 2) {\r\n            // First line is headers\r\n            this._headers = lines[0].split('|').map(cell => cell.trim()).filter(cell => cell);\r\n            \r\n            // Skip separator line (second line with dashes)\r\n            // Remaining lines are data rows\r\n            this._rows = lines.slice(2).map(line => \r\n                line.split('|').map(cell => cell.trim()).filter(cell => cell)\r\n            );\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get table headers\r\n     * @returns {Array<string>} - Array of header names\r\n     */\r\n    get headers() {\r\n        return this._headers;\r\n    }\r\n\r\n    /**\r\n     * Set table headers\r\n     * @param {Array<string>} value - Array of header names\r\n     */\r\n    set headers(value) {\r\n        this._headers = value;\r\n    }\r\n\r\n    /**\r\n     * Get table rows\r\n     * @returns {Array<Array<string>>} - Array of row arrays\r\n     */\r\n    get rows() {\r\n        return this._rows;\r\n    }\r\n\r\n    /**\r\n     * Set table rows\r\n     * @param {Array<Array<string>>} value - Array of row arrays\r\n     */\r\n    set rows(value) {\r\n        this._rows = value;\r\n    }\r\n\r\n    /**\r\n     * Handle key press for table blocks\r\n     * @param {KeyboardEvent} event\r\n     * @param {string} text - current text content of the block\r\n     * @returns {boolean} - true if key was handled, false otherwise\r\n     */\r\n    handleKeyPress(event, text) {\r\n        // Handle Tab key for moving between cells\r\n        if (event.key === 'Tab') {\r\n            event.preventDefault();\r\n            this.moveToNextCell(event.shiftKey);\r\n            return true;\r\n        }\r\n        \r\n        // Handle Enter key for adding new rows\r\n        if (event.key === 'Enter' && !event.shiftKey) {\r\n            event.preventDefault();\r\n            this.addNewRow();\r\n            return true;\r\n        }\r\n        \r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * Handle Enter key press for table blocks\r\n     * @param {KeyboardEvent} event\r\n     * @returns {boolean} - true if key was handled, false otherwise\r\n     */\r\n    handleEnterKey(event) {\r\n        // Add new row when Enter is pressed in a table\r\n        event.preventDefault();\r\n        this.addNewRow();\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Move focus to next/previous cell\r\n     * @param {boolean} backwards - true to move backwards (Shift+Tab)\r\n     */\r\n    moveToNextCell(backwards = false) {\r\n        const currentBlock = Editor.currentBlock;\r\n        if (!currentBlock) return;\r\n        \r\n        const table = currentBlock.closest('table') || currentBlock.querySelector('table');\r\n        if (!table) return;\r\n        \r\n        const cells = table.querySelectorAll('td, th');\r\n        const currentCell = document.activeElement.closest('td, th');\r\n        \r\n        if (currentCell) {\r\n            const currentIndex = Array.from(cells).indexOf(currentCell);\r\n            let nextIndex = backwards ? currentIndex - 1 : currentIndex + 1;\r\n            \r\n            if (nextIndex >= 0 && nextIndex < cells.length) {\r\n                cells[nextIndex].focus();\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Add a new row to the table\r\n     */\r\n    addNewRow() {\r\n        const currentBlock = Editor.currentBlock;\r\n        if (!currentBlock) return;\r\n        \r\n        const table = currentBlock.querySelector('table');\r\n        if (!table) return;\r\n        \r\n        const tbody = table.querySelector('tbody');\r\n        if (!tbody) return;\r\n        \r\n        // Create new row with same number of columns as headers\r\n        const newRow = document.createElement('tr');\r\n        for (let i = 0; i < this._headers.length; i++) {\r\n            const cell = document.createElement('td');\r\n            cell.contentEditable = true;\r\n            cell.style.border = '1px solid #ddd';\r\n            cell.style.padding = '8px';\r\n            cell.tabIndex = 0;\r\n            newRow.appendChild(cell);\r\n            \r\n            // Add event listeners to new cell\r\n            this.addCellEventListeners(cell);\r\n        }\r\n        \r\n        tbody.appendChild(newRow);\r\n        \r\n        // Focus on first cell of new row\r\n        const firstCell = newRow.querySelector('td');\r\n        if (firstCell) {\r\n            firstCell.focus();\r\n        }\r\n        \r\n        // Update internal data structure\r\n        this._rows.push(new Array(this._headers.length).fill(''));\r\n        \r\n        Editor.update();\r\n    }\r\n\r\n    /**\r\n     * Get markdown triggers for table creation\r\n     * @returns {Array<string>} - Array of trigger strings\r\n     */\r\n    static getMarkdownTriggers() {\r\n        return ['| ', '|--', '|:--'];\r\n    }\r\n\r\n    /**\r\n     * Apply table transformation\r\n     */\r\n    applyTransformation() {\r\n        const currentBlock = Editor.currentBlock;\r\n        if (!currentBlock) return;\r\n        \r\n        // Create a basic 2x3 table (header + 2 rows, 3 columns)\r\n        this._headers = ['Column 1', 'Column 2', 'Column 3'];\r\n        this._rows = [\r\n            ['Row 1 Col 1', 'Row 1 Col 2', 'Row 1 Col 3'],\r\n            ['Row 2 Col 1', 'Row 2 Col 2', 'Row 2 Col 3']\r\n        ];\r\n        \r\n        currentBlock.setAttribute('data-block-type', 'table');\r\n        currentBlock.innerHTML = this.generateTableHTML();\r\n        \r\n        // Ensure cells are properly editable\r\n        this.setupCellEditing(currentBlock);\r\n        \r\n        Editor.setCurrentBlock(currentBlock);\r\n        Editor.update();\r\n    }\r\n\r\n    /**\r\n     * Set up cell editing for the table\r\n     * @param {HTMLElement} tableBlock - the table block element\r\n     */\r\n    setupCellEditing(tableBlock) {\r\n        const table = tableBlock.querySelector('table');\r\n        if (!table) return;\r\n        \r\n        // Ensure all cells are properly set up for editing\r\n        const cells = table.querySelectorAll('td, th');\r\n        cells.forEach(cell => {\r\n            // Ensure contentEditable is set\r\n            cell.contentEditable = true;\r\n            \r\n            // Add tabindex to make cells focusable\r\n            cell.tabIndex = 0;\r\n            \r\n            // Add event listeners\r\n            this.addCellEventListeners(cell);\r\n        });\r\n        \r\n        // Focus on first cell if it exists\r\n        const firstCell = table.querySelector('td, th');\r\n        if (firstCell) {\r\n            setTimeout(() => {\r\n                firstCell.focus();\r\n            }, 100);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Add event listeners to a table cell\r\n     * @param {HTMLElement} cell - The cell element\r\n     */\r\n    addCellEventListeners(cell) {\r\n        // Remove any existing event listeners to avoid duplicates\r\n        cell.removeEventListener('focus', this.handleCellFocus);\r\n        cell.removeEventListener('blur', this.handleCellBlur);\r\n        cell.removeEventListener('input', this.handleCellInput);\r\n        \r\n        // Add event listeners\r\n        cell.addEventListener('focus', this.handleCellFocus.bind(this));\r\n        cell.addEventListener('blur', this.handleCellBlur.bind(this));\r\n        cell.addEventListener('input', this.handleCellInput.bind(this));\r\n    }\r\n\r\n    /**\r\n     * Handle cell focus events\r\n     * @param {Event} event\r\n     */\r\n    handleCellFocus(event) {\r\n        const cell = event.target;\r\n        cell.style.outline = '2px solid #007cba';\r\n        cell.style.backgroundColor = '#f0f8ff';\r\n        \r\n        // Show table controls when any cell is focused\r\n        this.showTableControls(cell);\r\n    }\r\n\r\n    /**\r\n     * Handle cell blur events\r\n     * @param {Event} event\r\n     */\r\n    handleCellBlur(event) {\r\n        const cell = event.target;\r\n        cell.style.outline = '';\r\n        cell.style.backgroundColor = '';\r\n        \r\n        // Update internal data structure when cell loses focus\r\n        this.updateDataFromDOM();\r\n        \r\n        // Hide table controls after a short delay (to allow clicking on controls)\r\n        setTimeout(() => {\r\n            this.hideTableControls();\r\n        }, 200);\r\n    }\r\n\r\n    /**\r\n     * Handle cell input events\r\n     * @param {Event} event\r\n     */\r\n    handleCellInput(event) {\r\n        // Update internal data structure as user types\r\n        this.updateDataFromDOM();\r\n        Editor.update();\r\n    }\r\n\r\n    /**\r\n     * Update internal data structure from current DOM state\r\n     */\r\n    updateDataFromDOM() {\r\n        const currentBlock = Editor.currentBlock;\r\n        if (!currentBlock) return;\r\n        \r\n        const table = currentBlock.querySelector('table');\r\n        if (!table) return;\r\n        \r\n        // Update headers\r\n        const headerCells = table.querySelectorAll('th');\r\n        this._headers = Array.from(headerCells).map(cell => cell.textContent || '');\r\n        \r\n        // Update rows\r\n        const rows = table.querySelectorAll('tbody tr');\r\n        this._rows = Array.from(rows).map(row => {\r\n            const cells = row.querySelectorAll('td');\r\n            return Array.from(cells).map(cell => cell.textContent || '');\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Generate HTML table structure\r\n     * @returns {string} - HTML table string\r\n     */\r\n    generateTableHTML() {\r\n        let html = '<table style=\"border-collapse: collapse; width: 100%;\">';\r\n        \r\n        // Add header\r\n        if (this._headers.length > 0) {\r\n            html += '<thead><tr>';\r\n            this._headers.forEach(header => {\r\n                html += `<th contenteditable=\"true\" style=\"border: 1px solid #ddd; padding: 8px; background: #f5f5f5;\">${header}</th>`;\r\n            });\r\n            html += '</tr></thead>';\r\n        }\r\n        \r\n        // Add rows\r\n        if (this._rows.length > 0) {\r\n            html += '<tbody>';\r\n            this._rows.forEach(row => {\r\n                html += '<tr>';\r\n                row.forEach(cell => {\r\n                    html += `<td contenteditable=\"true\" style=\"border: 1px solid #ddd; padding: 8px;\">${cell}</td>`;\r\n                });\r\n                html += '</tr>';\r\n            });\r\n            html += '</tbody>';\r\n        }\r\n        \r\n        html += '</table>';\r\n        return html;\r\n    }\r\n\r\n    /**\r\n     * Show table control buttons around the focused table\r\n     * @param {HTMLElement} cell - The focused cell\r\n     */\r\n    showTableControls(cell) {\r\n        // Remove any existing control panel\r\n        this.hideTableControls();\r\n        \r\n        const tableBlock = cell.closest('[data-block-type=\"table\"]');\r\n        if (!tableBlock) return;\r\n        \r\n        const table = tableBlock.querySelector('table');\r\n        if (!table) return;\r\n        \r\n        // Create main container for all controls\r\n        const controlsContainer = document.createElement('div');\r\n        controlsContainer.className = 'table-controls-container';\r\n        controlsContainer.style.cssText = `\r\n            position: absolute;\r\n            top: 0;\r\n            left: 0;\r\n            right: 0;\r\n            bottom: 0;\r\n            pointer-events: none;\r\n            z-index: 1000;\r\n        `;\r\n        \r\n        // Create top-left corner control (add column/row controls)\r\n        const topLeftControl = document.createElement('div');\r\n        topLeftControl.className = 'table-control-topleft';\r\n        topLeftControl.style.cssText = `\r\n            position: absolute;\r\n            top: -35px;\r\n            left: -35px;\r\n            width: 30px;\r\n            height: 30px;\r\n            background: white;\r\n            border: 2px solid #ddd;\r\n            border-radius: 4px;\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: center;\r\n            cursor: pointer;\r\n            pointer-events: auto;\r\n            box-shadow: 0 2px 4px rgba(0,0,0,0.1);\r\n        `;\r\n        topLeftControl.innerHTML = '';\r\n        topLeftControl.title = 'Table Controls';\r\n        \r\n        // Create right edge control (add column)\r\n        const rightControl = document.createElement('div');\r\n        rightControl.className = 'table-control-right';\r\n        rightControl.style.cssText = `\r\n            position: absolute;\r\n            top: 50%;\r\n            right: -20px;\r\n            transform: translateY(-50%);\r\n            width: 16px;\r\n            height: 30px;\r\n            background: #4285f4;\r\n            border-radius: 8px;\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: center;\r\n            cursor: pointer;\r\n            pointer-events: auto;\r\n            color: white;\r\n            font-weight: bold;\r\n            font-size: 14px;\r\n        `;\r\n        rightControl.innerHTML = '+';\r\n        rightControl.title = 'Add Column';\r\n        \r\n        // Create bottom edge control (add row)\r\n        const bottomControl = document.createElement('div');\r\n        bottomControl.className = 'table-control-bottom';\r\n        bottomControl.style.cssText = `\r\n            position: absolute;\r\n            bottom: -20px;\r\n            left: 50%;\r\n            transform: translateX(-50%);\r\n            width: 30px;\r\n            height: 16px;\r\n            background: #4285f4;\r\n            border-radius: 8px;\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: center;\r\n            cursor: pointer;\r\n            pointer-events: auto;\r\n            color: white;\r\n            font-weight: bold;\r\n            font-size: 14px;\r\n        `;\r\n        bottomControl.innerHTML = '+';\r\n        bottomControl.title = 'Add Row';\r\n        \r\n        // Add event listeners\r\n        rightControl.addEventListener('click', (e) => {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            this.addColumn();\r\n        });\r\n        \r\n        bottomControl.addEventListener('click', (e) => {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            this.addNewRow();\r\n        });\r\n        \r\n        // Create dropdown menu for top-left control\r\n        topLeftControl.addEventListener('click', (e) => {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            this.showTableMenu(topLeftControl);\r\n        });\r\n        \r\n        // Add hover effects\r\n        [rightControl, bottomControl].forEach(control => {\r\n            control.addEventListener('mouseenter', () => {\r\n                control.style.background = '#3367d6';\r\n            });\r\n            control.addEventListener('mouseleave', () => {\r\n                control.style.background = '#4285f4';\r\n            });\r\n        });\r\n        \r\n        topLeftControl.addEventListener('mouseenter', () => {\r\n            topLeftControl.style.background = '#f0f0f0';\r\n        });\r\n        topLeftControl.addEventListener('mouseleave', () => {\r\n            topLeftControl.style.background = 'white';\r\n        });\r\n        \r\n        // Append controls to container\r\n        controlsContainer.appendChild(topLeftControl);\r\n        controlsContainer.appendChild(rightControl);\r\n        controlsContainer.appendChild(bottomControl);\r\n        \r\n        // Add to table block with relative positioning\r\n        tableBlock.style.position = 'relative';\r\n        tableBlock.appendChild(controlsContainer);\r\n        \r\n        // Store reference for cleanup\r\n        this._controlsContainer = controlsContainer;\r\n    }\r\n\r\n    /**\r\n     * Show table menu with all available actions\r\n     * @param {HTMLElement} triggerElement - The element that triggered the menu\r\n     */\r\n    showTableMenu(triggerElement) {\r\n        // Remove any existing menu\r\n        this.hideTableMenu();\r\n        \r\n        const menu = document.createElement('div');\r\n        menu.className = 'table-menu';\r\n        menu.style.cssText = `\r\n            position: absolute;\r\n            top: 35px;\r\n            left: 0;\r\n            background: white;\r\n            border: 1px solid #ddd;\r\n            border-radius: 4px;\r\n            box-shadow: 0 4px 12px rgba(0,0,0,0.15);\r\n            z-index: 1001;\r\n            min-width: 150px;\r\n            pointer-events: auto;\r\n        `;\r\n        \r\n        const menuItems = [\r\n            {\r\n                label: 'Add Row Above',\r\n                action: () => this.addRowAbove()\r\n            },\r\n            {\r\n                label: 'Add Row Below', \r\n                action: () => this.addNewRow()\r\n            },\r\n            {\r\n                label: 'Add Column Left',\r\n                action: () => this.addColumnLeft()\r\n            },\r\n            {\r\n                label: 'Add Column Right',\r\n                action: () => this.addColumn()\r\n            },\r\n            { divider: true },\r\n            {\r\n                label: 'Remove Row',\r\n                action: () => this.removeRow()\r\n            },\r\n            {\r\n                label: 'Remove Column',\r\n                action: () => this.removeColumn()\r\n            },\r\n            { divider: true },\r\n            {\r\n                label: 'Delete Table',\r\n                action: () => this.deleteTable(),\r\n                className: 'danger'\r\n            }\r\n        ];\r\n        \r\n        menuItems.forEach(item => {\r\n            if (item.divider) {\r\n                const divider = document.createElement('div');\r\n                divider.style.cssText = `\r\n                    height: 1px;\r\n                    background: #eee;\r\n                    margin: 4px 0;\r\n                `;\r\n                menu.appendChild(divider);\r\n            } else {\r\n                const menuItem = document.createElement('div');\r\n                menuItem.className = 'table-menu-item';\r\n                menuItem.textContent = item.label;\r\n                menuItem.style.cssText = `\r\n                    padding: 8px 12px;\r\n                    cursor: pointer;\r\n                    font-size: 13px;\r\n                    border-radius: 2px;\r\n                    ${item.className === 'danger' ? 'color: #dc3545;' : ''}\r\n                `;\r\n                \r\n                menuItem.addEventListener('mouseenter', () => {\r\n                    menuItem.style.background = item.className === 'danger' ? '#fff5f5' : '#f0f0f0';\r\n                });\r\n                \r\n                menuItem.addEventListener('mouseleave', () => {\r\n                    menuItem.style.background = 'white';\r\n                });\r\n                \r\n                menuItem.addEventListener('click', (e) => {\r\n                    e.preventDefault();\r\n                    e.stopPropagation();\r\n                    item.action();\r\n                    this.hideTableMenu();\r\n                });\r\n                \r\n                menu.appendChild(menuItem);\r\n            }\r\n        });\r\n        \r\n        triggerElement.appendChild(menu);\r\n        this._tableMenu = menu;\r\n        \r\n        // Close menu when clicking outside\r\n        setTimeout(() => {\r\n            document.addEventListener('click', this.handleClickOutsideMenu.bind(this));\r\n        }, 100);\r\n    }\r\n\r\n    /**\r\n     * Hide table menu\r\n     */\r\n    hideTableMenu() {\r\n        if (this._tableMenu) {\r\n            this._tableMenu.remove();\r\n            this._tableMenu = null;\r\n        }\r\n        document.removeEventListener('click', this.handleClickOutsideMenu);\r\n    }\r\n\r\n    /**\r\n     * Handle clicks outside the menu to close it\r\n     * @param {Event} event\r\n     */\r\n    handleClickOutsideMenu(event) {\r\n        if (this._tableMenu && !this._tableMenu.contains(event.target)) {\r\n            this.hideTableMenu();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Hide table control buttons\r\n     */\r\n    hideTableControls() {\r\n        if (this._controlsContainer) {\r\n            this._controlsContainer.remove();\r\n            this._controlsContainer = null;\r\n        }\r\n        \r\n        this.hideTableMenu();\r\n        \r\n        // Also remove any orphaned control containers\r\n        document.querySelectorAll('.table-controls-container').forEach(container => {\r\n            container.remove();\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Add a new column to the table\r\n     */\r\n    addColumn() {\r\n        const currentBlock = Editor.currentBlock;\r\n        if (!currentBlock) return;\r\n        \r\n        const table = currentBlock.querySelector('table');\r\n        if (!table) return;\r\n        \r\n        // Get current table structure\r\n        const headerRow = table.querySelector('thead tr');\r\n        const bodyRows = table.querySelectorAll('tbody tr');\r\n        \r\n        // Add header for new column\r\n        if (headerRow) {\r\n            const newHeader = document.createElement('th');\r\n            newHeader.contentEditable = true;\r\n            newHeader.style.border = '1px solid #ddd';\r\n            newHeader.style.padding = '8px';\r\n            newHeader.style.background = '#f5f5f5';\r\n            newHeader.tabIndex = 0;\r\n            const columnCount = headerRow.children.length;\r\n            newHeader.textContent = `Column ${columnCount + 1}`;\r\n            headerRow.appendChild(newHeader);\r\n            \r\n            // Add event listeners to new header\r\n            this.addCellEventListeners(newHeader);\r\n        }\r\n        \r\n        // Add cells to all existing rows\r\n        bodyRows.forEach(row => {\r\n            const newCell = document.createElement('td');\r\n            newCell.contentEditable = true;\r\n            newCell.style.border = '1px solid #ddd';\r\n            newCell.style.padding = '8px';\r\n            newCell.tabIndex = 0;\r\n            newCell.textContent = '';\r\n            row.appendChild(newCell);\r\n            \r\n            // Add event listeners to new cell\r\n            this.addCellEventListeners(newCell);\r\n        });\r\n        \r\n        // Update internal data structure\r\n        this._headers.push(`Column ${this._headers.length + 1}`);\r\n        this._rows.forEach(row => row.push(''));\r\n        \r\n        Editor.update();\r\n    }\r\n\r\n    /**\r\n     * Remove the last column from the table\r\n     */\r\n    removeColumn() {\r\n        const currentBlock = Editor.currentBlock;\r\n        if (!currentBlock) return;\r\n        \r\n        const table = currentBlock.querySelector('table');\r\n        if (!table) return;\r\n        \r\n        const headerRow = table.querySelector('thead tr');\r\n        const bodyRows = table.querySelectorAll('tbody tr');\r\n        \r\n        // Don't remove if only one column left\r\n        if (headerRow && headerRow.children.length <= 1) return;\r\n        \r\n        // Remove header\r\n        if (headerRow) {\r\n            const lastHeader = headerRow.lastElementChild;\r\n            if (lastHeader) lastHeader.remove();\r\n        }\r\n        \r\n        // Remove cells from all rows\r\n        bodyRows.forEach(row => {\r\n            const lastCell = row.lastElementChild;\r\n            if (lastCell) lastCell.remove();\r\n        });\r\n        \r\n        // Update internal data structure\r\n        this._headers.pop();\r\n        this._rows.forEach(row => row.pop());\r\n        \r\n        Editor.update();\r\n    }\r\n\r\n    /**\r\n     * Add a new column to the left of the table\r\n     */\r\n    addColumnLeft() {\r\n        const currentBlock = Editor.currentBlock;\r\n        if (!currentBlock) return;\r\n        \r\n        const table = currentBlock.querySelector('table');\r\n        if (!table) return;\r\n        \r\n        // Get current table structure\r\n        const headerRow = table.querySelector('thead tr');\r\n        const bodyRows = table.querySelectorAll('tbody tr');\r\n        \r\n        // Add header for new column at the beginning\r\n        if (headerRow) {\r\n            const newHeader = document.createElement('th');\r\n            newHeader.contentEditable = true;\r\n            newHeader.style.border = '1px solid #ddd';\r\n            newHeader.style.padding = '8px';\r\n            newHeader.style.background = '#f5f5f5';\r\n            newHeader.tabIndex = 0;\r\n            newHeader.textContent = 'New Column';\r\n            headerRow.insertBefore(newHeader, headerRow.firstChild);\r\n            \r\n            // Add event listeners to new header\r\n            this.addCellEventListeners(newHeader);\r\n        }\r\n        \r\n        // Add cells to all existing rows at the beginning\r\n        bodyRows.forEach(row => {\r\n            const newCell = document.createElement('td');\r\n            newCell.contentEditable = true;\r\n            newCell.style.border = '1px solid #ddd';\r\n            newCell.style.padding = '8px';\r\n            newCell.tabIndex = 0;\r\n            newCell.textContent = '';\r\n            row.insertBefore(newCell, row.firstChild);\r\n            \r\n            // Add event listeners to new cell\r\n            this.addCellEventListeners(newCell);\r\n        });\r\n        \r\n        // Update internal data structure\r\n        this._headers.unshift('New Column');\r\n        this._rows.forEach(row => row.unshift(''));\r\n        \r\n        Editor.update();\r\n    }\r\n\r\n    /**\r\n     * Add a new row above the current row\r\n     */\r\n    addRowAbove() {\r\n        const currentBlock = Editor.currentBlock;\r\n        if (!currentBlock) return;\r\n        \r\n        const table = currentBlock.querySelector('table');\r\n        if (!table) return;\r\n        \r\n        const tbody = table.querySelector('tbody');\r\n        if (!tbody) return;\r\n        \r\n        // Create new row with same number of columns as headers\r\n        const newRow = document.createElement('tr');\r\n        for (let i = 0; i < this._headers.length; i++) {\r\n            const cell = document.createElement('td');\r\n            cell.contentEditable = true;\r\n            cell.style.border = '1px solid #ddd';\r\n            cell.style.padding = '8px';\r\n            cell.tabIndex = 0;\r\n            cell.textContent = '';\r\n            newRow.appendChild(cell);\r\n            \r\n            // Add event listeners to new cell\r\n            this.addCellEventListeners(cell);\r\n        }\r\n        \r\n        // Insert at the beginning of tbody\r\n        tbody.insertBefore(newRow, tbody.firstChild);\r\n        \r\n        // Focus on first cell of new row\r\n        const firstCell = newRow.querySelector('td');\r\n        if (firstCell) {\r\n            firstCell.focus();\r\n        }\r\n        \r\n        // Update internal data structure\r\n        this._rows.unshift(new Array(this._headers.length).fill(''));\r\n        \r\n        Editor.update();\r\n    }\r\n\r\n    /**\r\n     * Delete the entire table\r\n     */\r\n    deleteTable() {\r\n        const currentBlock = Editor.currentBlock;\r\n        if (!currentBlock) return;\r\n        \r\n        // Confirm deletion\r\n        if (confirm('Are you sure you want to delete this table?')) {\r\n            // Hide controls first\r\n            this.hideTableControls();\r\n            \r\n            // Replace with empty paragraph block\r\n            currentBlock.setAttribute('data-block-type', 'paragraph');\r\n            currentBlock.className = 'block block-p';\r\n            currentBlock.innerHTML = '<p><br></p>';\r\n            currentBlock.contentEditable = true;\r\n            \r\n            // Focus the new paragraph\r\n            currentBlock.focus();\r\n            \r\n            Editor.update();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Remove the last row from the table\r\n     */\r\n    removeRow() {\r\n        const currentBlock = Editor.currentBlock;\r\n        if (!currentBlock) return;\r\n        \r\n        const table = currentBlock.querySelector('table');\r\n        if (!table) return;\r\n        \r\n        const tbody = table.querySelector('tbody');\r\n        \r\n        if (tbody) {\r\n            // Don't remove if only one row left\r\n            if (tbody.children.length <= 1) return;\r\n            \r\n            // Remove last row\r\n            const lastRow = tbody.lastElementChild;\r\n            if (lastRow) lastRow.remove();\r\n            \r\n            // Update internal data structure\r\n            this._rows.pop();\r\n            \r\n            Editor.update();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Convert this table block to markdown\r\n     * @returns {string} - markdown representation\r\n     */\r\n    toMarkdown() {\r\n        if (!this._headers.length) return '';\r\n        \r\n        let markdown = '| ' + this._headers.join(' | ') + ' |\\n';\r\n        markdown += '| ' + this._headers.map(() => '---').join(' | ') + ' |\\n';\r\n        \r\n        this._rows.forEach(row => {\r\n            markdown += '| ' + row.join(' | ') + ' |\\n';\r\n        });\r\n        \r\n        return markdown;\r\n    }\r\n\r\n    /**\r\n     * Convert this table block to HTML\r\n     * @returns {string} - HTML representation\r\n     */\r\n    toHtml() {\r\n        return this.generateTableHTML();\r\n    }\r\n\r\n    /**\r\n     * Get disabled toolbar buttons for table blocks\r\n     * @returns {Array<string>} - Array of disabled button classes\r\n     */\r\n    static getDisabledButtons() {\r\n        return ['editor-toolbar-bold', 'editor-toolbar-italic', 'editor-toolbar-ul', 'editor-toolbar-ol'];\r\n    }\r\n\r\n    /**\r\n     * Set table headers\r\n     * @param {Array<string>} headers\r\n     */\r\n    setHeaders(headers) {\r\n        this._headers = headers;\r\n    }\r\n\r\n    /**\r\n     * Add row to table\r\n     * @param {Array<string>} rowData\r\n     */\r\n    addRow(rowData) {\r\n        this._rows.push(rowData);\r\n    }\r\n\r\n    /**\r\n     * Get table headers\r\n     * @returns {Array<string>}\r\n     */\r\n    getHeaders() {\r\n        return this._headers;\r\n    }\r\n\r\n    /**\r\n     * Get table rows\r\n     * @returns {Array<Array<string>>}\r\n     */\r\n    getRows() {\r\n        return this._rows;\r\n    }\r\n\r\n    /**\r\n     * Get toolbar configuration for tables\r\n     * @returns {Object} - toolbar button configuration\r\n     */\r\n    static getToolbarConfig() {\r\n        return {\r\n            class: 'editor-toolbar-table',\r\n            icon: 'fa-table',\r\n            title: 'Table',\r\n            group: 'blocks'\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Render this table block as an HTML element\r\n     * @returns {HTMLElement} - DOM element representation\r\n     */\r\n    renderToElement() {\r\n        let element = document.createElement('div');\r\n        element.classList.add('block');\r\n        element.classList.add('block-table');\r\n        element.setAttribute('data-block-type', 'table');\r\n        element.setAttribute('data-placeholder', 'Table');\r\n        element.contentEditable = false; // Tables manage their own editing\r\n        \r\n        // Use the HTML from the block or generate from content\r\n        if (this._html && this._html.includes('<table')) {\r\n            element.innerHTML = this._html;\r\n        } else {\r\n            element.innerHTML = this.generateTableHTML();\r\n        }\r\n        \r\n        // Set up cell editing for the table\r\n        setTimeout(() => {\r\n            this.setupCellEditing(element);\r\n        }, 0);\r\n        \r\n        return element;\r\n    }\r\n\r\n    /**\r\n     * Check if this block type can parse the given HTML\r\n     * @param {string} htmlString - HTML to check\r\n     * @returns {boolean} - true if can parse, false otherwise\r\n     */\r\n    static canParseHtml(htmlString) {\r\n        return /^<table[^>]*>/i.test(htmlString);\r\n    }\r\n\r\n    /**\r\n     * Parse HTML string to create a table block instance\r\n     * @param {string} htmlString - HTML to parse\r\n     * @returns {TableBlock|null} - Block instance or null if can't parse\r\n     */\r\n    static parseFromHtml(htmlString) {\r\n        if (!this.canParseHtml(htmlString)) return null;\r\n\r\n        const parser = new DOMParser();\r\n        const doc = parser.parseFromString(htmlString, 'text/html');\r\n        const table = doc.querySelector('table');\r\n        \r\n        if (!table) return null;\r\n        \r\n        const tableBlock = new TableBlock('', htmlString);\r\n        \r\n        // Extract headers\r\n        const headerCells = table.querySelectorAll('th');\r\n        if (headerCells.length > 0) {\r\n            tableBlock._headers = Array.from(headerCells).map(cell => cell.textContent.trim());\r\n        }\r\n        \r\n        // Extract data rows\r\n        const dataRows = table.querySelectorAll('tbody tr, tr:not(:has(th))');\r\n        tableBlock._rows = Array.from(dataRows).map(row => {\r\n            const cells = row.querySelectorAll('td, th');\r\n            return Array.from(cells).map(cell => cell.textContent.trim());\r\n        });\r\n        \r\n        return tableBlock;\r\n    }\r\n\r\n    /**\r\n     * Check if this block type can parse the given markdown\r\n     * @param {string} markdownString - Markdown to check\r\n     * @returns {boolean} - true if can parse, false otherwise\r\n     */\r\n    static canParseMarkdown(markdownString) {\r\n        const lines = markdownString.trim().split('\\n');\r\n        return lines.length >= 2 && \r\n               lines[0].includes('|') && \r\n               lines[1].includes('|') && \r\n               lines[1].includes('-');\r\n    }\r\n\r\n    /**\r\n     * Parse markdown string to create a table block instance\r\n     * @param {string} markdownString - Markdown to parse\r\n     * @returns {TableBlock|null} - Block instance or null if can't parse\r\n     */\r\n    static parseFromMarkdown(markdownString) {\r\n        const lines = markdownString.trim().split('\\n').map(line => line.trim()).filter(line => line);\r\n        \r\n        if (lines.length < 2) return null;\r\n        \r\n        // Check if it's a table format\r\n        if (!lines[0].includes('|') || !lines[1].includes('-')) return null;\r\n        \r\n        const tableBlock = new TableBlock();\r\n        \r\n        // Parse headers (first line)\r\n        tableBlock._headers = lines[0].split('|').map(cell => cell.trim()).filter(cell => cell);\r\n        \r\n        // Skip separator line (second line with dashes)\r\n        // Parse data rows (remaining lines)\r\n        tableBlock._rows = lines.slice(2).map(line => \r\n            line.split('|').map(cell => cell.trim()).filter(cell => cell)\r\n        );\r\n        \r\n        // Generate HTML\r\n        const html = tableBlock.generateTableHTML();\r\n        tableBlock._html = html;\r\n        \r\n        return tableBlock;\r\n    }\r\n}\r\n","'use strict';\r\n\r\nimport {BaseBlock} from \"@/blocks/BaseBlock\";\r\nimport {BlockType} from \"@/BlockType\";\r\nimport {Toolbar} from \"@/Toolbar\";\r\nimport {Editor} from \"@/Editor\";\r\n\r\n/**\r\n * Image block for handling images with drag & drop and resizing\r\n */\r\nexport class ImageBlock extends BaseBlock\r\n{\r\n    constructor(content = '', html = '', nested = false) {\r\n        super(BlockType.IMAGE, content, html, nested);\r\n        this._src = '';\r\n        this._alt = '';\r\n        this._width = null;\r\n        this._height = null;\r\n        \r\n        // Parse content if provided (should be image URL or markdown image syntax)\r\n        if (content) {\r\n            this.parseImageContent(content);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Parse image content from markdown format or URL\r\n     * @param {string} content - Image content (URL or markdown syntax)\r\n     */\r\n    parseImageContent(content) {\r\n        // Check if it's markdown image syntax: ![alt](src)\r\n        const markdownMatch = content.match(/!\\[([^\\]]*)\\]\\(([^)]+)\\)/);\r\n        if (markdownMatch) {\r\n            this._alt = markdownMatch[1];\r\n            this._src = markdownMatch[2];\r\n        } else if (content.startsWith('http') || content.startsWith('data:') || content.startsWith('./') || content.startsWith('../')) {\r\n            // Treat as direct URL\r\n            this._src = content;\r\n            this._alt = 'Image';\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Handle key press for image blocks\r\n     * @param {KeyboardEvent} event\r\n     * @param {string} text - current text content of the block\r\n     * @returns {boolean} - true if key was handled, false otherwise\r\n     */\r\n    handleKeyPress(event, text) {\r\n        // Images don't handle text input, but can handle navigation keys\r\n        if (event.key === 'Delete' || event.key === 'Backspace') {\r\n            // Allow deletion of image block\r\n            return false; // Let default handler manage block deletion\r\n        }\r\n        \r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * Handle Enter key press for image blocks\r\n     * @param {KeyboardEvent} event\r\n     * @returns {boolean} - true if key was handled, false otherwise\r\n     */\r\n    handleEnterKey(event) {\r\n        // Create new paragraph block after image\r\n        event.preventDefault();\r\n        Editor.addDefaultBlock();\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Set up drag and drop functionality for image upload\r\n     * @param {HTMLElement} element - The image block element\r\n     */\r\n    setupDragAndDrop(element) {\r\n        // Prevent default drag behaviors\r\n        element.addEventListener('dragover', (e) => {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            element.classList.add('drag-over');\r\n        });\r\n\r\n        element.addEventListener('dragleave', (e) => {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            element.classList.remove('drag-over');\r\n        });\r\n\r\n        element.addEventListener('drop', (e) => {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            element.classList.remove('drag-over');\r\n\r\n            const files = Array.from(e.dataTransfer.files);\r\n            const imageFile = files.find(file => file.type.startsWith('image/'));\r\n\r\n            if (imageFile) {\r\n                this.handleImageFile(imageFile, element);\r\n            }\r\n        });\r\n\r\n        // Handle file input selection\r\n        element.addEventListener('imageSelected', (e) => {\r\n            const file = e.detail;\r\n            if (file && file.type.startsWith('image/')) {\r\n                this.handleImageFile(file, element);\r\n            }\r\n        });\r\n\r\n        // Handle click on placeholder to trigger file selection\r\n        element.addEventListener('click', (e) => {\r\n            const fileInput = element.querySelector('input[type=\"file\"]');\r\n            if (fileInput && e.target.closest('.image-placeholder')) {\r\n                fileInput.click();\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Handle uploaded image file\r\n     * @param {File} file - The image file\r\n     * @param {HTMLElement} element - The image block element\r\n     */\r\n    handleImageFile(file, element) {\r\n        const reader = new FileReader();\r\n        \r\n        reader.onload = (e) => {\r\n            this._src = e.target.result; // Base64 data URL\r\n            this._alt = file.name;\r\n            \r\n            // Update the image element\r\n            const img = element.querySelector('img');\r\n            if (img) {\r\n                img.src = this._src;\r\n                img.alt = this._alt;\r\n                this.setupImageResizing(img);\r\n            }\r\n            \r\n            Editor.update();\r\n        };\r\n        \r\n        reader.readAsDataURL(file);\r\n    }\r\n\r\n    /**\r\n     * Set up image resizing functionality\r\n     * @param {HTMLImageElement} img - The image element\r\n     */\r\n    setupImageResizing(img) {\r\n        // Make image resizable by adding resize handles\r\n        img.style.maxWidth = '100%';\r\n        img.style.height = 'auto';\r\n        img.style.cursor = 'nw-resize';\r\n        \r\n        let isResizing = false;\r\n        let startX, startY, startWidth, startHeight;\r\n\r\n        img.addEventListener('mousedown', (e) => {\r\n            // Only resize if clicking near the bottom-right corner\r\n            const rect = img.getBoundingClientRect();\r\n            const threshold = 20; // 20px threshold from corner\r\n            \r\n            if (e.clientX > rect.right - threshold && e.clientY > rect.bottom - threshold) {\r\n                isResizing = true;\r\n                startX = e.clientX;\r\n                startY = e.clientY;\r\n                startWidth = parseInt(getComputedStyle(img).width, 10);\r\n                startHeight = parseInt(getComputedStyle(img).height, 10);\r\n                \r\n                e.preventDefault();\r\n                \r\n                document.addEventListener('mousemove', doResize);\r\n                document.addEventListener('mouseup', stopResize);\r\n            }\r\n        });\r\n\r\n        const doResize = (e) => {\r\n            if (!isResizing) return;\r\n            \r\n            const newWidth = startWidth + e.clientX - startX;\r\n            const aspectRatio = startHeight / startWidth;\r\n            const newHeight = newWidth * aspectRatio;\r\n            \r\n            if (newWidth > 50) { // Minimum width\r\n                img.style.width = newWidth + 'px';\r\n                img.style.height = newHeight + 'px';\r\n                \r\n                this._width = newWidth;\r\n                this._height = newHeight;\r\n            }\r\n        };\r\n\r\n        const stopResize = () => {\r\n            isResizing = false;\r\n            document.removeEventListener('mousemove', doResize);\r\n            document.removeEventListener('mouseup', stopResize);\r\n            Editor.update();\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Get markdown triggers for image creation\r\n     * @returns {Array<string>} - Array of trigger strings\r\n     */\r\n    static getMarkdownTriggers() {\r\n        return ['!['];\r\n    }\r\n\r\n    /**\r\n     * Apply image transformation\r\n     */\r\n    applyTransformation() {\r\n        const currentBlock = Editor.currentBlock;\r\n        if (!currentBlock) return;\r\n        \r\n        // Prompt for image URL or show file picker\r\n        const url = prompt('Enter image URL or drag & drop an image file:');\r\n        if (url) {\r\n            this._src = url;\r\n            this._alt = 'Image';\r\n        }\r\n        \r\n        currentBlock.setAttribute('data-block-type', 'image');\r\n        currentBlock.innerHTML = this.generateImageHTML();\r\n        \r\n        // Set up drag and drop\r\n        this.setupDragAndDrop(currentBlock);\r\n        \r\n        // Set up resizing for the image\r\n        const img = currentBlock.querySelector('img');\r\n        if (img) {\r\n            img.onload = () => this.setupImageResizing(img);\r\n        }\r\n        \r\n        Editor.setCurrentBlock(currentBlock);\r\n        Editor.update();\r\n    }\r\n\r\n    /**\r\n     * Generate HTML for image display\r\n     * @returns {string} - HTML string for image\r\n     */\r\n    generateImageHTML() {\r\n        if (!this._src) {\r\n            return `\r\n                <div class=\"image-placeholder\" style=\"border: 2px dashed #ccc; padding: 40px; text-align: center; background: #f9f9f9;\">\r\n                    <div></div>\r\n                    <div>Drag & drop an image here or click to select</div>\r\n                    <input type=\"file\" accept=\"image/*\" style=\"margin-top: 10px;\" onchange=\"this.closest('.block').dispatchEvent(new CustomEvent('imageSelected', {detail: this.files[0]}))\">\r\n                </div>\r\n            `;\r\n        }\r\n        \r\n        const widthStyle = this._width ? `width: ${this._width}px;` : 'max-width: 100%;';\r\n        const heightStyle = this._height ? `height: ${this._height}px;` : 'height: auto;';\r\n        \r\n        return `\r\n            <div class=\"image-container\" style=\"position: relative; display: inline-block;\">\r\n                <img src=\"${this._src}\" alt=\"${this._alt}\" style=\"${widthStyle} ${heightStyle} display: block; cursor: nw-resize;\">\r\n                <div class=\"resize-handle\" style=\"position: absolute; bottom: 0; right: 0; width: 20px; height: 20px; background: #007cba; cursor: nw-resize; opacity: 0.7;\"></div>\r\n            </div>\r\n        `;\r\n    }\r\n\r\n    /**\r\n     * Get toolbar configuration for images\r\n     * @returns {Object} - toolbar button configuration\r\n     */\r\n    static getToolbarConfig() {\r\n        return {\r\n            class: 'editor-toolbar-image',\r\n            icon: 'fa-image',\r\n            title: 'Image',\r\n            group: 'media'\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Convert this image block to markdown\r\n     * @returns {string} - markdown representation\r\n     */\r\n    toMarkdown() {\r\n        if (!this._src) return '';\r\n        return `![${this._alt}](${this._src})`;\r\n    }\r\n\r\n    /**\r\n     * Convert this image block to HTML\r\n     * @returns {string} - HTML representation\r\n     */\r\n    toHtml() {\r\n        if (!this._src) return '';\r\n        \r\n        const widthAttr = this._width ? ` width=\"${this._width}\"` : '';\r\n        const heightAttr = this._height ? ` height=\"${this._height}\"` : '';\r\n        \r\n        return `<img src=\"${this._src}\" alt=\"${this._alt}\"${widthAttr}${heightAttr}>`;\r\n    }\r\n\r\n    /**\r\n     * Get disabled toolbar buttons for image blocks\r\n     * @returns {Array<string>} - Array of disabled button classes\r\n     */\r\n    static getDisabledButtons() {\r\n        return ['editor-toolbar-bold', 'editor-toolbar-italic', 'editor-toolbar-ul', 'editor-toolbar-ol', 'editor-toolbar-sq'];\r\n    }\r\n\r\n    /**\r\n     * Set image source\r\n     * @param {string} src - Image source URL\r\n     */\r\n    setSrc(src) {\r\n        this._src = src;\r\n    }\r\n\r\n    /**\r\n     * Set image alt text\r\n     * @param {string} alt - Alt text\r\n     */\r\n    setAlt(alt) {\r\n        this._alt = alt;\r\n    }\r\n\r\n    /**\r\n     * Set image dimensions\r\n     * @param {number} width - Image width\r\n     * @param {number} height - Image height\r\n     */\r\n    setDimensions(width, height) {\r\n        this._width = width;\r\n        this._height = height;\r\n    }\r\n\r\n    /**\r\n     * Get image source\r\n     * @returns {string}\r\n     */\r\n    getSrc() {\r\n        return this._src;\r\n    }\r\n\r\n    /**\r\n     * Get image alt text\r\n     * @returns {string}\r\n     */\r\n    getAlt() {\r\n        return this._alt;\r\n    }\r\n\r\n    /**\r\n     * Get image dimensions\r\n     * @returns {Object} - {width, height}\r\n     */\r\n    getDimensions() {\r\n        return {\r\n            width: this._width,\r\n            height: this._height\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Render this image block as an HTML element\r\n     * @returns {HTMLElement} - DOM element representation\r\n     */\r\n    renderToElement() {\r\n        let element = document.createElement('div');\r\n        element.classList.add('block');\r\n        element.classList.add('block-image');\r\n        element.setAttribute('data-block-type', 'image');\r\n        element.setAttribute('data-placeholder', 'Drag an image or paste URL');\r\n        element.contentEditable = true;\r\n        \r\n        if (this._src) {\r\n            const img = document.createElement('img');\r\n            img.src = this._src;\r\n            img.alt = this._alt || 'Image';\r\n            \r\n            if (this._width) img.style.width = this._width + 'px';\r\n            if (this._height) img.style.height = this._height + 'px';\r\n            \r\n            element.appendChild(img);\r\n            element.contentEditable = false;\r\n        } else {\r\n            element.textContent = this._content || '';\r\n        }\r\n        \r\n        // Set up drag and drop and resizing\r\n        setTimeout(() => {\r\n            this.setupDragAndDrop(element);\r\n            if (this._src) {\r\n                this.setupImageResizing(element);\r\n            }\r\n        }, 0);\r\n        \r\n        return element;\r\n    }\r\n\r\n    /**\r\n     * Check if this block type can parse the given HTML\r\n     * @param {string} htmlString - HTML to check\r\n     * @returns {boolean} - true if can parse, false otherwise\r\n     */\r\n    static canParseHtml(htmlString) {\r\n        return /^<img[^>]*>/i.test(htmlString) || \r\n               /^<figure[^>]*>.*<img[^>]*>.*<\\/figure>/i.test(htmlString) ||\r\n               /^<p[^>]*>\\s*<img[^>]*>\\s*<\\/p>$/i.test(htmlString.trim());\r\n    }\r\n\r\n    /**\r\n     * Parse HTML string to create an image block instance\r\n     * @param {string} htmlString - HTML to parse\r\n     * @returns {ImageBlock|null} - Block instance or null if can't parse\r\n     */\r\n    static parseFromHtml(htmlString) {\r\n        if (!this.canParseHtml(htmlString)) return null;\r\n\r\n        const parser = new DOMParser();\r\n        const doc = parser.parseFromString(htmlString, 'text/html');\r\n        const img = doc.querySelector('img');\r\n        \r\n        if (!img) return null;\r\n        \r\n        const imageBlock = new ImageBlock();\r\n        imageBlock._src = img.getAttribute('src') || '';\r\n        imageBlock._alt = img.getAttribute('alt') || '';\r\n        \r\n        // Extract dimensions if present\r\n        const width = img.getAttribute('width') || img.style.width;\r\n        const height = img.getAttribute('height') || img.style.height;\r\n        \r\n        if (width) imageBlock._width = parseInt(width);\r\n        if (height) imageBlock._height = parseInt(height);\r\n        \r\n        return imageBlock;\r\n    }\r\n\r\n    /**\r\n     * Get image source URL\r\n     * @returns {string} - Image source URL\r\n     */\r\n    get src() {\r\n        return this._src;\r\n    }\r\n\r\n    /**\r\n     * Set image source URL\r\n     * @param {string} value - Image source URL\r\n     */\r\n    set src(value) {\r\n        this._src = value;\r\n    }\r\n\r\n    /**\r\n     * Get image alt text\r\n     * @returns {string} - Image alt text\r\n     */\r\n    get alt() {\r\n        return this._alt;\r\n    }\r\n\r\n    /**\r\n     * Set image alt text\r\n     * @param {string} value - Image alt text\r\n     */\r\n    set alt(value) {\r\n        this._alt = value;\r\n    }\r\n\r\n    /**\r\n     * Get image width\r\n     * @returns {number|null} - Image width in pixels\r\n     */\r\n    get width() {\r\n        return this._width;\r\n    }\r\n\r\n    /**\r\n     * Set image width\r\n     * @param {number} value - Image width in pixels\r\n     */\r\n    set width(value) {\r\n        this._width = value;\r\n    }\r\n\r\n    /**\r\n     * Get image height\r\n     * @returns {number|null} - Image height in pixels\r\n     */\r\n    get height() {\r\n        return this._height;\r\n    }\r\n\r\n    /**\r\n     * Set image height\r\n     * @param {number} value - Image height in pixels\r\n     */\r\n    set height(value) {\r\n        this._height = value;\r\n    }\r\n\r\n    /**\r\n     * Check if this block type can parse the given markdown\r\n     * @param {string} markdownString - Markdown to check\r\n     * @returns {boolean} - true if can parse, false otherwise\r\n     */\r\n    static canParseMarkdown(markdownString) {\r\n        return /^!\\[.*?\\]\\(.*?\\)/.test(markdownString.trim());\r\n    }\r\n\r\n    /**\r\n     * Parse markdown string to create an image block instance\r\n     * @param {string} markdownString - Markdown to parse\r\n     * @returns {ImageBlock|null} - Block instance or null if can't parse\r\n     */\r\n    static parseFromMarkdown(markdownString) {\r\n        if (!this.canParseMarkdown(markdownString)) return null;\r\n        \r\n        const match = markdownString.trim().match(/^!\\[([^\\]]*)\\]\\(([^)]+)\\)/);\r\n        if (!match) return null;\r\n        \r\n        const imageBlock = new ImageBlock();\r\n        imageBlock._alt = match[1];\r\n        imageBlock._src = match[2];\r\n        \r\n        return imageBlock;\r\n    }\r\n}\r\n","'use strict';\r\n\r\nimport {BaseBlock} from \"@/blocks/BaseBlock\";\r\nimport {ParagraphBlock} from \"@/blocks/ParagraphBlock\";\r\nimport {H1Block} from \"@/blocks/H1Block\";\r\nimport {H2Block} from \"@/blocks/H2Block\";\r\nimport {H3Block} from \"@/blocks/H3Block\";\r\nimport {H4Block} from \"@/blocks/H4Block\";\r\nimport {H5Block} from \"@/blocks/H5Block\";\r\nimport {H6Block} from \"@/blocks/H6Block\";\r\nimport {UnorderedListBlock} from \"@/blocks/UnorderedListBlock\";\r\nimport {OrderedListBlock} from \"@/blocks/OrderedListBlock\";\r\nimport {TaskListBlock} from \"@/blocks/TaskListBlock\";\r\nimport {CodeBlock} from \"@/blocks/CodeBlock\";\r\nimport {QuoteBlock} from \"@/blocks/QuoteBlock\";\r\nimport {DelimiterBlock} from \"@/blocks/DelimiterBlock\";\r\nimport {TableBlock} from \"@/blocks/TableBlock\";\r\nimport {ImageBlock} from \"@/blocks/ImageBlock\";\r\nimport {BlockType} from \"@/BlockType\";\r\n\r\n/**\r\n * Factory class for creating block instances based on type\r\n */\r\nexport class BlockFactory\r\n{\r\n    /**\r\n     * Registry of all block classes\r\n     */\r\n    static blockRegistry = new Map([\r\n        [BlockType.H1, H1Block],\r\n        [BlockType.H2, H2Block],\r\n        [BlockType.H3, H3Block],\r\n        [BlockType.H4, H4Block],\r\n        [BlockType.H5, H5Block],\r\n        [BlockType.H6, H6Block],\r\n        [BlockType.UL, UnorderedListBlock],\r\n        [BlockType.OL, OrderedListBlock],\r\n        [BlockType.SQ, TaskListBlock],\r\n        [BlockType.CODE, CodeBlock],\r\n        [BlockType.QUOTE, QuoteBlock],\r\n        [BlockType.DELIMITER, DelimiterBlock],\r\n        [BlockType.TABLE, TableBlock],\r\n        [BlockType.IMAGE, ImageBlock],\r\n        [BlockType.PARAGRAPH, ParagraphBlock]  // Put paragraph last as fallback\r\n    ]);\r\n\r\n    /**\r\n     * Get all registered block classes\r\n     * @returns {Array} - Array of block classes\r\n     */\r\n    static getAllBlockClasses() {\r\n        return Array.from(this.blockRegistry.values());\r\n    }\r\n\r\n    /**\r\n     * Get block class by type\r\n     * @param {string} type - Block type\r\n     * @returns {Class|null} - Block class or null if not found\r\n     */\r\n    static getBlockClass(type) {\r\n        return this.blockRegistry.get(type) || null;\r\n    }\r\n    /**\r\n     * Create a block instance based on type\r\n     * @param {string} type - Block type\r\n     * @param {string} content - Block content\r\n     * @param {string} html - Block HTML\r\n     * @param {boolean} nested - Whether block is nested\r\n     * @returns {BaseBlock} - Block instance\r\n     */\r\n    static createBlock(type = '', content = '', html = '', nested = false) {\r\n        if (type === '' || type === BlockType.PARAGRAPH) {\r\n            return new ParagraphBlock(content, html, nested);\r\n        }\r\n\r\n        switch (type) {\r\n            case BlockType.H1:\r\n                return new H1Block(content, html, nested);\r\n            case BlockType.H2:\r\n                return new H2Block(content, html, nested);\r\n            case BlockType.H3:\r\n                return new H3Block(content, html, nested);\r\n            case BlockType.H4:\r\n                return new H4Block(content, html, nested);\r\n            case BlockType.H5:\r\n                return new H5Block(content, html, nested);\r\n            case BlockType.H6:\r\n                return new H6Block(content, html, nested);\r\n            case BlockType.UL:\r\n                return new UnorderedListBlock(content, html, nested);\r\n            case BlockType.OL:\r\n                return new OrderedListBlock(content, html, nested);\r\n            case BlockType.SQ:\r\n                return new TaskListBlock(content, html, nested);\r\n            case BlockType.CODE:\r\n                return new CodeBlock(content, html, nested);\r\n            case BlockType.QUOTE:\r\n                return new QuoteBlock(content, html, nested);\r\n            case BlockType.DELIMITER:\r\n                return new DelimiterBlock(content, html, nested);\r\n            case BlockType.TABLE:\r\n                return new TableBlock(content, html, nested);\r\n            case BlockType.IMAGE:\r\n                return new ImageBlock(content, html, nested);\r\n            default:\r\n                return new ParagraphBlock(content, html, nested);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get a block class for the given block type\r\n     * @param {string} type - Block type\r\n     * @returns {Function|null} - Block class or null if not found\r\n     */\r\n    static getBlockClass(type) {\r\n        if (type === '' || type === BlockType.PARAGRAPH) {\r\n            return ParagraphBlock;\r\n        }\r\n\r\n        switch (type) {\r\n            case BlockType.H1:\r\n                return H1Block;\r\n            case BlockType.H2:\r\n                return H2Block;\r\n            case BlockType.H3:\r\n                return H3Block;\r\n            case BlockType.H4:\r\n                return H4Block;\r\n            case BlockType.H5:\r\n                return H5Block;\r\n            case BlockType.H6:\r\n                return H6Block;\r\n            case BlockType.UL:\r\n                return UnorderedListBlock;\r\n            case BlockType.OL:\r\n                return OrderedListBlock;\r\n            case BlockType.SQ:\r\n                return TaskListBlock;\r\n            case BlockType.CODE:\r\n                return CodeBlock;\r\n            case BlockType.QUOTE:\r\n                return QuoteBlock;\r\n            case BlockType.DELIMITER:\r\n                return DelimiterBlock;\r\n            case BlockType.TABLE:\r\n                return TableBlock;\r\n            case BlockType.IMAGE:\r\n                return ImageBlock;\r\n            default:\r\n                return ParagraphBlock;\r\n        }\r\n    }\r\n\r\n\r\n\r\n    /**\r\n     * Find block class that matches markdown trigger\r\n     * @param {string} text - Text to check against triggers\r\n     * @returns {class|null} - Block class that matches or null\r\n     */\r\n    static findBlockClassForTrigger(text) {\r\n        const blockClasses = this.getAllBlockClasses();\r\n        let bestMatch = null;\r\n        let longestTrigger = '';\r\n        \r\n        for (const blockClass of blockClasses) {\r\n            if (blockClass.matchesMarkdownTrigger && blockClass.matchesMarkdownTrigger(text)) {\r\n                // Get the matching trigger from this block class\r\n                const triggers = blockClass.getMarkdownTriggers ? blockClass.getMarkdownTriggers() : [];\r\n                for (const trigger of triggers) {\r\n                    if (text.startsWith(trigger) && trigger.length > longestTrigger.length) {\r\n                        longestTrigger = trigger;\r\n                        bestMatch = blockClass;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        \r\n        return bestMatch;\r\n    }\r\n\r\n    /**\r\n     * Create block instance from markdown trigger\r\n     * @param {string} text - Trigger text\r\n     * @param {string} content - Block content\r\n     * @param {string} html - Block HTML\r\n     * @param {boolean} nested - Whether block is nested\r\n     * @returns {BaseBlock|null} - Block instance or null if no match\r\n     */\r\n    static createBlockFromTrigger(text, content = '', html = '', nested = false) {\r\n        const blockClass = this.findBlockClassForTrigger(text);\r\n        \r\n        if (blockClass) {\r\n            return new blockClass(content, html, nested);\r\n        }\r\n        \r\n        return null;\r\n    }\r\n}\r\n","'use strict';\r\n\r\nconst logTimers = [];\r\n\r\n/**\r\n * Logs message to console with styling.\r\n * @param {string} message Log message\r\n * @param {string} label Label prepending log message (useful for filtering) (default is \"log:\")\r\n * @param {string} bgColor Background color of log message (default is (black) #000)\r\n * @param {string} textColor Colour of log message (default is (white) #fff)\r\n */\r\nexport const log = (message = '', label = 'log:', bgColor = '#000', textColor = '#fff') =>\r\n{\r\n    let duration;\r\n    \r\n    if ( logTimers[label] ) {\r\n        duration = (new Date()).getTime() - logTimers[label].getTime();\r\n    } else {\r\n        duration = 0;\r\n    }\r\n    logTimers[label] = (new Date());\r\n    \r\n    let date = new Date();\r\n    let hours   = ('0' + date.getHours()).slice(-2);\r\n    let minutes = ('0' + date.getMinutes()).slice(-2);\r\n    let seconds = ('0' + date.getSeconds()).slice(-2);\r\n    let milliseconds = date.getMilliseconds();\r\n    \r\n    let time = hours + ':' + minutes + ':' + seconds + '.' + milliseconds + ' (' + duration + ' ms)';\r\n    \r\n    console.log(\r\n        '%c%s%c%s%c%s',\r\n        'background-color: #ddd; color: #333; padding: 4px 8px; font-family: monospace;',\r\n        label,\r\n        'background-color: ' + bgColor + '; color: ' + textColor + '; padding: 4px 8px;',\r\n        message,\r\n        'background-color: #ddd; color: #333; padding: 4px 8px; font-family: monospace;',\r\n        ' ' + time,\r\n    );\r\n}\r\n\r\n/**\r\n * Logs warning to console\r\n * @param message\r\n * @param label\r\n * @param bgColor\r\n * @param textColor\r\n */\r\nexport const logWarning = (message = '', label = 'warning:', bgColor = '#fb0', textColor = '#fff') =>\r\n{\r\n    log(message, label, bgColor, textColor);\r\n}\r\n\r\n/**\r\n * Logs error to console\r\n * @param message\r\n * @param label\r\n * @param bgColor\r\n * @param textColor\r\n */\r\nexport const logError = (message = '', label = 'error:', bgColor = '#900', textColor = '#fff') =>\r\n{\r\n    log(message, label, bgColor, textColor);\r\n}","// noinspection JSDeprecatedSymbols\r\n\r\n'use strict';\r\n\r\nimport {Editor} from \"./Editor.js\";\r\nimport { ToolbarHandlers } from \"./ToolbarHandlers.js\";\r\nimport { BlockFactory } from \"./blocks/BlockFactory.js\";\r\nimport {log} from \"./utils/log.js\";\r\nimport {eventEmitter, EVENTS} from \"@/utils/eventEmitter.js\";\r\n\r\n/**\r\n * Toolbar module for text formatting and block management\r\n */\r\nexport const Toolbar = {\r\n    \r\n    /**\r\n     * \r\n     * @param {*} options \r\n     */\r\n    init: (options) =>\r\n    {\r\n        log('init()', 'Toolbar.'); console.log({options});\r\n        const { container, config, debug, editorInstance } = options;\r\n        \r\n        // Store editor instance reference for debug functionality\r\n        Toolbar.editorInstance = editorInstance;\r\n        \r\n        Toolbar.createToolbar(container, config, debug);\r\n        ToolbarHandlers.init();\r\n        \r\n        // Emit toolbar initialization event\r\n        eventEmitter.emit(EVENTS.EDITOR_INITIALIZED, {\r\n            toolbarContainer: container,\r\n            toolbarConfig: config,\r\n            timestamp: Date.now()\r\n        }, { source: 'toolbar.init' });\r\n    },\r\n\r\n    /*\r\n     * UNDO | REDO\r\n     */\r\n    undo: () =>\r\n    {\r\n        log('undo()', 'Toolbar.');\r\n        document.execCommand('undo');\r\n        Toolbar.after();\r\n    },\r\n    \r\n    redo: () =>\r\n    {\r\n        log('redo()', 'Toolbar.');\r\n        document.execCommand('redo');\r\n        Toolbar.after();\r\n    },\r\n    \r\n    /*\r\n     * HEADERs | PARAGRAPH\r\n     */\r\n    h1: () =>\r\n    {\r\n        log('h1()', 'Toolbar.');\r\n        \r\n        // Try to convert current block, fallback to legacy behavior\r\n        if (!Toolbar.editorInstance?.convertCurrentBlockOrCreate('h1')) {\r\n            document.execCommand('formatBlock', false, '<h1>');\r\n        }\r\n        \r\n        Toolbar.after();\r\n    },\r\n    \r\n    h2: () =>\r\n    {\r\n        log('h2()', 'Toolbar.');\r\n        \r\n        // Try to convert current block, fallback to legacy behavior\r\n        if (!Toolbar.editorInstance?.convertCurrentBlockOrCreate('h2')) {\r\n            document.execCommand('formatBlock', false, '<h2>');\r\n        }\r\n        \r\n        Toolbar.after();\r\n    },\r\n    \r\n    h3: () =>\r\n    {\r\n        log('h3()', 'Toolbar.');\r\n        \r\n        // Try to convert current block, fallback to legacy behavior\r\n        if (!Toolbar.editorInstance?.convertCurrentBlockOrCreate('h3')) {\r\n            document.execCommand('formatBlock', false, '<h3>');\r\n        }\r\n        \r\n        Toolbar.after();\r\n    },\r\n    \r\n    h4: () =>\r\n    {\r\n        log('h4()', 'Toolbar.');\r\n        \r\n        // Try to convert current block, fallback to legacy behavior\r\n        if (!Toolbar.editorInstance?.convertCurrentBlockOrCreate('h4')) {\r\n            document.execCommand('formatBlock', false, '<h4>');\r\n        }\r\n        \r\n        Toolbar.after();\r\n    },\r\n    \r\n    h5: () =>\r\n    {\r\n        log('h5()', 'Toolbar.');\r\n        \r\n        // Try to convert current block, fallback to legacy behavior\r\n        if (!Toolbar.editorInstance?.convertCurrentBlockOrCreate('h5')) {\r\n            document.execCommand('formatBlock', false, '<h5>');\r\n        }\r\n        \r\n        Toolbar.after();\r\n    },\r\n    \r\n    h6: () =>\r\n    {\r\n        log('h6()', 'Toolbar.');\r\n        \r\n        // Try to convert current block, fallback to legacy behavior\r\n        if (!Toolbar.editorInstance?.convertCurrentBlockOrCreate('h6')) {\r\n            document.execCommand('formatBlock', false, '<h6>');\r\n        }\r\n        \r\n        Toolbar.after();\r\n    },\r\n    \r\n    paragraph: () =>\r\n    {\r\n        log('paragraph()', 'Toolbar.');\r\n        document.execCommand('formatBlock', false, '<p>');\r\n        Toolbar.after();\r\n    },\r\n    \r\n    /*\r\n     * BOLD | ITALIC | UNDERLINE | STRIKETHROUGH\r\n     */\r\n    \r\n    bold: () =>\r\n    {\r\n        log('bold()', 'Toolbar.');\r\n        document.execCommand('bold');\r\n        Toolbar.after();\r\n    },\r\n    \r\n    italic: () =>\r\n    {\r\n        log('italic()', 'Toolbar.');\r\n        document.execCommand('italic');\r\n        Toolbar.after();\r\n    },\r\n    \r\n    underline: () =>\r\n    {\r\n        log('underline()', 'Toolbar.');\r\n        document.execCommand('underline');\r\n        Toolbar.after();\r\n    },\r\n    \r\n    strikethrough: () =>\r\n    {\r\n        log('strikethrough()', 'Toolbar.');\r\n        document.execCommand('strikeThrough');\r\n        Toolbar.after();\r\n    },\r\n    \r\n    /**\r\n     * Inserts unordered list\r\n     */\r\n    ul: () =>\r\n    {\r\n        log('ul()', 'Toolbar.');\r\n        \r\n        // Try to convert current block, fallback to legacy behavior\r\n        if (!Toolbar.editorInstance?.convertCurrentBlockOrCreate('ul')) {\r\n            document.execCommand('insertUnorderedList');\r\n        }\r\n        \r\n        Toolbar.after();\r\n    },\r\n    \r\n    /**\r\n     * Inserts ordered list\r\n     */\r\n    ol: () =>\r\n    {\r\n        log('ol()', 'Toolbar.');\r\n        \r\n        // Try to convert current block, fallback to legacy behavior\r\n        if (!Toolbar.editorInstance?.convertCurrentBlockOrCreate('ol')) {\r\n            document.execCommand('insertOrderedList');\r\n        }\r\n        \r\n        Toolbar.after();\r\n    },\r\n    \r\n    /**\r\n     * Inserts checkbox list\r\n     */\r\n    sq: () =>\r\n    {\r\n        log('sq()', 'Toolbar.');\r\n        \r\n        // Try to convert current block, fallback to legacy behavior\r\n        if (!Toolbar.editorInstance?.convertCurrentBlockOrCreate('sq')) {\r\n            const currentBlock = Toolbar.editorInstance?.currentBlock;\r\n            if (!currentBlock) return;\r\n            \r\n            // Create task list block using BlockFactory\r\n            const taskBlock = BlockFactory.createBlock('sq');\r\n            taskBlock.applyTransformation();\r\n        }\r\n        \r\n        Toolbar.after();\r\n    },\r\n    \r\n    /**\r\n     * Inserts code block\r\n     */\r\n    code: () =>\r\n    {\r\n        log('code()', 'Toolbar.');\r\n        \r\n        // Try to convert current block, fallback to legacy behavior\r\n        if (!Toolbar.editorInstance?.convertCurrentBlockOrCreate('code')) {\r\n            const range = window.getSelection().getRangeAt(0);\r\n            const selectedText = range.toString();\r\n            \r\n            if ( 1 || selectedText ) {\r\n                document.execCommand('formatBlock', false, '<pre>');\r\n            } else {\r\n                document.execCommand('insertHTML', false, '<pre></pre><p></p>');\r\n            }\r\n            \r\n            Toolbar.br();\r\n        }\r\n        \r\n        Toolbar.after();\r\n    },\r\n    \r\n    /**\r\n     * Inserts inline block code\r\n     */\r\n    inline: () =>\r\n    {\r\n        log('inline()', 'Toolbar.');\r\n    \r\n        document.execCommand('formatBlock', false, '<code>');\r\n        \r\n        Toolbar.after();\r\n    },\r\n    \r\n    /**\r\n     * Inserts table\r\n     */\r\n    table: () =>\r\n    {\r\n        log('table()', 'Toolbar.');\r\n        \r\n        // Try to convert current block, fallback to legacy behavior\r\n        if (!Toolbar.editorInstance?.convertCurrentBlockOrCreate('table')) {\r\n            const currentBlock = Toolbar.editorInstance?.currentBlock;\r\n            if (!currentBlock) return;\r\n            \r\n            // Create table block and apply transformation\r\n            const tableBlock = BlockFactory.createBlock('table');\r\n            tableBlock.applyTransformation();\r\n        }\r\n        \r\n        Toolbar.after();\r\n    },\r\n    \r\n    /**\r\n     * Inserts image\r\n     */\r\n    image: () =>\r\n    {\r\n        log('image()', 'Toolbar.');\r\n        \r\n        // Try to convert current block, fallback to legacy behavior\r\n        if (!Toolbar.editorInstance?.convertCurrentBlockOrCreate('image')) {\r\n            const currentBlock = Toolbar.editorInstance?.currentBlock;\r\n            if (!currentBlock) return;\r\n            \r\n            // Create image block and apply transformation\r\n            const imageBlock = BlockFactory.createBlock('image');\r\n            imageBlock.applyTransformation();\r\n        }\r\n        \r\n        Toolbar.after();\r\n    },\r\n\r\n    /**\r\n     * Inserts quote block\r\n     */\r\n    quote: () =>\r\n    {\r\n        log('quote()', 'Toolbar.');\r\n        \r\n        // Try to convert current block, fallback to legacy behavior\r\n        if (!Toolbar.editorInstance?.convertCurrentBlockOrCreate('quote')) {\r\n            const currentBlock = Toolbar.editorInstance?.currentBlock;\r\n            if (!currentBlock) return;\r\n            \r\n            // Create quote block and apply transformation\r\n            const quoteBlock = BlockFactory.createBlock('quote');\r\n            quoteBlock.applyTransformation();\r\n        }\r\n        \r\n        Toolbar.after();\r\n    },\r\n    \r\n    /**\r\n     * Inserts line break <br />\r\n     */\r\n    br: () =>\r\n    {\r\n        log('br()', 'Toolbar.');\r\n        \r\n        let selection = window.getSelection(); // Get the current selection\r\n        \r\n        if ( selection.rangeCount ) { // Check if there is a selection\r\n            let range = selection.getRangeAt(0);\r\n            let preElement = range.commonAncestorContainer.parentNode;\r\n        \r\n            let br = document.createElement('br');\r\n        \r\n            preElement.parentNode.insertBefore(br, preElement.nextSibling);\r\n        } else {\r\n            console.warn({selection});\r\n        }\r\n    },\r\n    \r\n    /**\r\n     * Inserts tab (4 spaces)\r\n     */\r\n    tab: () =>\r\n    {\r\n        log('tab()', 'Toolbar.');\r\n    \r\n        //document.execCommand('insertHTML', false, '&#009');\r\n        document.execCommand('insertText', false, '    ');\r\n        \r\n        Toolbar.after();\r\n    },\r\n    \r\n    /**\r\n     * Switch to text (normal) view\r\n     */\r\n    text: () =>\r\n    {\r\n        log('text()', 'Toolbar.');\r\n\r\n        const noteText = document.querySelector('.note-text');\r\n        const textMd = document.querySelector('.editor-text-md');\r\n        const textHtml = document.querySelector('.editor-text-html');\r\n        const btnText = document.querySelector('.editor-toolbar-text');\r\n        const btnMarkdown = document.querySelector('.editor-toolbar-markdown');\r\n        const btnHtml = document.querySelector('.editor-toolbar-html');\r\n\r\n        noteText?.classList.remove('visually-hidden');\r\n        textMd?.classList.add('visually-hidden');\r\n        textHtml?.classList.add('visually-hidden');\r\n\r\n        if (btnText) {\r\n            btnText.disabled = true;\r\n        }\r\n        if (btnMarkdown) {\r\n            btnMarkdown.disabled = false;\r\n        }\r\n        if (btnHtml) {\r\n            btnHtml.disabled = false;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Switch to markdown view\r\n     */\r\n    markdown: () =>\r\n    {\r\n        log('markdown()', 'Toolbar.');\r\n\r\n        const noteText = document.querySelector('.note-text');\r\n        const textMd = document.querySelector('.editor-text-md');\r\n        const textHtml = document.querySelector('.editor-text-html');\r\n\r\n        const btnText = document.querySelector('.editor-toolbar-text');\r\n        const btnMarkdown = document.querySelector('.editor-toolbar-markdown');\r\n        const btnHtml = document.querySelector('.editor-toolbar-html');\r\n\r\n        noteText?.classList.add('visually-hidden');\r\n        textMd?.classList.remove('visually-hidden');\r\n        textHtml?.classList.add('visually-hidden');\r\n\r\n        // Populate markdown content\r\n        if (textMd && Toolbar.editorInstance) {\r\n            textMd.textContent = Toolbar.editorInstance.getMarkdown();\r\n        }\r\n\r\n        if (btnText) {\r\n            btnText.disabled = false;\r\n        }\r\n        if (btnMarkdown) {\r\n            btnMarkdown.disabled = true;\r\n        }\r\n        if (btnHtml) {\r\n            btnHtml.disabled = false;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Switch to html view\r\n     */\r\n    html: () =>\r\n    {\r\n        log('html()', 'Toolbar.');\r\n\r\n        const noteText = document.querySelector('.note-text');\r\n        const textMd = document.querySelector('.editor-text-md');\r\n        const textHtml = document.querySelector('.editor-text-html');\r\n        const btnText = document.querySelector('.editor-toolbar-text');\r\n        const btnMarkdown = document.querySelector('.editor-toolbar-markdown');\r\n        const btnHtml = document.querySelector('.editor-toolbar-html');\r\n\r\n        noteText?.classList.add('visually-hidden');\r\n        textMd?.classList.add('visually-hidden');\r\n        textHtml?.classList.remove('visually-hidden');\r\n\r\n        // Populate HTML content\r\n        if (textHtml && Toolbar.editorInstance) {\r\n            textHtml.textContent = Toolbar.editorInstance.getHtml();\r\n        }\r\n\r\n        if (btnText) {\r\n            btnText.disabled = false;\r\n        }\r\n        if (btnMarkdown) {\r\n            btnMarkdown.disabled = false;\r\n        }\r\n        if (btnHtml) {\r\n            btnHtml.disabled = true;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Toggle debug mode\r\n     */\r\n    debug: () =>\r\n    {\r\n        log('debug()', 'Toolbar.');\r\n        \r\n        if (Toolbar.editorInstance) {\r\n            Toolbar.editorInstance.toggleDebugMode();\r\n            \r\n            // Update button state\r\n            const debugBtn = document.querySelector('.editor-toolbar-debug');\r\n            if (debugBtn) {\r\n                const isActive = Toolbar.editorInstance.debugMode;\r\n                if (isActive) {\r\n                    debugBtn.classList.add('active');\r\n                    debugBtn.title = '  ';\r\n                } else {\r\n                    debugBtn.classList.remove('active');\r\n                    debugBtn.title = '  ';\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    /**\r\n     * @fixme refactor name\r\n     */\r\n    after: () =>\r\n    {\r\n        log('after()', 'Toolbar.');\r\n        //eventEmitter.emit('EDITOR.UPDATED_EVENT');\r\n        Toolbar.editorInstance?.update();\r\n    },\r\n\r\n    /**\r\n     * Create a toolbar\r\n     * @param {*} container \r\n     * @param {*} config \r\n     * @param {boolean} debug - Whether debug mode is enabled\r\n     */\r\n    createToolbar: (container, config, debug = false) =>\r\n    {\r\n        log('createToolbar()', 'Toolbar.'); console.log({container, config, debug});\r\n\r\n        const toolbar = document.createElement('div');\r\n        toolbar.className = 'editor-toolbar';\r\n\r\n        // Handle both config.config and direct config array formats\r\n        const sections = config.config || config || [];\r\n        \r\n        sections.forEach((section) => {\r\n            const group = document.createElement('div');\r\n            group.className = 'editor-toolbar-group';\r\n            if (section.dropdown) {\r\n                const dropdown = document.createElement('div');\r\n                dropdown.className = 'dropdown';\r\n                const btn = document.createElement('button');\r\n                btn.className = 'btn btn-secondary dropdown-toggle';\r\n                btn.type = 'button';\r\n                btn.id = section.id;\r\n                btn.setAttribute('data-bs-toggle', 'dropdown');\r\n                btn.setAttribute('aria-expanded', 'false');\r\n                btn.innerHTML = `<i class=\"fa ${section.icon}\"></i>`;\r\n                dropdown.appendChild(btn);\r\n                const ul = document.createElement('ul');\r\n                ul.className = 'dropdown-menu';\r\n                ul.setAttribute('aria-labelledby', section.id);\r\n                section.group.forEach(item => {\r\n                    const li = document.createElement('li');\r\n                    const button = document.createElement('button');\r\n                    button.className = item.class;\r\n                    button.textContent = item.label || '';\r\n                    if (item.icon) button.innerHTML = `<i class=\"fa ${item.icon}\"></i> ` + button.textContent;\r\n                    if (item.title) button.title = item.title;\r\n                    if (item.disabled) button.disabled = true;\r\n                    li.appendChild(button);\r\n                    ul.appendChild(li);\r\n                });\r\n                dropdown.appendChild(ul);\r\n                group.appendChild(dropdown);\r\n            } else {\r\n                section.group.forEach(item => {\r\n                    const button = document.createElement('button');\r\n                    button.className = item.class;\r\n                    if (item.icon) button.innerHTML = `<i class=\"fa ${item.icon}\"></i>`;\r\n                    if (item.title) button.title = item.title;\r\n                    if (item.disabled) button.disabled = true;\r\n                    group.appendChild(button);\r\n                });\r\n            }\r\n            toolbar.appendChild(group);\r\n        });\r\n        \r\n        // Add debug button if debug mode is enabled\r\n        if (debug) {\r\n            const debugGroup = document.createElement('div');\r\n            debugGroup.className = 'editor-toolbar-group';\r\n            \r\n            const debugButton = document.createElement('button');\r\n            debugButton.className = 'editor-toolbar-debug active';\r\n            debugButton.innerHTML = '<i class=\"fa fa-bug\"></i>';\r\n            debugButton.title = '  ';\r\n            \r\n            debugGroup.appendChild(debugButton);\r\n            toolbar.appendChild(debugGroup);\r\n        }\r\n        \r\n        container.insertBefore(toolbar, container.firstChild);\r\n    },\r\n};\r\n",";/*! showdown v 2.1.0 - 21-04-2022 */\r\n(function(){\r\n/**\n * Created by Tivie on 13-07-2015.\n */\n\nfunction getDefaultOpts (simple) {\n  'use strict';\n\n  var defaultOptions = {\n    omitExtraWLInCodeBlocks: {\n      defaultValue: false,\n      describe: 'Omit the default extra whiteline added to code blocks',\n      type: 'boolean'\n    },\n    noHeaderId: {\n      defaultValue: false,\n      describe: 'Turn on/off generated header id',\n      type: 'boolean'\n    },\n    prefixHeaderId: {\n      defaultValue: false,\n      describe: 'Add a prefix to the generated header ids. Passing a string will prefix that string to the header id. Setting to true will add a generic \\'section-\\' prefix',\n      type: 'string'\n    },\n    rawPrefixHeaderId: {\n      defaultValue: false,\n      describe: 'Setting this option to true will prevent showdown from modifying the prefix. This might result in malformed IDs (if, for instance, the \" char is used in the prefix)',\n      type: 'boolean'\n    },\n    ghCompatibleHeaderId: {\n      defaultValue: false,\n      describe: 'Generate header ids compatible with github style (spaces are replaced with dashes, a bunch of non alphanumeric chars are removed)',\n      type: 'boolean'\n    },\n    rawHeaderId: {\n      defaultValue: false,\n      describe: 'Remove only spaces, \\' and \" from generated header ids (including prefixes), replacing them with dashes (-). WARNING: This might result in malformed ids',\n      type: 'boolean'\n    },\n    headerLevelStart: {\n      defaultValue: false,\n      describe: 'The header blocks level start',\n      type: 'integer'\n    },\n    parseImgDimensions: {\n      defaultValue: false,\n      describe: 'Turn on/off image dimension parsing',\n      type: 'boolean'\n    },\n    simplifiedAutoLink: {\n      defaultValue: false,\n      describe: 'Turn on/off GFM autolink style',\n      type: 'boolean'\n    },\n    excludeTrailingPunctuationFromURLs: {\n      defaultValue: false,\n      describe: 'Excludes trailing punctuation from links generated with autoLinking',\n      type: 'boolean'\n    },\n    literalMidWordUnderscores: {\n      defaultValue: false,\n      describe: 'Parse midword underscores as literal underscores',\n      type: 'boolean'\n    },\n    literalMidWordAsterisks: {\n      defaultValue: false,\n      describe: 'Parse midword asterisks as literal asterisks',\n      type: 'boolean'\n    },\n    strikethrough: {\n      defaultValue: false,\n      describe: 'Turn on/off strikethrough support',\n      type: 'boolean'\n    },\n    tables: {\n      defaultValue: false,\n      describe: 'Turn on/off tables support',\n      type: 'boolean'\n    },\n    tablesHeaderId: {\n      defaultValue: false,\n      describe: 'Add an id to table headers',\n      type: 'boolean'\n    },\n    ghCodeBlocks: {\n      defaultValue: true,\n      describe: 'Turn on/off GFM fenced code blocks support',\n      type: 'boolean'\n    },\n    tasklists: {\n      defaultValue: false,\n      describe: 'Turn on/off GFM tasklist support',\n      type: 'boolean'\n    },\n    smoothLivePreview: {\n      defaultValue: false,\n      describe: 'Prevents weird effects in live previews due to incomplete input',\n      type: 'boolean'\n    },\n    smartIndentationFix: {\n      defaultValue: false,\n      describe: 'Tries to smartly fix indentation in es6 strings',\n      type: 'boolean'\n    },\n    disableForced4SpacesIndentedSublists: {\n      defaultValue: false,\n      describe: 'Disables the requirement of indenting nested sublists by 4 spaces',\n      type: 'boolean'\n    },\n    simpleLineBreaks: {\n      defaultValue: false,\n      describe: 'Parses simple line breaks as <br> (GFM Style)',\n      type: 'boolean'\n    },\n    requireSpaceBeforeHeadingText: {\n      defaultValue: false,\n      describe: 'Makes adding a space between `#` and the header text mandatory (GFM Style)',\n      type: 'boolean'\n    },\n    ghMentions: {\n      defaultValue: false,\n      describe: 'Enables github @mentions',\n      type: 'boolean'\n    },\n    ghMentionsLink: {\n      defaultValue: 'https://github.com/{u}',\n      describe: 'Changes the link generated by @mentions. Only applies if ghMentions option is enabled.',\n      type: 'string'\n    },\n    encodeEmails: {\n      defaultValue: true,\n      describe: 'Encode e-mail addresses through the use of Character Entities, transforming ASCII e-mail addresses into its equivalent decimal entities',\n      type: 'boolean'\n    },\n    openLinksInNewWindow: {\n      defaultValue: false,\n      describe: 'Open all links in new windows',\n      type: 'boolean'\n    },\n    backslashEscapesHTMLTags: {\n      defaultValue: false,\n      describe: 'Support for HTML Tag escaping. ex: \\<div>foo\\</div>',\n      type: 'boolean'\n    },\n    emoji: {\n      defaultValue: false,\n      describe: 'Enable emoji support. Ex: `this is a :smile: emoji`',\n      type: 'boolean'\n    },\n    underline: {\n      defaultValue: false,\n      describe: 'Enable support for underline. Syntax is double or triple underscores: `__underline word__`. With this option enabled, underscores no longer parses into `<em>` and `<strong>`',\n      type: 'boolean'\n    },\n    ellipsis: {\n      defaultValue: true,\n      describe: 'Replaces three dots with the ellipsis unicode character',\n      type: 'boolean'\n    },\n    completeHTMLDocument: {\n      defaultValue: false,\n      describe: 'Outputs a complete html document, including `<html>`, `<head>` and `<body>` tags',\n      type: 'boolean'\n    },\n    metadata: {\n      defaultValue: false,\n      describe: 'Enable support for document metadata (defined at the top of the document between `` and `` or between `---` and `---`).',\n      type: 'boolean'\n    },\n    splitAdjacentBlockquotes: {\n      defaultValue: false,\n      describe: 'Split adjacent blockquote blocks',\n      type: 'boolean'\n    }\n  };\n  if (simple === false) {\n    return JSON.parse(JSON.stringify(defaultOptions));\n  }\n  var ret = {};\n  for (var opt in defaultOptions) {\n    if (defaultOptions.hasOwnProperty(opt)) {\n      ret[opt] = defaultOptions[opt].defaultValue;\n    }\n  }\n  return ret;\n}\n\nfunction allOptionsOn () {\n  'use strict';\n  var options = getDefaultOpts(true),\n      ret = {};\n  for (var opt in options) {\n    if (options.hasOwnProperty(opt)) {\n      ret[opt] = true;\n    }\n  }\n  return ret;\n}\n\r\n/**\n * Created by Tivie on 06-01-2015.\n */\n\n// Private properties\nvar showdown = {},\n    parsers = {},\n    extensions = {},\n    globalOptions = getDefaultOpts(true),\n    setFlavor = 'vanilla',\n    flavor = {\n      github: {\n        omitExtraWLInCodeBlocks:              true,\n        simplifiedAutoLink:                   true,\n        excludeTrailingPunctuationFromURLs:   true,\n        literalMidWordUnderscores:            true,\n        strikethrough:                        true,\n        tables:                               true,\n        tablesHeaderId:                       true,\n        ghCodeBlocks:                         true,\n        tasklists:                            true,\n        disableForced4SpacesIndentedSublists: true,\n        simpleLineBreaks:                     true,\n        requireSpaceBeforeHeadingText:        true,\n        ghCompatibleHeaderId:                 true,\n        ghMentions:                           true,\n        backslashEscapesHTMLTags:             true,\n        emoji:                                true,\n        splitAdjacentBlockquotes:             true\n      },\n      original: {\n        noHeaderId:                           true,\n        ghCodeBlocks:                         false\n      },\n      ghost: {\n        omitExtraWLInCodeBlocks:              true,\n        parseImgDimensions:                   true,\n        simplifiedAutoLink:                   true,\n        excludeTrailingPunctuationFromURLs:   true,\n        literalMidWordUnderscores:            true,\n        strikethrough:                        true,\n        tables:                               true,\n        tablesHeaderId:                       true,\n        ghCodeBlocks:                         true,\n        tasklists:                            true,\n        smoothLivePreview:                    true,\n        simpleLineBreaks:                     true,\n        requireSpaceBeforeHeadingText:        true,\n        ghMentions:                           false,\n        encodeEmails:                         true\n      },\n      vanilla: getDefaultOpts(true),\n      allOn: allOptionsOn()\n    };\n\n/**\n * helper namespace\n * @type {{}}\n */\nshowdown.helper = {};\n\n/**\n * TODO LEGACY SUPPORT CODE\n * @type {{}}\n */\nshowdown.extensions = {};\n\n/**\n * Set a global option\n * @static\n * @param {string} key\n * @param {*} value\n * @returns {showdown}\n */\nshowdown.setOption = function (key, value) {\n  'use strict';\n  globalOptions[key] = value;\n  return this;\n};\n\n/**\n * Get a global option\n * @static\n * @param {string} key\n * @returns {*}\n */\nshowdown.getOption = function (key) {\n  'use strict';\n  return globalOptions[key];\n};\n\n/**\n * Get the global options\n * @static\n * @returns {{}}\n */\nshowdown.getOptions = function () {\n  'use strict';\n  return globalOptions;\n};\n\n/**\n * Reset global options to the default values\n * @static\n */\nshowdown.resetOptions = function () {\n  'use strict';\n  globalOptions = getDefaultOpts(true);\n};\n\n/**\n * Set the flavor showdown should use as default\n * @param {string} name\n */\nshowdown.setFlavor = function (name) {\n  'use strict';\n  if (!flavor.hasOwnProperty(name)) {\n    throw Error(name + ' flavor was not found');\n  }\n  showdown.resetOptions();\n  var preset = flavor[name];\n  setFlavor = name;\n  for (var option in preset) {\n    if (preset.hasOwnProperty(option)) {\n      globalOptions[option] = preset[option];\n    }\n  }\n};\n\n/**\n * Get the currently set flavor\n * @returns {string}\n */\nshowdown.getFlavor = function () {\n  'use strict';\n  return setFlavor;\n};\n\n/**\n * Get the options of a specified flavor. Returns undefined if the flavor was not found\n * @param {string} name Name of the flavor\n * @returns {{}|undefined}\n */\nshowdown.getFlavorOptions = function (name) {\n  'use strict';\n  if (flavor.hasOwnProperty(name)) {\n    return flavor[name];\n  }\n};\n\n/**\n * Get the default options\n * @static\n * @param {boolean} [simple=true]\n * @returns {{}}\n */\nshowdown.getDefaultOptions = function (simple) {\n  'use strict';\n  return getDefaultOpts(simple);\n};\n\n/**\n * Get or set a subParser\n *\n * subParser(name)       - Get a registered subParser\n * subParser(name, func) - Register a subParser\n * @static\n * @param {string} name\n * @param {function} [func]\n * @returns {*}\n */\nshowdown.subParser = function (name, func) {\n  'use strict';\n  if (showdown.helper.isString(name)) {\n    if (typeof func !== 'undefined') {\n      parsers[name] = func;\n    } else {\n      if (parsers.hasOwnProperty(name)) {\n        return parsers[name];\n      } else {\n        throw Error('SubParser named ' + name + ' not registered!');\n      }\n    }\n  }\n};\n\n/**\n * Gets or registers an extension\n * @static\n * @param {string} name\n * @param {object|object[]|function=} ext\n * @returns {*}\n */\nshowdown.extension = function (name, ext) {\n  'use strict';\n\n  if (!showdown.helper.isString(name)) {\n    throw Error('Extension \\'name\\' must be a string');\n  }\n\n  name = showdown.helper.stdExtName(name);\n\n  // Getter\n  if (showdown.helper.isUndefined(ext)) {\n    if (!extensions.hasOwnProperty(name)) {\n      throw Error('Extension named ' + name + ' is not registered!');\n    }\n    return extensions[name];\n\n    // Setter\n  } else {\n    // Expand extension if it's wrapped in a function\n    if (typeof ext === 'function') {\n      ext = ext();\n    }\n\n    // Ensure extension is an array\n    if (!showdown.helper.isArray(ext)) {\n      ext = [ext];\n    }\n\n    var validExtension = validate(ext, name);\n\n    if (validExtension.valid) {\n      extensions[name] = ext;\n    } else {\n      throw Error(validExtension.error);\n    }\n  }\n};\n\n/**\n * Gets all extensions registered\n * @returns {{}}\n */\nshowdown.getAllExtensions = function () {\n  'use strict';\n  return extensions;\n};\n\n/**\n * Remove an extension\n * @param {string} name\n */\nshowdown.removeExtension = function (name) {\n  'use strict';\n  delete extensions[name];\n};\n\n/**\n * Removes all extensions\n */\nshowdown.resetExtensions = function () {\n  'use strict';\n  extensions = {};\n};\n\n/**\n * Validate extension\n * @param {array} extension\n * @param {string} name\n * @returns {{valid: boolean, error: string}}\n */\nfunction validate (extension, name) {\n  'use strict';\n\n  var errMsg = (name) ? 'Error in ' + name + ' extension->' : 'Error in unnamed extension',\n      ret = {\n        valid: true,\n        error: ''\n      };\n\n  if (!showdown.helper.isArray(extension)) {\n    extension = [extension];\n  }\n\n  for (var i = 0; i < extension.length; ++i) {\n    var baseMsg = errMsg + ' sub-extension ' + i + ': ',\n        ext = extension[i];\n    if (typeof ext !== 'object') {\n      ret.valid = false;\n      ret.error = baseMsg + 'must be an object, but ' + typeof ext + ' given';\n      return ret;\n    }\n\n    if (!showdown.helper.isString(ext.type)) {\n      ret.valid = false;\n      ret.error = baseMsg + 'property \"type\" must be a string, but ' + typeof ext.type + ' given';\n      return ret;\n    }\n\n    var type = ext.type = ext.type.toLowerCase();\n\n    // normalize extension type\n    if (type === 'language') {\n      type = ext.type = 'lang';\n    }\n\n    if (type === 'html') {\n      type = ext.type = 'output';\n    }\n\n    if (type !== 'lang' && type !== 'output' && type !== 'listener') {\n      ret.valid = false;\n      ret.error = baseMsg + 'type ' + type + ' is not recognized. Valid values: \"lang/language\", \"output/html\" or \"listener\"';\n      return ret;\n    }\n\n    if (type === 'listener') {\n      if (showdown.helper.isUndefined(ext.listeners)) {\n        ret.valid = false;\n        ret.error = baseMsg + '. Extensions of type \"listener\" must have a property called \"listeners\"';\n        return ret;\n      }\n    } else {\n      if (showdown.helper.isUndefined(ext.filter) && showdown.helper.isUndefined(ext.regex)) {\n        ret.valid = false;\n        ret.error = baseMsg + type + ' extensions must define either a \"regex\" property or a \"filter\" method';\n        return ret;\n      }\n    }\n\n    if (ext.listeners) {\n      if (typeof ext.listeners !== 'object') {\n        ret.valid = false;\n        ret.error = baseMsg + '\"listeners\" property must be an object but ' + typeof ext.listeners + ' given';\n        return ret;\n      }\n      for (var ln in ext.listeners) {\n        if (ext.listeners.hasOwnProperty(ln)) {\n          if (typeof ext.listeners[ln] !== 'function') {\n            ret.valid = false;\n            ret.error = baseMsg + '\"listeners\" property must be an hash of [event name]: [callback]. listeners.' + ln +\n              ' must be a function but ' + typeof ext.listeners[ln] + ' given';\n            return ret;\n          }\n        }\n      }\n    }\n\n    if (ext.filter) {\n      if (typeof ext.filter !== 'function') {\n        ret.valid = false;\n        ret.error = baseMsg + '\"filter\" must be a function, but ' + typeof ext.filter + ' given';\n        return ret;\n      }\n    } else if (ext.regex) {\n      if (showdown.helper.isString(ext.regex)) {\n        ext.regex = new RegExp(ext.regex, 'g');\n      }\n      if (!(ext.regex instanceof RegExp)) {\n        ret.valid = false;\n        ret.error = baseMsg + '\"regex\" property must either be a string or a RegExp object, but ' + typeof ext.regex + ' given';\n        return ret;\n      }\n      if (showdown.helper.isUndefined(ext.replace)) {\n        ret.valid = false;\n        ret.error = baseMsg + '\"regex\" extensions must implement a replace string or function';\n        return ret;\n      }\n    }\n  }\n  return ret;\n}\n\n/**\n * Validate extension\n * @param {object} ext\n * @returns {boolean}\n */\nshowdown.validateExtension = function (ext) {\n  'use strict';\n\n  var validateExtension = validate(ext, null);\n  if (!validateExtension.valid) {\n    console.warn(validateExtension.error);\n    return false;\n  }\n  return true;\n};\n\r\n/**\n * showdownjs helper functions\n */\n\nif (!showdown.hasOwnProperty('helper')) {\n  showdown.helper = {};\n}\n\n/**\n * Check if var is string\n * @static\n * @param {string} a\n * @returns {boolean}\n */\nshowdown.helper.isString = function (a) {\n  'use strict';\n  return (typeof a === 'string' || a instanceof String);\n};\n\n/**\n * Check if var is a function\n * @static\n * @param {*} a\n * @returns {boolean}\n */\nshowdown.helper.isFunction = function (a) {\n  'use strict';\n  var getType = {};\n  return a && getType.toString.call(a) === '[object Function]';\n};\n\n/**\n * isArray helper function\n * @static\n * @param {*} a\n * @returns {boolean}\n */\nshowdown.helper.isArray = function (a) {\n  'use strict';\n  return Array.isArray(a);\n};\n\n/**\n * Check if value is undefined\n * @static\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.\n */\nshowdown.helper.isUndefined = function (value) {\n  'use strict';\n  return typeof value === 'undefined';\n};\n\n/**\n * ForEach helper function\n * Iterates over Arrays and Objects (own properties only)\n * @static\n * @param {*} obj\n * @param {function} callback Accepts 3 params: 1. value, 2. key, 3. the original array/object\n */\nshowdown.helper.forEach = function (obj, callback) {\n  'use strict';\n  // check if obj is defined\n  if (showdown.helper.isUndefined(obj)) {\n    throw new Error('obj param is required');\n  }\n\n  if (showdown.helper.isUndefined(callback)) {\n    throw new Error('callback param is required');\n  }\n\n  if (!showdown.helper.isFunction(callback)) {\n    throw new Error('callback param must be a function/closure');\n  }\n\n  if (typeof obj.forEach === 'function') {\n    obj.forEach(callback);\n  } else if (showdown.helper.isArray(obj)) {\n    for (var i = 0; i < obj.length; i++) {\n      callback(obj[i], i, obj);\n    }\n  } else if (typeof (obj) === 'object') {\n    for (var prop in obj) {\n      if (obj.hasOwnProperty(prop)) {\n        callback(obj[prop], prop, obj);\n      }\n    }\n  } else {\n    throw new Error('obj does not seem to be an array or an iterable object');\n  }\n};\n\n/**\n * Standardidize extension name\n * @static\n * @param {string} s extension name\n * @returns {string}\n */\nshowdown.helper.stdExtName = function (s) {\n  'use strict';\n  return s.replace(/[_?*+\\/\\\\.^-]/g, '').replace(/\\s/g, '').toLowerCase();\n};\n\nfunction escapeCharactersCallback (wholeMatch, m1) {\n  'use strict';\n  var charCodeToEscape = m1.charCodeAt(0);\n  return 'E' + charCodeToEscape + 'E';\n}\n\n/**\n * Callback used to escape characters when passing through String.replace\n * @static\n * @param {string} wholeMatch\n * @param {string} m1\n * @returns {string}\n */\nshowdown.helper.escapeCharactersCallback = escapeCharactersCallback;\n\n/**\n * Escape characters in a string\n * @static\n * @param {string} text\n * @param {string} charsToEscape\n * @param {boolean} afterBackslash\n * @returns {XML|string|void|*}\n */\nshowdown.helper.escapeCharacters = function (text, charsToEscape, afterBackslash) {\n  'use strict';\n  // First we have to escape the escape characters so that\n  // we can build a character class out of them\n  var regexString = '([' + charsToEscape.replace(/([\\[\\]\\\\])/g, '\\\\$1') + '])';\n\n  if (afterBackslash) {\n    regexString = '\\\\\\\\' + regexString;\n  }\n\n  var regex = new RegExp(regexString, 'g');\n  text = text.replace(regex, escapeCharactersCallback);\n\n  return text;\n};\n\n/**\n * Unescape HTML entities\n * @param txt\n * @returns {string}\n */\nshowdown.helper.unescapeHTMLEntities = function (txt) {\n  'use strict';\n\n  return txt\n    .replace(/&quot;/g, '\"')\n    .replace(/&lt;/g, '<')\n    .replace(/&gt;/g, '>')\n    .replace(/&amp;/g, '&');\n};\n\nvar rgxFindMatchPos = function (str, left, right, flags) {\n  'use strict';\n  var f = flags || '',\n      g = f.indexOf('g') > -1,\n      x = new RegExp(left + '|' + right, 'g' + f.replace(/g/g, '')),\n      l = new RegExp(left, f.replace(/g/g, '')),\n      pos = [],\n      t, s, m, start, end;\n\n  do {\n    t = 0;\n    while ((m = x.exec(str))) {\n      if (l.test(m[0])) {\n        if (!(t++)) {\n          s = x.lastIndex;\n          start = s - m[0].length;\n        }\n      } else if (t) {\n        if (!--t) {\n          end = m.index + m[0].length;\n          var obj = {\n            left: {start: start, end: s},\n            match: {start: s, end: m.index},\n            right: {start: m.index, end: end},\n            wholeMatch: {start: start, end: end}\n          };\n          pos.push(obj);\n          if (!g) {\n            return pos;\n          }\n        }\n      }\n    }\n  } while (t && (x.lastIndex = s));\n\n  return pos;\n};\n\n/**\n * matchRecursiveRegExp\n *\n * (c) 2007 Steven Levithan <stevenlevithan.com>\n * MIT License\n *\n * Accepts a string to search, a left and right format delimiter\n * as regex patterns, and optional regex flags. Returns an array\n * of matches, allowing nested instances of left/right delimiters.\n * Use the \"g\" flag to return all matches, otherwise only the\n * first is returned. Be careful to ensure that the left and\n * right format delimiters produce mutually exclusive matches.\n * Backreferences are not supported within the right delimiter\n * due to how it is internally combined with the left delimiter.\n * When matching strings whose format delimiters are unbalanced\n * to the left or right, the output is intentionally as a\n * conventional regex library with recursion support would\n * produce, e.g. \"<<x>\" and \"<x>>\" both produce [\"x\"] when using\n * \"<\" and \">\" as the delimiters (both strings contain a single,\n * balanced instance of \"<x>\").\n *\n * examples:\n * matchRecursiveRegExp(\"test\", \"\\\\(\", \"\\\\)\")\n * returns: []\n * matchRecursiveRegExp(\"<t<<e>><s>>t<>\", \"<\", \">\", \"g\")\n * returns: [\"t<<e>><s>\", \"\"]\n * matchRecursiveRegExp(\"<div id=\\\"x\\\">test</div>\", \"<div\\\\b[^>]*>\", \"</div>\", \"gi\")\n * returns: [\"test\"]\n */\nshowdown.helper.matchRecursiveRegExp = function (str, left, right, flags) {\n  'use strict';\n\n  var matchPos = rgxFindMatchPos (str, left, right, flags),\n      results = [];\n\n  for (var i = 0; i < matchPos.length; ++i) {\n    results.push([\n      str.slice(matchPos[i].wholeMatch.start, matchPos[i].wholeMatch.end),\n      str.slice(matchPos[i].match.start, matchPos[i].match.end),\n      str.slice(matchPos[i].left.start, matchPos[i].left.end),\n      str.slice(matchPos[i].right.start, matchPos[i].right.end)\n    ]);\n  }\n  return results;\n};\n\n/**\n *\n * @param {string} str\n * @param {string|function} replacement\n * @param {string} left\n * @param {string} right\n * @param {string} flags\n * @returns {string}\n */\nshowdown.helper.replaceRecursiveRegExp = function (str, replacement, left, right, flags) {\n  'use strict';\n\n  if (!showdown.helper.isFunction(replacement)) {\n    var repStr = replacement;\n    replacement = function () {\n      return repStr;\n    };\n  }\n\n  var matchPos = rgxFindMatchPos(str, left, right, flags),\n      finalStr = str,\n      lng = matchPos.length;\n\n  if (lng > 0) {\n    var bits = [];\n    if (matchPos[0].wholeMatch.start !== 0) {\n      bits.push(str.slice(0, matchPos[0].wholeMatch.start));\n    }\n    for (var i = 0; i < lng; ++i) {\n      bits.push(\n        replacement(\n          str.slice(matchPos[i].wholeMatch.start, matchPos[i].wholeMatch.end),\n          str.slice(matchPos[i].match.start, matchPos[i].match.end),\n          str.slice(matchPos[i].left.start, matchPos[i].left.end),\n          str.slice(matchPos[i].right.start, matchPos[i].right.end)\n        )\n      );\n      if (i < lng - 1) {\n        bits.push(str.slice(matchPos[i].wholeMatch.end, matchPos[i + 1].wholeMatch.start));\n      }\n    }\n    if (matchPos[lng - 1].wholeMatch.end < str.length) {\n      bits.push(str.slice(matchPos[lng - 1].wholeMatch.end));\n    }\n    finalStr = bits.join('');\n  }\n  return finalStr;\n};\n\n/**\n * Returns the index within the passed String object of the first occurrence of the specified regex,\n * starting the search at fromIndex. Returns -1 if the value is not found.\n *\n * @param {string} str string to search\n * @param {RegExp} regex Regular expression to search\n * @param {int} [fromIndex = 0] Index to start the search\n * @returns {Number}\n * @throws InvalidArgumentError\n */\nshowdown.helper.regexIndexOf = function (str, regex, fromIndex) {\n  'use strict';\n  if (!showdown.helper.isString(str)) {\n    throw 'InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string';\n  }\n  if (regex instanceof RegExp === false) {\n    throw 'InvalidArgumentError: second parameter of showdown.helper.regexIndexOf function must be an instance of RegExp';\n  }\n  var indexOf = str.substring(fromIndex || 0).search(regex);\n  return (indexOf >= 0) ? (indexOf + (fromIndex || 0)) : indexOf;\n};\n\n/**\n * Splits the passed string object at the defined index, and returns an array composed of the two substrings\n * @param {string} str string to split\n * @param {int} index index to split string at\n * @returns {[string,string]}\n * @throws InvalidArgumentError\n */\nshowdown.helper.splitAtIndex = function (str, index) {\n  'use strict';\n  if (!showdown.helper.isString(str)) {\n    throw 'InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string';\n  }\n  return [str.substring(0, index), str.substring(index)];\n};\n\n/**\n * Obfuscate an e-mail address through the use of Character Entities,\n * transforming ASCII characters into their equivalent decimal or hex entities.\n *\n * Since it has a random component, subsequent calls to this function produce different results\n *\n * @param {string} mail\n * @returns {string}\n */\nshowdown.helper.encodeEmailAddress = function (mail) {\n  'use strict';\n  var encode = [\n    function (ch) {\n      return '&#' + ch.charCodeAt(0) + ';';\n    },\n    function (ch) {\n      return '&#x' + ch.charCodeAt(0).toString(16) + ';';\n    },\n    function (ch) {\n      return ch;\n    }\n  ];\n\n  mail = mail.replace(/./g, function (ch) {\n    if (ch === '@') {\n      // this *must* be encoded. I insist.\n      ch = encode[Math.floor(Math.random() * 2)](ch);\n    } else {\n      var r = Math.random();\n      // roughly 10% raw, 45% hex, 45% dec\n      ch = (\n        r > 0.9 ? encode[2](ch) : r > 0.45 ? encode[1](ch) : encode[0](ch)\n      );\n    }\n    return ch;\n  });\n\n  return mail;\n};\n\n/**\n *\n * @param str\n * @param targetLength\n * @param padString\n * @returns {string}\n */\nshowdown.helper.padEnd = function padEnd (str, targetLength, padString) {\n  'use strict';\n  /*jshint bitwise: false*/\n  // eslint-disable-next-line space-infix-ops\n  targetLength = targetLength>>0; //floor if number or convert non-number to 0;\n  /*jshint bitwise: true*/\n  padString = String(padString || ' ');\n  if (str.length > targetLength) {\n    return String(str);\n  } else {\n    targetLength = targetLength - str.length;\n    if (targetLength > padString.length) {\n      padString += padString.repeat(targetLength / padString.length); //append to original to ensure we are longer than needed\n    }\n    return String(str) + padString.slice(0,targetLength);\n  }\n};\n\n/**\n * POLYFILLS\n */\n// use this instead of builtin is undefined for IE8 compatibility\nif (typeof (console) === 'undefined') {\n  console = {\n    warn: function (msg) {\n      'use strict';\n      alert(msg);\n    },\n    log: function (msg) {\n      'use strict';\n      alert(msg);\n    },\n    error: function (msg) {\n      'use strict';\n      throw msg;\n    }\n  };\n}\n\n/**\n * Common regexes.\n * We declare some common regexes to improve performance\n */\nshowdown.helper.regexes = {\n  asteriskDashAndColon: /([*_:~])/g\n};\n\n/**\n * EMOJIS LIST\n */\nshowdown.helper.emojis = {\n  '+1':'\\ud83d\\udc4d',\n  '-1':'\\ud83d\\udc4e',\n  '100':'\\ud83d\\udcaf',\n  '1234':'\\ud83d\\udd22',\n  '1st_place_medal':'\\ud83e\\udd47',\n  '2nd_place_medal':'\\ud83e\\udd48',\n  '3rd_place_medal':'\\ud83e\\udd49',\n  '8ball':'\\ud83c\\udfb1',\n  'a':'\\ud83c\\udd70\\ufe0f',\n  'ab':'\\ud83c\\udd8e',\n  'abc':'\\ud83d\\udd24',\n  'abcd':'\\ud83d\\udd21',\n  'accept':'\\ud83c\\ude51',\n  'aerial_tramway':'\\ud83d\\udea1',\n  'airplane':'\\u2708\\ufe0f',\n  'alarm_clock':'\\u23f0',\n  'alembic':'\\u2697\\ufe0f',\n  'alien':'\\ud83d\\udc7d',\n  'ambulance':'\\ud83d\\ude91',\n  'amphora':'\\ud83c\\udffa',\n  'anchor':'\\u2693\\ufe0f',\n  'angel':'\\ud83d\\udc7c',\n  'anger':'\\ud83d\\udca2',\n  'angry':'\\ud83d\\ude20',\n  'anguished':'\\ud83d\\ude27',\n  'ant':'\\ud83d\\udc1c',\n  'apple':'\\ud83c\\udf4e',\n  'aquarius':'\\u2652\\ufe0f',\n  'aries':'\\u2648\\ufe0f',\n  'arrow_backward':'\\u25c0\\ufe0f',\n  'arrow_double_down':'\\u23ec',\n  'arrow_double_up':'\\u23eb',\n  'arrow_down':'\\u2b07\\ufe0f',\n  'arrow_down_small':'\\ud83d\\udd3d',\n  'arrow_forward':'\\u25b6\\ufe0f',\n  'arrow_heading_down':'\\u2935\\ufe0f',\n  'arrow_heading_up':'\\u2934\\ufe0f',\n  'arrow_left':'\\u2b05\\ufe0f',\n  'arrow_lower_left':'\\u2199\\ufe0f',\n  'arrow_lower_right':'\\u2198\\ufe0f',\n  'arrow_right':'\\u27a1\\ufe0f',\n  'arrow_right_hook':'\\u21aa\\ufe0f',\n  'arrow_up':'\\u2b06\\ufe0f',\n  'arrow_up_down':'\\u2195\\ufe0f',\n  'arrow_up_small':'\\ud83d\\udd3c',\n  'arrow_upper_left':'\\u2196\\ufe0f',\n  'arrow_upper_right':'\\u2197\\ufe0f',\n  'arrows_clockwise':'\\ud83d\\udd03',\n  'arrows_counterclockwise':'\\ud83d\\udd04',\n  'art':'\\ud83c\\udfa8',\n  'articulated_lorry':'\\ud83d\\ude9b',\n  'artificial_satellite':'\\ud83d\\udef0',\n  'astonished':'\\ud83d\\ude32',\n  'athletic_shoe':'\\ud83d\\udc5f',\n  'atm':'\\ud83c\\udfe7',\n  'atom_symbol':'\\u269b\\ufe0f',\n  'avocado':'\\ud83e\\udd51',\n  'b':'\\ud83c\\udd71\\ufe0f',\n  'baby':'\\ud83d\\udc76',\n  'baby_bottle':'\\ud83c\\udf7c',\n  'baby_chick':'\\ud83d\\udc24',\n  'baby_symbol':'\\ud83d\\udebc',\n  'back':'\\ud83d\\udd19',\n  'bacon':'\\ud83e\\udd53',\n  'badminton':'\\ud83c\\udff8',\n  'baggage_claim':'\\ud83d\\udec4',\n  'baguette_bread':'\\ud83e\\udd56',\n  'balance_scale':'\\u2696\\ufe0f',\n  'balloon':'\\ud83c\\udf88',\n  'ballot_box':'\\ud83d\\uddf3',\n  'ballot_box_with_check':'\\u2611\\ufe0f',\n  'bamboo':'\\ud83c\\udf8d',\n  'banana':'\\ud83c\\udf4c',\n  'bangbang':'\\u203c\\ufe0f',\n  'bank':'\\ud83c\\udfe6',\n  'bar_chart':'\\ud83d\\udcca',\n  'barber':'\\ud83d\\udc88',\n  'baseball':'\\u26be\\ufe0f',\n  'basketball':'\\ud83c\\udfc0',\n  'basketball_man':'\\u26f9\\ufe0f',\n  'basketball_woman':'\\u26f9\\ufe0f&zwj;\\u2640\\ufe0f',\n  'bat':'\\ud83e\\udd87',\n  'bath':'\\ud83d\\udec0',\n  'bathtub':'\\ud83d\\udec1',\n  'battery':'\\ud83d\\udd0b',\n  'beach_umbrella':'\\ud83c\\udfd6',\n  'bear':'\\ud83d\\udc3b',\n  'bed':'\\ud83d\\udecf',\n  'bee':'\\ud83d\\udc1d',\n  'beer':'\\ud83c\\udf7a',\n  'beers':'\\ud83c\\udf7b',\n  'beetle':'\\ud83d\\udc1e',\n  'beginner':'\\ud83d\\udd30',\n  'bell':'\\ud83d\\udd14',\n  'bellhop_bell':'\\ud83d\\udece',\n  'bento':'\\ud83c\\udf71',\n  'biking_man':'\\ud83d\\udeb4',\n  'bike':'\\ud83d\\udeb2',\n  'biking_woman':'\\ud83d\\udeb4&zwj;\\u2640\\ufe0f',\n  'bikini':'\\ud83d\\udc59',\n  'biohazard':'\\u2623\\ufe0f',\n  'bird':'\\ud83d\\udc26',\n  'birthday':'\\ud83c\\udf82',\n  'black_circle':'\\u26ab\\ufe0f',\n  'black_flag':'\\ud83c\\udff4',\n  'black_heart':'\\ud83d\\udda4',\n  'black_joker':'\\ud83c\\udccf',\n  'black_large_square':'\\u2b1b\\ufe0f',\n  'black_medium_small_square':'\\u25fe\\ufe0f',\n  'black_medium_square':'\\u25fc\\ufe0f',\n  'black_nib':'\\u2712\\ufe0f',\n  'black_small_square':'\\u25aa\\ufe0f',\n  'black_square_button':'\\ud83d\\udd32',\n  'blonde_man':'\\ud83d\\udc71',\n  'blonde_woman':'\\ud83d\\udc71&zwj;\\u2640\\ufe0f',\n  'blossom':'\\ud83c\\udf3c',\n  'blowfish':'\\ud83d\\udc21',\n  'blue_book':'\\ud83d\\udcd8',\n  'blue_car':'\\ud83d\\ude99',\n  'blue_heart':'\\ud83d\\udc99',\n  'blush':'\\ud83d\\ude0a',\n  'boar':'\\ud83d\\udc17',\n  'boat':'\\u26f5\\ufe0f',\n  'bomb':'\\ud83d\\udca3',\n  'book':'\\ud83d\\udcd6',\n  'bookmark':'\\ud83d\\udd16',\n  'bookmark_tabs':'\\ud83d\\udcd1',\n  'books':'\\ud83d\\udcda',\n  'boom':'\\ud83d\\udca5',\n  'boot':'\\ud83d\\udc62',\n  'bouquet':'\\ud83d\\udc90',\n  'bowing_man':'\\ud83d\\ude47',\n  'bow_and_arrow':'\\ud83c\\udff9',\n  'bowing_woman':'\\ud83d\\ude47&zwj;\\u2640\\ufe0f',\n  'bowling':'\\ud83c\\udfb3',\n  'boxing_glove':'\\ud83e\\udd4a',\n  'boy':'\\ud83d\\udc66',\n  'bread':'\\ud83c\\udf5e',\n  'bride_with_veil':'\\ud83d\\udc70',\n  'bridge_at_night':'\\ud83c\\udf09',\n  'briefcase':'\\ud83d\\udcbc',\n  'broken_heart':'\\ud83d\\udc94',\n  'bug':'\\ud83d\\udc1b',\n  'building_construction':'\\ud83c\\udfd7',\n  'bulb':'\\ud83d\\udca1',\n  'bullettrain_front':'\\ud83d\\ude85',\n  'bullettrain_side':'\\ud83d\\ude84',\n  'burrito':'\\ud83c\\udf2f',\n  'bus':'\\ud83d\\ude8c',\n  'business_suit_levitating':'\\ud83d\\udd74',\n  'busstop':'\\ud83d\\ude8f',\n  'bust_in_silhouette':'\\ud83d\\udc64',\n  'busts_in_silhouette':'\\ud83d\\udc65',\n  'butterfly':'\\ud83e\\udd8b',\n  'cactus':'\\ud83c\\udf35',\n  'cake':'\\ud83c\\udf70',\n  'calendar':'\\ud83d\\udcc6',\n  'call_me_hand':'\\ud83e\\udd19',\n  'calling':'\\ud83d\\udcf2',\n  'camel':'\\ud83d\\udc2b',\n  'camera':'\\ud83d\\udcf7',\n  'camera_flash':'\\ud83d\\udcf8',\n  'camping':'\\ud83c\\udfd5',\n  'cancer':'\\u264b\\ufe0f',\n  'candle':'\\ud83d\\udd6f',\n  'candy':'\\ud83c\\udf6c',\n  'canoe':'\\ud83d\\udef6',\n  'capital_abcd':'\\ud83d\\udd20',\n  'capricorn':'\\u2651\\ufe0f',\n  'car':'\\ud83d\\ude97',\n  'card_file_box':'\\ud83d\\uddc3',\n  'card_index':'\\ud83d\\udcc7',\n  'card_index_dividers':'\\ud83d\\uddc2',\n  'carousel_horse':'\\ud83c\\udfa0',\n  'carrot':'\\ud83e\\udd55',\n  'cat':'\\ud83d\\udc31',\n  'cat2':'\\ud83d\\udc08',\n  'cd':'\\ud83d\\udcbf',\n  'chains':'\\u26d3',\n  'champagne':'\\ud83c\\udf7e',\n  'chart':'\\ud83d\\udcb9',\n  'chart_with_downwards_trend':'\\ud83d\\udcc9',\n  'chart_with_upwards_trend':'\\ud83d\\udcc8',\n  'checkered_flag':'\\ud83c\\udfc1',\n  'cheese':'\\ud83e\\uddc0',\n  'cherries':'\\ud83c\\udf52',\n  'cherry_blossom':'\\ud83c\\udf38',\n  'chestnut':'\\ud83c\\udf30',\n  'chicken':'\\ud83d\\udc14',\n  'children_crossing':'\\ud83d\\udeb8',\n  'chipmunk':'\\ud83d\\udc3f',\n  'chocolate_bar':'\\ud83c\\udf6b',\n  'christmas_tree':'\\ud83c\\udf84',\n  'church':'\\u26ea\\ufe0f',\n  'cinema':'\\ud83c\\udfa6',\n  'circus_tent':'\\ud83c\\udfaa',\n  'city_sunrise':'\\ud83c\\udf07',\n  'city_sunset':'\\ud83c\\udf06',\n  'cityscape':'\\ud83c\\udfd9',\n  'cl':'\\ud83c\\udd91',\n  'clamp':'\\ud83d\\udddc',\n  'clap':'\\ud83d\\udc4f',\n  'clapper':'\\ud83c\\udfac',\n  'classical_building':'\\ud83c\\udfdb',\n  'clinking_glasses':'\\ud83e\\udd42',\n  'clipboard':'\\ud83d\\udccb',\n  'clock1':'\\ud83d\\udd50',\n  'clock10':'\\ud83d\\udd59',\n  'clock1030':'\\ud83d\\udd65',\n  'clock11':'\\ud83d\\udd5a',\n  'clock1130':'\\ud83d\\udd66',\n  'clock12':'\\ud83d\\udd5b',\n  'clock1230':'\\ud83d\\udd67',\n  'clock130':'\\ud83d\\udd5c',\n  'clock2':'\\ud83d\\udd51',\n  'clock230':'\\ud83d\\udd5d',\n  'clock3':'\\ud83d\\udd52',\n  'clock330':'\\ud83d\\udd5e',\n  'clock4':'\\ud83d\\udd53',\n  'clock430':'\\ud83d\\udd5f',\n  'clock5':'\\ud83d\\udd54',\n  'clock530':'\\ud83d\\udd60',\n  'clock6':'\\ud83d\\udd55',\n  'clock630':'\\ud83d\\udd61',\n  'clock7':'\\ud83d\\udd56',\n  'clock730':'\\ud83d\\udd62',\n  'clock8':'\\ud83d\\udd57',\n  'clock830':'\\ud83d\\udd63',\n  'clock9':'\\ud83d\\udd58',\n  'clock930':'\\ud83d\\udd64',\n  'closed_book':'\\ud83d\\udcd5',\n  'closed_lock_with_key':'\\ud83d\\udd10',\n  'closed_umbrella':'\\ud83c\\udf02',\n  'cloud':'\\u2601\\ufe0f',\n  'cloud_with_lightning':'\\ud83c\\udf29',\n  'cloud_with_lightning_and_rain':'\\u26c8',\n  'cloud_with_rain':'\\ud83c\\udf27',\n  'cloud_with_snow':'\\ud83c\\udf28',\n  'clown_face':'\\ud83e\\udd21',\n  'clubs':'\\u2663\\ufe0f',\n  'cocktail':'\\ud83c\\udf78',\n  'coffee':'\\u2615\\ufe0f',\n  'coffin':'\\u26b0\\ufe0f',\n  'cold_sweat':'\\ud83d\\ude30',\n  'comet':'\\u2604\\ufe0f',\n  'computer':'\\ud83d\\udcbb',\n  'computer_mouse':'\\ud83d\\uddb1',\n  'confetti_ball':'\\ud83c\\udf8a',\n  'confounded':'\\ud83d\\ude16',\n  'confused':'\\ud83d\\ude15',\n  'congratulations':'\\u3297\\ufe0f',\n  'construction':'\\ud83d\\udea7',\n  'construction_worker_man':'\\ud83d\\udc77',\n  'construction_worker_woman':'\\ud83d\\udc77&zwj;\\u2640\\ufe0f',\n  'control_knobs':'\\ud83c\\udf9b',\n  'convenience_store':'\\ud83c\\udfea',\n  'cookie':'\\ud83c\\udf6a',\n  'cool':'\\ud83c\\udd92',\n  'policeman':'\\ud83d\\udc6e',\n  'copyright':'\\u00a9\\ufe0f',\n  'corn':'\\ud83c\\udf3d',\n  'couch_and_lamp':'\\ud83d\\udecb',\n  'couple':'\\ud83d\\udc6b',\n  'couple_with_heart_woman_man':'\\ud83d\\udc91',\n  'couple_with_heart_man_man':'\\ud83d\\udc68&zwj;\\u2764\\ufe0f&zwj;\\ud83d\\udc68',\n  'couple_with_heart_woman_woman':'\\ud83d\\udc69&zwj;\\u2764\\ufe0f&zwj;\\ud83d\\udc69',\n  'couplekiss_man_man':'\\ud83d\\udc68&zwj;\\u2764\\ufe0f&zwj;\\ud83d\\udc8b&zwj;\\ud83d\\udc68',\n  'couplekiss_man_woman':'\\ud83d\\udc8f',\n  'couplekiss_woman_woman':'\\ud83d\\udc69&zwj;\\u2764\\ufe0f&zwj;\\ud83d\\udc8b&zwj;\\ud83d\\udc69',\n  'cow':'\\ud83d\\udc2e',\n  'cow2':'\\ud83d\\udc04',\n  'cowboy_hat_face':'\\ud83e\\udd20',\n  'crab':'\\ud83e\\udd80',\n  'crayon':'\\ud83d\\udd8d',\n  'credit_card':'\\ud83d\\udcb3',\n  'crescent_moon':'\\ud83c\\udf19',\n  'cricket':'\\ud83c\\udfcf',\n  'crocodile':'\\ud83d\\udc0a',\n  'croissant':'\\ud83e\\udd50',\n  'crossed_fingers':'\\ud83e\\udd1e',\n  'crossed_flags':'\\ud83c\\udf8c',\n  'crossed_swords':'\\u2694\\ufe0f',\n  'crown':'\\ud83d\\udc51',\n  'cry':'\\ud83d\\ude22',\n  'crying_cat_face':'\\ud83d\\ude3f',\n  'crystal_ball':'\\ud83d\\udd2e',\n  'cucumber':'\\ud83e\\udd52',\n  'cupid':'\\ud83d\\udc98',\n  'curly_loop':'\\u27b0',\n  'currency_exchange':'\\ud83d\\udcb1',\n  'curry':'\\ud83c\\udf5b',\n  'custard':'\\ud83c\\udf6e',\n  'customs':'\\ud83d\\udec3',\n  'cyclone':'\\ud83c\\udf00',\n  'dagger':'\\ud83d\\udde1',\n  'dancer':'\\ud83d\\udc83',\n  'dancing_women':'\\ud83d\\udc6f',\n  'dancing_men':'\\ud83d\\udc6f&zwj;\\u2642\\ufe0f',\n  'dango':'\\ud83c\\udf61',\n  'dark_sunglasses':'\\ud83d\\udd76',\n  'dart':'\\ud83c\\udfaf',\n  'dash':'\\ud83d\\udca8',\n  'date':'\\ud83d\\udcc5',\n  'deciduous_tree':'\\ud83c\\udf33',\n  'deer':'\\ud83e\\udd8c',\n  'department_store':'\\ud83c\\udfec',\n  'derelict_house':'\\ud83c\\udfda',\n  'desert':'\\ud83c\\udfdc',\n  'desert_island':'\\ud83c\\udfdd',\n  'desktop_computer':'\\ud83d\\udda5',\n  'male_detective':'\\ud83d\\udd75\\ufe0f',\n  'diamond_shape_with_a_dot_inside':'\\ud83d\\udca0',\n  'diamonds':'\\u2666\\ufe0f',\n  'disappointed':'\\ud83d\\ude1e',\n  'disappointed_relieved':'\\ud83d\\ude25',\n  'dizzy':'\\ud83d\\udcab',\n  'dizzy_face':'\\ud83d\\ude35',\n  'do_not_litter':'\\ud83d\\udeaf',\n  'dog':'\\ud83d\\udc36',\n  'dog2':'\\ud83d\\udc15',\n  'dollar':'\\ud83d\\udcb5',\n  'dolls':'\\ud83c\\udf8e',\n  'dolphin':'\\ud83d\\udc2c',\n  'door':'\\ud83d\\udeaa',\n  'doughnut':'\\ud83c\\udf69',\n  'dove':'\\ud83d\\udd4a',\n  'dragon':'\\ud83d\\udc09',\n  'dragon_face':'\\ud83d\\udc32',\n  'dress':'\\ud83d\\udc57',\n  'dromedary_camel':'\\ud83d\\udc2a',\n  'drooling_face':'\\ud83e\\udd24',\n  'droplet':'\\ud83d\\udca7',\n  'drum':'\\ud83e\\udd41',\n  'duck':'\\ud83e\\udd86',\n  'dvd':'\\ud83d\\udcc0',\n  'e-mail':'\\ud83d\\udce7',\n  'eagle':'\\ud83e\\udd85',\n  'ear':'\\ud83d\\udc42',\n  'ear_of_rice':'\\ud83c\\udf3e',\n  'earth_africa':'\\ud83c\\udf0d',\n  'earth_americas':'\\ud83c\\udf0e',\n  'earth_asia':'\\ud83c\\udf0f',\n  'egg':'\\ud83e\\udd5a',\n  'eggplant':'\\ud83c\\udf46',\n  'eight_pointed_black_star':'\\u2734\\ufe0f',\n  'eight_spoked_asterisk':'\\u2733\\ufe0f',\n  'electric_plug':'\\ud83d\\udd0c',\n  'elephant':'\\ud83d\\udc18',\n  'email':'\\u2709\\ufe0f',\n  'end':'\\ud83d\\udd1a',\n  'envelope_with_arrow':'\\ud83d\\udce9',\n  'euro':'\\ud83d\\udcb6',\n  'european_castle':'\\ud83c\\udff0',\n  'european_post_office':'\\ud83c\\udfe4',\n  'evergreen_tree':'\\ud83c\\udf32',\n  'exclamation':'\\u2757\\ufe0f',\n  'expressionless':'\\ud83d\\ude11',\n  'eye':'\\ud83d\\udc41',\n  'eye_speech_bubble':'\\ud83d\\udc41&zwj;\\ud83d\\udde8',\n  'eyeglasses':'\\ud83d\\udc53',\n  'eyes':'\\ud83d\\udc40',\n  'face_with_head_bandage':'\\ud83e\\udd15',\n  'face_with_thermometer':'\\ud83e\\udd12',\n  'fist_oncoming':'\\ud83d\\udc4a',\n  'factory':'\\ud83c\\udfed',\n  'fallen_leaf':'\\ud83c\\udf42',\n  'family_man_woman_boy':'\\ud83d\\udc6a',\n  'family_man_boy':'\\ud83d\\udc68&zwj;\\ud83d\\udc66',\n  'family_man_boy_boy':'\\ud83d\\udc68&zwj;\\ud83d\\udc66&zwj;\\ud83d\\udc66',\n  'family_man_girl':'\\ud83d\\udc68&zwj;\\ud83d\\udc67',\n  'family_man_girl_boy':'\\ud83d\\udc68&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc66',\n  'family_man_girl_girl':'\\ud83d\\udc68&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc67',\n  'family_man_man_boy':'\\ud83d\\udc68&zwj;\\ud83d\\udc68&zwj;\\ud83d\\udc66',\n  'family_man_man_boy_boy':'\\ud83d\\udc68&zwj;\\ud83d\\udc68&zwj;\\ud83d\\udc66&zwj;\\ud83d\\udc66',\n  'family_man_man_girl':'\\ud83d\\udc68&zwj;\\ud83d\\udc68&zwj;\\ud83d\\udc67',\n  'family_man_man_girl_boy':'\\ud83d\\udc68&zwj;\\ud83d\\udc68&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc66',\n  'family_man_man_girl_girl':'\\ud83d\\udc68&zwj;\\ud83d\\udc68&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc67',\n  'family_man_woman_boy_boy':'\\ud83d\\udc68&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc66&zwj;\\ud83d\\udc66',\n  'family_man_woman_girl':'\\ud83d\\udc68&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc67',\n  'family_man_woman_girl_boy':'\\ud83d\\udc68&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc66',\n  'family_man_woman_girl_girl':'\\ud83d\\udc68&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc67',\n  'family_woman_boy':'\\ud83d\\udc69&zwj;\\ud83d\\udc66',\n  'family_woman_boy_boy':'\\ud83d\\udc69&zwj;\\ud83d\\udc66&zwj;\\ud83d\\udc66',\n  'family_woman_girl':'\\ud83d\\udc69&zwj;\\ud83d\\udc67',\n  'family_woman_girl_boy':'\\ud83d\\udc69&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc66',\n  'family_woman_girl_girl':'\\ud83d\\udc69&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc67',\n  'family_woman_woman_boy':'\\ud83d\\udc69&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc66',\n  'family_woman_woman_boy_boy':'\\ud83d\\udc69&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc66&zwj;\\ud83d\\udc66',\n  'family_woman_woman_girl':'\\ud83d\\udc69&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc67',\n  'family_woman_woman_girl_boy':'\\ud83d\\udc69&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc66',\n  'family_woman_woman_girl_girl':'\\ud83d\\udc69&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc67',\n  'fast_forward':'\\u23e9',\n  'fax':'\\ud83d\\udce0',\n  'fearful':'\\ud83d\\ude28',\n  'feet':'\\ud83d\\udc3e',\n  'female_detective':'\\ud83d\\udd75\\ufe0f&zwj;\\u2640\\ufe0f',\n  'ferris_wheel':'\\ud83c\\udfa1',\n  'ferry':'\\u26f4',\n  'field_hockey':'\\ud83c\\udfd1',\n  'file_cabinet':'\\ud83d\\uddc4',\n  'file_folder':'\\ud83d\\udcc1',\n  'film_projector':'\\ud83d\\udcfd',\n  'film_strip':'\\ud83c\\udf9e',\n  'fire':'\\ud83d\\udd25',\n  'fire_engine':'\\ud83d\\ude92',\n  'fireworks':'\\ud83c\\udf86',\n  'first_quarter_moon':'\\ud83c\\udf13',\n  'first_quarter_moon_with_face':'\\ud83c\\udf1b',\n  'fish':'\\ud83d\\udc1f',\n  'fish_cake':'\\ud83c\\udf65',\n  'fishing_pole_and_fish':'\\ud83c\\udfa3',\n  'fist_raised':'\\u270a',\n  'fist_left':'\\ud83e\\udd1b',\n  'fist_right':'\\ud83e\\udd1c',\n  'flags':'\\ud83c\\udf8f',\n  'flashlight':'\\ud83d\\udd26',\n  'fleur_de_lis':'\\u269c\\ufe0f',\n  'flight_arrival':'\\ud83d\\udeec',\n  'flight_departure':'\\ud83d\\udeeb',\n  'floppy_disk':'\\ud83d\\udcbe',\n  'flower_playing_cards':'\\ud83c\\udfb4',\n  'flushed':'\\ud83d\\ude33',\n  'fog':'\\ud83c\\udf2b',\n  'foggy':'\\ud83c\\udf01',\n  'football':'\\ud83c\\udfc8',\n  'footprints':'\\ud83d\\udc63',\n  'fork_and_knife':'\\ud83c\\udf74',\n  'fountain':'\\u26f2\\ufe0f',\n  'fountain_pen':'\\ud83d\\udd8b',\n  'four_leaf_clover':'\\ud83c\\udf40',\n  'fox_face':'\\ud83e\\udd8a',\n  'framed_picture':'\\ud83d\\uddbc',\n  'free':'\\ud83c\\udd93',\n  'fried_egg':'\\ud83c\\udf73',\n  'fried_shrimp':'\\ud83c\\udf64',\n  'fries':'\\ud83c\\udf5f',\n  'frog':'\\ud83d\\udc38',\n  'frowning':'\\ud83d\\ude26',\n  'frowning_face':'\\u2639\\ufe0f',\n  'frowning_man':'\\ud83d\\ude4d&zwj;\\u2642\\ufe0f',\n  'frowning_woman':'\\ud83d\\ude4d',\n  'middle_finger':'\\ud83d\\udd95',\n  'fuelpump':'\\u26fd\\ufe0f',\n  'full_moon':'\\ud83c\\udf15',\n  'full_moon_with_face':'\\ud83c\\udf1d',\n  'funeral_urn':'\\u26b1\\ufe0f',\n  'game_die':'\\ud83c\\udfb2',\n  'gear':'\\u2699\\ufe0f',\n  'gem':'\\ud83d\\udc8e',\n  'gemini':'\\u264a\\ufe0f',\n  'ghost':'\\ud83d\\udc7b',\n  'gift':'\\ud83c\\udf81',\n  'gift_heart':'\\ud83d\\udc9d',\n  'girl':'\\ud83d\\udc67',\n  'globe_with_meridians':'\\ud83c\\udf10',\n  'goal_net':'\\ud83e\\udd45',\n  'goat':'\\ud83d\\udc10',\n  'golf':'\\u26f3\\ufe0f',\n  'golfing_man':'\\ud83c\\udfcc\\ufe0f',\n  'golfing_woman':'\\ud83c\\udfcc\\ufe0f&zwj;\\u2640\\ufe0f',\n  'gorilla':'\\ud83e\\udd8d',\n  'grapes':'\\ud83c\\udf47',\n  'green_apple':'\\ud83c\\udf4f',\n  'green_book':'\\ud83d\\udcd7',\n  'green_heart':'\\ud83d\\udc9a',\n  'green_salad':'\\ud83e\\udd57',\n  'grey_exclamation':'\\u2755',\n  'grey_question':'\\u2754',\n  'grimacing':'\\ud83d\\ude2c',\n  'grin':'\\ud83d\\ude01',\n  'grinning':'\\ud83d\\ude00',\n  'guardsman':'\\ud83d\\udc82',\n  'guardswoman':'\\ud83d\\udc82&zwj;\\u2640\\ufe0f',\n  'guitar':'\\ud83c\\udfb8',\n  'gun':'\\ud83d\\udd2b',\n  'haircut_woman':'\\ud83d\\udc87',\n  'haircut_man':'\\ud83d\\udc87&zwj;\\u2642\\ufe0f',\n  'hamburger':'\\ud83c\\udf54',\n  'hammer':'\\ud83d\\udd28',\n  'hammer_and_pick':'\\u2692',\n  'hammer_and_wrench':'\\ud83d\\udee0',\n  'hamster':'\\ud83d\\udc39',\n  'hand':'\\u270b',\n  'handbag':'\\ud83d\\udc5c',\n  'handshake':'\\ud83e\\udd1d',\n  'hankey':'\\ud83d\\udca9',\n  'hatched_chick':'\\ud83d\\udc25',\n  'hatching_chick':'\\ud83d\\udc23',\n  'headphones':'\\ud83c\\udfa7',\n  'hear_no_evil':'\\ud83d\\ude49',\n  'heart':'\\u2764\\ufe0f',\n  'heart_decoration':'\\ud83d\\udc9f',\n  'heart_eyes':'\\ud83d\\ude0d',\n  'heart_eyes_cat':'\\ud83d\\ude3b',\n  'heartbeat':'\\ud83d\\udc93',\n  'heartpulse':'\\ud83d\\udc97',\n  'hearts':'\\u2665\\ufe0f',\n  'heavy_check_mark':'\\u2714\\ufe0f',\n  'heavy_division_sign':'\\u2797',\n  'heavy_dollar_sign':'\\ud83d\\udcb2',\n  'heavy_heart_exclamation':'\\u2763\\ufe0f',\n  'heavy_minus_sign':'\\u2796',\n  'heavy_multiplication_x':'\\u2716\\ufe0f',\n  'heavy_plus_sign':'\\u2795',\n  'helicopter':'\\ud83d\\ude81',\n  'herb':'\\ud83c\\udf3f',\n  'hibiscus':'\\ud83c\\udf3a',\n  'high_brightness':'\\ud83d\\udd06',\n  'high_heel':'\\ud83d\\udc60',\n  'hocho':'\\ud83d\\udd2a',\n  'hole':'\\ud83d\\udd73',\n  'honey_pot':'\\ud83c\\udf6f',\n  'horse':'\\ud83d\\udc34',\n  'horse_racing':'\\ud83c\\udfc7',\n  'hospital':'\\ud83c\\udfe5',\n  'hot_pepper':'\\ud83c\\udf36',\n  'hotdog':'\\ud83c\\udf2d',\n  'hotel':'\\ud83c\\udfe8',\n  'hotsprings':'\\u2668\\ufe0f',\n  'hourglass':'\\u231b\\ufe0f',\n  'hourglass_flowing_sand':'\\u23f3',\n  'house':'\\ud83c\\udfe0',\n  'house_with_garden':'\\ud83c\\udfe1',\n  'houses':'\\ud83c\\udfd8',\n  'hugs':'\\ud83e\\udd17',\n  'hushed':'\\ud83d\\ude2f',\n  'ice_cream':'\\ud83c\\udf68',\n  'ice_hockey':'\\ud83c\\udfd2',\n  'ice_skate':'\\u26f8',\n  'icecream':'\\ud83c\\udf66',\n  'id':'\\ud83c\\udd94',\n  'ideograph_advantage':'\\ud83c\\ude50',\n  'imp':'\\ud83d\\udc7f',\n  'inbox_tray':'\\ud83d\\udce5',\n  'incoming_envelope':'\\ud83d\\udce8',\n  'tipping_hand_woman':'\\ud83d\\udc81',\n  'information_source':'\\u2139\\ufe0f',\n  'innocent':'\\ud83d\\ude07',\n  'interrobang':'\\u2049\\ufe0f',\n  'iphone':'\\ud83d\\udcf1',\n  'izakaya_lantern':'\\ud83c\\udfee',\n  'jack_o_lantern':'\\ud83c\\udf83',\n  'japan':'\\ud83d\\uddfe',\n  'japanese_castle':'\\ud83c\\udfef',\n  'japanese_goblin':'\\ud83d\\udc7a',\n  'japanese_ogre':'\\ud83d\\udc79',\n  'jeans':'\\ud83d\\udc56',\n  'joy':'\\ud83d\\ude02',\n  'joy_cat':'\\ud83d\\ude39',\n  'joystick':'\\ud83d\\udd79',\n  'kaaba':'\\ud83d\\udd4b',\n  'key':'\\ud83d\\udd11',\n  'keyboard':'\\u2328\\ufe0f',\n  'keycap_ten':'\\ud83d\\udd1f',\n  'kick_scooter':'\\ud83d\\udef4',\n  'kimono':'\\ud83d\\udc58',\n  'kiss':'\\ud83d\\udc8b',\n  'kissing':'\\ud83d\\ude17',\n  'kissing_cat':'\\ud83d\\ude3d',\n  'kissing_closed_eyes':'\\ud83d\\ude1a',\n  'kissing_heart':'\\ud83d\\ude18',\n  'kissing_smiling_eyes':'\\ud83d\\ude19',\n  'kiwi_fruit':'\\ud83e\\udd5d',\n  'koala':'\\ud83d\\udc28',\n  'koko':'\\ud83c\\ude01',\n  'label':'\\ud83c\\udff7',\n  'large_blue_circle':'\\ud83d\\udd35',\n  'large_blue_diamond':'\\ud83d\\udd37',\n  'large_orange_diamond':'\\ud83d\\udd36',\n  'last_quarter_moon':'\\ud83c\\udf17',\n  'last_quarter_moon_with_face':'\\ud83c\\udf1c',\n  'latin_cross':'\\u271d\\ufe0f',\n  'laughing':'\\ud83d\\ude06',\n  'leaves':'\\ud83c\\udf43',\n  'ledger':'\\ud83d\\udcd2',\n  'left_luggage':'\\ud83d\\udec5',\n  'left_right_arrow':'\\u2194\\ufe0f',\n  'leftwards_arrow_with_hook':'\\u21a9\\ufe0f',\n  'lemon':'\\ud83c\\udf4b',\n  'leo':'\\u264c\\ufe0f',\n  'leopard':'\\ud83d\\udc06',\n  'level_slider':'\\ud83c\\udf9a',\n  'libra':'\\u264e\\ufe0f',\n  'light_rail':'\\ud83d\\ude88',\n  'link':'\\ud83d\\udd17',\n  'lion':'\\ud83e\\udd81',\n  'lips':'\\ud83d\\udc44',\n  'lipstick':'\\ud83d\\udc84',\n  'lizard':'\\ud83e\\udd8e',\n  'lock':'\\ud83d\\udd12',\n  'lock_with_ink_pen':'\\ud83d\\udd0f',\n  'lollipop':'\\ud83c\\udf6d',\n  'loop':'\\u27bf',\n  'loud_sound':'\\ud83d\\udd0a',\n  'loudspeaker':'\\ud83d\\udce2',\n  'love_hotel':'\\ud83c\\udfe9',\n  'love_letter':'\\ud83d\\udc8c',\n  'low_brightness':'\\ud83d\\udd05',\n  'lying_face':'\\ud83e\\udd25',\n  'm':'\\u24c2\\ufe0f',\n  'mag':'\\ud83d\\udd0d',\n  'mag_right':'\\ud83d\\udd0e',\n  'mahjong':'\\ud83c\\udc04\\ufe0f',\n  'mailbox':'\\ud83d\\udceb',\n  'mailbox_closed':'\\ud83d\\udcea',\n  'mailbox_with_mail':'\\ud83d\\udcec',\n  'mailbox_with_no_mail':'\\ud83d\\udced',\n  'man':'\\ud83d\\udc68',\n  'man_artist':'\\ud83d\\udc68&zwj;\\ud83c\\udfa8',\n  'man_astronaut':'\\ud83d\\udc68&zwj;\\ud83d\\ude80',\n  'man_cartwheeling':'\\ud83e\\udd38&zwj;\\u2642\\ufe0f',\n  'man_cook':'\\ud83d\\udc68&zwj;\\ud83c\\udf73',\n  'man_dancing':'\\ud83d\\udd7a',\n  'man_facepalming':'\\ud83e\\udd26&zwj;\\u2642\\ufe0f',\n  'man_factory_worker':'\\ud83d\\udc68&zwj;\\ud83c\\udfed',\n  'man_farmer':'\\ud83d\\udc68&zwj;\\ud83c\\udf3e',\n  'man_firefighter':'\\ud83d\\udc68&zwj;\\ud83d\\ude92',\n  'man_health_worker':'\\ud83d\\udc68&zwj;\\u2695\\ufe0f',\n  'man_in_tuxedo':'\\ud83e\\udd35',\n  'man_judge':'\\ud83d\\udc68&zwj;\\u2696\\ufe0f',\n  'man_juggling':'\\ud83e\\udd39&zwj;\\u2642\\ufe0f',\n  'man_mechanic':'\\ud83d\\udc68&zwj;\\ud83d\\udd27',\n  'man_office_worker':'\\ud83d\\udc68&zwj;\\ud83d\\udcbc',\n  'man_pilot':'\\ud83d\\udc68&zwj;\\u2708\\ufe0f',\n  'man_playing_handball':'\\ud83e\\udd3e&zwj;\\u2642\\ufe0f',\n  'man_playing_water_polo':'\\ud83e\\udd3d&zwj;\\u2642\\ufe0f',\n  'man_scientist':'\\ud83d\\udc68&zwj;\\ud83d\\udd2c',\n  'man_shrugging':'\\ud83e\\udd37&zwj;\\u2642\\ufe0f',\n  'man_singer':'\\ud83d\\udc68&zwj;\\ud83c\\udfa4',\n  'man_student':'\\ud83d\\udc68&zwj;\\ud83c\\udf93',\n  'man_teacher':'\\ud83d\\udc68&zwj;\\ud83c\\udfeb',\n  'man_technologist':'\\ud83d\\udc68&zwj;\\ud83d\\udcbb',\n  'man_with_gua_pi_mao':'\\ud83d\\udc72',\n  'man_with_turban':'\\ud83d\\udc73',\n  'tangerine':'\\ud83c\\udf4a',\n  'mans_shoe':'\\ud83d\\udc5e',\n  'mantelpiece_clock':'\\ud83d\\udd70',\n  'maple_leaf':'\\ud83c\\udf41',\n  'martial_arts_uniform':'\\ud83e\\udd4b',\n  'mask':'\\ud83d\\ude37',\n  'massage_woman':'\\ud83d\\udc86',\n  'massage_man':'\\ud83d\\udc86&zwj;\\u2642\\ufe0f',\n  'meat_on_bone':'\\ud83c\\udf56',\n  'medal_military':'\\ud83c\\udf96',\n  'medal_sports':'\\ud83c\\udfc5',\n  'mega':'\\ud83d\\udce3',\n  'melon':'\\ud83c\\udf48',\n  'memo':'\\ud83d\\udcdd',\n  'men_wrestling':'\\ud83e\\udd3c&zwj;\\u2642\\ufe0f',\n  'menorah':'\\ud83d\\udd4e',\n  'mens':'\\ud83d\\udeb9',\n  'metal':'\\ud83e\\udd18',\n  'metro':'\\ud83d\\ude87',\n  'microphone':'\\ud83c\\udfa4',\n  'microscope':'\\ud83d\\udd2c',\n  'milk_glass':'\\ud83e\\udd5b',\n  'milky_way':'\\ud83c\\udf0c',\n  'minibus':'\\ud83d\\ude90',\n  'minidisc':'\\ud83d\\udcbd',\n  'mobile_phone_off':'\\ud83d\\udcf4',\n  'money_mouth_face':'\\ud83e\\udd11',\n  'money_with_wings':'\\ud83d\\udcb8',\n  'moneybag':'\\ud83d\\udcb0',\n  'monkey':'\\ud83d\\udc12',\n  'monkey_face':'\\ud83d\\udc35',\n  'monorail':'\\ud83d\\ude9d',\n  'moon':'\\ud83c\\udf14',\n  'mortar_board':'\\ud83c\\udf93',\n  'mosque':'\\ud83d\\udd4c',\n  'motor_boat':'\\ud83d\\udee5',\n  'motor_scooter':'\\ud83d\\udef5',\n  'motorcycle':'\\ud83c\\udfcd',\n  'motorway':'\\ud83d\\udee3',\n  'mount_fuji':'\\ud83d\\uddfb',\n  'mountain':'\\u26f0',\n  'mountain_biking_man':'\\ud83d\\udeb5',\n  'mountain_biking_woman':'\\ud83d\\udeb5&zwj;\\u2640\\ufe0f',\n  'mountain_cableway':'\\ud83d\\udea0',\n  'mountain_railway':'\\ud83d\\ude9e',\n  'mountain_snow':'\\ud83c\\udfd4',\n  'mouse':'\\ud83d\\udc2d',\n  'mouse2':'\\ud83d\\udc01',\n  'movie_camera':'\\ud83c\\udfa5',\n  'moyai':'\\ud83d\\uddff',\n  'mrs_claus':'\\ud83e\\udd36',\n  'muscle':'\\ud83d\\udcaa',\n  'mushroom':'\\ud83c\\udf44',\n  'musical_keyboard':'\\ud83c\\udfb9',\n  'musical_note':'\\ud83c\\udfb5',\n  'musical_score':'\\ud83c\\udfbc',\n  'mute':'\\ud83d\\udd07',\n  'nail_care':'\\ud83d\\udc85',\n  'name_badge':'\\ud83d\\udcdb',\n  'national_park':'\\ud83c\\udfde',\n  'nauseated_face':'\\ud83e\\udd22',\n  'necktie':'\\ud83d\\udc54',\n  'negative_squared_cross_mark':'\\u274e',\n  'nerd_face':'\\ud83e\\udd13',\n  'neutral_face':'\\ud83d\\ude10',\n  'new':'\\ud83c\\udd95',\n  'new_moon':'\\ud83c\\udf11',\n  'new_moon_with_face':'\\ud83c\\udf1a',\n  'newspaper':'\\ud83d\\udcf0',\n  'newspaper_roll':'\\ud83d\\uddde',\n  'next_track_button':'\\u23ed',\n  'ng':'\\ud83c\\udd96',\n  'no_good_man':'\\ud83d\\ude45&zwj;\\u2642\\ufe0f',\n  'no_good_woman':'\\ud83d\\ude45',\n  'night_with_stars':'\\ud83c\\udf03',\n  'no_bell':'\\ud83d\\udd15',\n  'no_bicycles':'\\ud83d\\udeb3',\n  'no_entry':'\\u26d4\\ufe0f',\n  'no_entry_sign':'\\ud83d\\udeab',\n  'no_mobile_phones':'\\ud83d\\udcf5',\n  'no_mouth':'\\ud83d\\ude36',\n  'no_pedestrians':'\\ud83d\\udeb7',\n  'no_smoking':'\\ud83d\\udead',\n  'non-potable_water':'\\ud83d\\udeb1',\n  'nose':'\\ud83d\\udc43',\n  'notebook':'\\ud83d\\udcd3',\n  'notebook_with_decorative_cover':'\\ud83d\\udcd4',\n  'notes':'\\ud83c\\udfb6',\n  'nut_and_bolt':'\\ud83d\\udd29',\n  'o':'\\u2b55\\ufe0f',\n  'o2':'\\ud83c\\udd7e\\ufe0f',\n  'ocean':'\\ud83c\\udf0a',\n  'octopus':'\\ud83d\\udc19',\n  'oden':'\\ud83c\\udf62',\n  'office':'\\ud83c\\udfe2',\n  'oil_drum':'\\ud83d\\udee2',\n  'ok':'\\ud83c\\udd97',\n  'ok_hand':'\\ud83d\\udc4c',\n  'ok_man':'\\ud83d\\ude46&zwj;\\u2642\\ufe0f',\n  'ok_woman':'\\ud83d\\ude46',\n  'old_key':'\\ud83d\\udddd',\n  'older_man':'\\ud83d\\udc74',\n  'older_woman':'\\ud83d\\udc75',\n  'om':'\\ud83d\\udd49',\n  'on':'\\ud83d\\udd1b',\n  'oncoming_automobile':'\\ud83d\\ude98',\n  'oncoming_bus':'\\ud83d\\ude8d',\n  'oncoming_police_car':'\\ud83d\\ude94',\n  'oncoming_taxi':'\\ud83d\\ude96',\n  'open_file_folder':'\\ud83d\\udcc2',\n  'open_hands':'\\ud83d\\udc50',\n  'open_mouth':'\\ud83d\\ude2e',\n  'open_umbrella':'\\u2602\\ufe0f',\n  'ophiuchus':'\\u26ce',\n  'orange_book':'\\ud83d\\udcd9',\n  'orthodox_cross':'\\u2626\\ufe0f',\n  'outbox_tray':'\\ud83d\\udce4',\n  'owl':'\\ud83e\\udd89',\n  'ox':'\\ud83d\\udc02',\n  'package':'\\ud83d\\udce6',\n  'page_facing_up':'\\ud83d\\udcc4',\n  'page_with_curl':'\\ud83d\\udcc3',\n  'pager':'\\ud83d\\udcdf',\n  'paintbrush':'\\ud83d\\udd8c',\n  'palm_tree':'\\ud83c\\udf34',\n  'pancakes':'\\ud83e\\udd5e',\n  'panda_face':'\\ud83d\\udc3c',\n  'paperclip':'\\ud83d\\udcce',\n  'paperclips':'\\ud83d\\udd87',\n  'parasol_on_ground':'\\u26f1',\n  'parking':'\\ud83c\\udd7f\\ufe0f',\n  'part_alternation_mark':'\\u303d\\ufe0f',\n  'partly_sunny':'\\u26c5\\ufe0f',\n  'passenger_ship':'\\ud83d\\udef3',\n  'passport_control':'\\ud83d\\udec2',\n  'pause_button':'\\u23f8',\n  'peace_symbol':'\\u262e\\ufe0f',\n  'peach':'\\ud83c\\udf51',\n  'peanuts':'\\ud83e\\udd5c',\n  'pear':'\\ud83c\\udf50',\n  'pen':'\\ud83d\\udd8a',\n  'pencil2':'\\u270f\\ufe0f',\n  'penguin':'\\ud83d\\udc27',\n  'pensive':'\\ud83d\\ude14',\n  'performing_arts':'\\ud83c\\udfad',\n  'persevere':'\\ud83d\\ude23',\n  'person_fencing':'\\ud83e\\udd3a',\n  'pouting_woman':'\\ud83d\\ude4e',\n  'phone':'\\u260e\\ufe0f',\n  'pick':'\\u26cf',\n  'pig':'\\ud83d\\udc37',\n  'pig2':'\\ud83d\\udc16',\n  'pig_nose':'\\ud83d\\udc3d',\n  'pill':'\\ud83d\\udc8a',\n  'pineapple':'\\ud83c\\udf4d',\n  'ping_pong':'\\ud83c\\udfd3',\n  'pisces':'\\u2653\\ufe0f',\n  'pizza':'\\ud83c\\udf55',\n  'place_of_worship':'\\ud83d\\uded0',\n  'plate_with_cutlery':'\\ud83c\\udf7d',\n  'play_or_pause_button':'\\u23ef',\n  'point_down':'\\ud83d\\udc47',\n  'point_left':'\\ud83d\\udc48',\n  'point_right':'\\ud83d\\udc49',\n  'point_up':'\\u261d\\ufe0f',\n  'point_up_2':'\\ud83d\\udc46',\n  'police_car':'\\ud83d\\ude93',\n  'policewoman':'\\ud83d\\udc6e&zwj;\\u2640\\ufe0f',\n  'poodle':'\\ud83d\\udc29',\n  'popcorn':'\\ud83c\\udf7f',\n  'post_office':'\\ud83c\\udfe3',\n  'postal_horn':'\\ud83d\\udcef',\n  'postbox':'\\ud83d\\udcee',\n  'potable_water':'\\ud83d\\udeb0',\n  'potato':'\\ud83e\\udd54',\n  'pouch':'\\ud83d\\udc5d',\n  'poultry_leg':'\\ud83c\\udf57',\n  'pound':'\\ud83d\\udcb7',\n  'rage':'\\ud83d\\ude21',\n  'pouting_cat':'\\ud83d\\ude3e',\n  'pouting_man':'\\ud83d\\ude4e&zwj;\\u2642\\ufe0f',\n  'pray':'\\ud83d\\ude4f',\n  'prayer_beads':'\\ud83d\\udcff',\n  'pregnant_woman':'\\ud83e\\udd30',\n  'previous_track_button':'\\u23ee',\n  'prince':'\\ud83e\\udd34',\n  'princess':'\\ud83d\\udc78',\n  'printer':'\\ud83d\\udda8',\n  'purple_heart':'\\ud83d\\udc9c',\n  'purse':'\\ud83d\\udc5b',\n  'pushpin':'\\ud83d\\udccc',\n  'put_litter_in_its_place':'\\ud83d\\udeae',\n  'question':'\\u2753',\n  'rabbit':'\\ud83d\\udc30',\n  'rabbit2':'\\ud83d\\udc07',\n  'racehorse':'\\ud83d\\udc0e',\n  'racing_car':'\\ud83c\\udfce',\n  'radio':'\\ud83d\\udcfb',\n  'radio_button':'\\ud83d\\udd18',\n  'radioactive':'\\u2622\\ufe0f',\n  'railway_car':'\\ud83d\\ude83',\n  'railway_track':'\\ud83d\\udee4',\n  'rainbow':'\\ud83c\\udf08',\n  'rainbow_flag':'\\ud83c\\udff3\\ufe0f&zwj;\\ud83c\\udf08',\n  'raised_back_of_hand':'\\ud83e\\udd1a',\n  'raised_hand_with_fingers_splayed':'\\ud83d\\udd90',\n  'raised_hands':'\\ud83d\\ude4c',\n  'raising_hand_woman':'\\ud83d\\ude4b',\n  'raising_hand_man':'\\ud83d\\ude4b&zwj;\\u2642\\ufe0f',\n  'ram':'\\ud83d\\udc0f',\n  'ramen':'\\ud83c\\udf5c',\n  'rat':'\\ud83d\\udc00',\n  'record_button':'\\u23fa',\n  'recycle':'\\u267b\\ufe0f',\n  'red_circle':'\\ud83d\\udd34',\n  'registered':'\\u00ae\\ufe0f',\n  'relaxed':'\\u263a\\ufe0f',\n  'relieved':'\\ud83d\\ude0c',\n  'reminder_ribbon':'\\ud83c\\udf97',\n  'repeat':'\\ud83d\\udd01',\n  'repeat_one':'\\ud83d\\udd02',\n  'rescue_worker_helmet':'\\u26d1',\n  'restroom':'\\ud83d\\udebb',\n  'revolving_hearts':'\\ud83d\\udc9e',\n  'rewind':'\\u23ea',\n  'rhinoceros':'\\ud83e\\udd8f',\n  'ribbon':'\\ud83c\\udf80',\n  'rice':'\\ud83c\\udf5a',\n  'rice_ball':'\\ud83c\\udf59',\n  'rice_cracker':'\\ud83c\\udf58',\n  'rice_scene':'\\ud83c\\udf91',\n  'right_anger_bubble':'\\ud83d\\uddef',\n  'ring':'\\ud83d\\udc8d',\n  'robot':'\\ud83e\\udd16',\n  'rocket':'\\ud83d\\ude80',\n  'rofl':'\\ud83e\\udd23',\n  'roll_eyes':'\\ud83d\\ude44',\n  'roller_coaster':'\\ud83c\\udfa2',\n  'rooster':'\\ud83d\\udc13',\n  'rose':'\\ud83c\\udf39',\n  'rosette':'\\ud83c\\udff5',\n  'rotating_light':'\\ud83d\\udea8',\n  'round_pushpin':'\\ud83d\\udccd',\n  'rowing_man':'\\ud83d\\udea3',\n  'rowing_woman':'\\ud83d\\udea3&zwj;\\u2640\\ufe0f',\n  'rugby_football':'\\ud83c\\udfc9',\n  'running_man':'\\ud83c\\udfc3',\n  'running_shirt_with_sash':'\\ud83c\\udfbd',\n  'running_woman':'\\ud83c\\udfc3&zwj;\\u2640\\ufe0f',\n  'sa':'\\ud83c\\ude02\\ufe0f',\n  'sagittarius':'\\u2650\\ufe0f',\n  'sake':'\\ud83c\\udf76',\n  'sandal':'\\ud83d\\udc61',\n  'santa':'\\ud83c\\udf85',\n  'satellite':'\\ud83d\\udce1',\n  'saxophone':'\\ud83c\\udfb7',\n  'school':'\\ud83c\\udfeb',\n  'school_satchel':'\\ud83c\\udf92',\n  'scissors':'\\u2702\\ufe0f',\n  'scorpion':'\\ud83e\\udd82',\n  'scorpius':'\\u264f\\ufe0f',\n  'scream':'\\ud83d\\ude31',\n  'scream_cat':'\\ud83d\\ude40',\n  'scroll':'\\ud83d\\udcdc',\n  'seat':'\\ud83d\\udcba',\n  'secret':'\\u3299\\ufe0f',\n  'see_no_evil':'\\ud83d\\ude48',\n  'seedling':'\\ud83c\\udf31',\n  'selfie':'\\ud83e\\udd33',\n  'shallow_pan_of_food':'\\ud83e\\udd58',\n  'shamrock':'\\u2618\\ufe0f',\n  'shark':'\\ud83e\\udd88',\n  'shaved_ice':'\\ud83c\\udf67',\n  'sheep':'\\ud83d\\udc11',\n  'shell':'\\ud83d\\udc1a',\n  'shield':'\\ud83d\\udee1',\n  'shinto_shrine':'\\u26e9',\n  'ship':'\\ud83d\\udea2',\n  'shirt':'\\ud83d\\udc55',\n  'shopping':'\\ud83d\\udecd',\n  'shopping_cart':'\\ud83d\\uded2',\n  'shower':'\\ud83d\\udebf',\n  'shrimp':'\\ud83e\\udd90',\n  'signal_strength':'\\ud83d\\udcf6',\n  'six_pointed_star':'\\ud83d\\udd2f',\n  'ski':'\\ud83c\\udfbf',\n  'skier':'\\u26f7',\n  'skull':'\\ud83d\\udc80',\n  'skull_and_crossbones':'\\u2620\\ufe0f',\n  'sleeping':'\\ud83d\\ude34',\n  'sleeping_bed':'\\ud83d\\udecc',\n  'sleepy':'\\ud83d\\ude2a',\n  'slightly_frowning_face':'\\ud83d\\ude41',\n  'slightly_smiling_face':'\\ud83d\\ude42',\n  'slot_machine':'\\ud83c\\udfb0',\n  'small_airplane':'\\ud83d\\udee9',\n  'small_blue_diamond':'\\ud83d\\udd39',\n  'small_orange_diamond':'\\ud83d\\udd38',\n  'small_red_triangle':'\\ud83d\\udd3a',\n  'small_red_triangle_down':'\\ud83d\\udd3b',\n  'smile':'\\ud83d\\ude04',\n  'smile_cat':'\\ud83d\\ude38',\n  'smiley':'\\ud83d\\ude03',\n  'smiley_cat':'\\ud83d\\ude3a',\n  'smiling_imp':'\\ud83d\\ude08',\n  'smirk':'\\ud83d\\ude0f',\n  'smirk_cat':'\\ud83d\\ude3c',\n  'smoking':'\\ud83d\\udeac',\n  'snail':'\\ud83d\\udc0c',\n  'snake':'\\ud83d\\udc0d',\n  'sneezing_face':'\\ud83e\\udd27',\n  'snowboarder':'\\ud83c\\udfc2',\n  'snowflake':'\\u2744\\ufe0f',\n  'snowman':'\\u26c4\\ufe0f',\n  'snowman_with_snow':'\\u2603\\ufe0f',\n  'sob':'\\ud83d\\ude2d',\n  'soccer':'\\u26bd\\ufe0f',\n  'soon':'\\ud83d\\udd1c',\n  'sos':'\\ud83c\\udd98',\n  'sound':'\\ud83d\\udd09',\n  'space_invader':'\\ud83d\\udc7e',\n  'spades':'\\u2660\\ufe0f',\n  'spaghetti':'\\ud83c\\udf5d',\n  'sparkle':'\\u2747\\ufe0f',\n  'sparkler':'\\ud83c\\udf87',\n  'sparkles':'\\u2728',\n  'sparkling_heart':'\\ud83d\\udc96',\n  'speak_no_evil':'\\ud83d\\ude4a',\n  'speaker':'\\ud83d\\udd08',\n  'speaking_head':'\\ud83d\\udde3',\n  'speech_balloon':'\\ud83d\\udcac',\n  'speedboat':'\\ud83d\\udea4',\n  'spider':'\\ud83d\\udd77',\n  'spider_web':'\\ud83d\\udd78',\n  'spiral_calendar':'\\ud83d\\uddd3',\n  'spiral_notepad':'\\ud83d\\uddd2',\n  'spoon':'\\ud83e\\udd44',\n  'squid':'\\ud83e\\udd91',\n  'stadium':'\\ud83c\\udfdf',\n  'star':'\\u2b50\\ufe0f',\n  'star2':'\\ud83c\\udf1f',\n  'star_and_crescent':'\\u262a\\ufe0f',\n  'star_of_david':'\\u2721\\ufe0f',\n  'stars':'\\ud83c\\udf20',\n  'station':'\\ud83d\\ude89',\n  'statue_of_liberty':'\\ud83d\\uddfd',\n  'steam_locomotive':'\\ud83d\\ude82',\n  'stew':'\\ud83c\\udf72',\n  'stop_button':'\\u23f9',\n  'stop_sign':'\\ud83d\\uded1',\n  'stopwatch':'\\u23f1',\n  'straight_ruler':'\\ud83d\\udccf',\n  'strawberry':'\\ud83c\\udf53',\n  'stuck_out_tongue':'\\ud83d\\ude1b',\n  'stuck_out_tongue_closed_eyes':'\\ud83d\\ude1d',\n  'stuck_out_tongue_winking_eye':'\\ud83d\\ude1c',\n  'studio_microphone':'\\ud83c\\udf99',\n  'stuffed_flatbread':'\\ud83e\\udd59',\n  'sun_behind_large_cloud':'\\ud83c\\udf25',\n  'sun_behind_rain_cloud':'\\ud83c\\udf26',\n  'sun_behind_small_cloud':'\\ud83c\\udf24',\n  'sun_with_face':'\\ud83c\\udf1e',\n  'sunflower':'\\ud83c\\udf3b',\n  'sunglasses':'\\ud83d\\ude0e',\n  'sunny':'\\u2600\\ufe0f',\n  'sunrise':'\\ud83c\\udf05',\n  'sunrise_over_mountains':'\\ud83c\\udf04',\n  'surfing_man':'\\ud83c\\udfc4',\n  'surfing_woman':'\\ud83c\\udfc4&zwj;\\u2640\\ufe0f',\n  'sushi':'\\ud83c\\udf63',\n  'suspension_railway':'\\ud83d\\ude9f',\n  'sweat':'\\ud83d\\ude13',\n  'sweat_drops':'\\ud83d\\udca6',\n  'sweat_smile':'\\ud83d\\ude05',\n  'sweet_potato':'\\ud83c\\udf60',\n  'swimming_man':'\\ud83c\\udfca',\n  'swimming_woman':'\\ud83c\\udfca&zwj;\\u2640\\ufe0f',\n  'symbols':'\\ud83d\\udd23',\n  'synagogue':'\\ud83d\\udd4d',\n  'syringe':'\\ud83d\\udc89',\n  'taco':'\\ud83c\\udf2e',\n  'tada':'\\ud83c\\udf89',\n  'tanabata_tree':'\\ud83c\\udf8b',\n  'taurus':'\\u2649\\ufe0f',\n  'taxi':'\\ud83d\\ude95',\n  'tea':'\\ud83c\\udf75',\n  'telephone_receiver':'\\ud83d\\udcde',\n  'telescope':'\\ud83d\\udd2d',\n  'tennis':'\\ud83c\\udfbe',\n  'tent':'\\u26fa\\ufe0f',\n  'thermometer':'\\ud83c\\udf21',\n  'thinking':'\\ud83e\\udd14',\n  'thought_balloon':'\\ud83d\\udcad',\n  'ticket':'\\ud83c\\udfab',\n  'tickets':'\\ud83c\\udf9f',\n  'tiger':'\\ud83d\\udc2f',\n  'tiger2':'\\ud83d\\udc05',\n  'timer_clock':'\\u23f2',\n  'tipping_hand_man':'\\ud83d\\udc81&zwj;\\u2642\\ufe0f',\n  'tired_face':'\\ud83d\\ude2b',\n  'tm':'\\u2122\\ufe0f',\n  'toilet':'\\ud83d\\udebd',\n  'tokyo_tower':'\\ud83d\\uddfc',\n  'tomato':'\\ud83c\\udf45',\n  'tongue':'\\ud83d\\udc45',\n  'top':'\\ud83d\\udd1d',\n  'tophat':'\\ud83c\\udfa9',\n  'tornado':'\\ud83c\\udf2a',\n  'trackball':'\\ud83d\\uddb2',\n  'tractor':'\\ud83d\\ude9c',\n  'traffic_light':'\\ud83d\\udea5',\n  'train':'\\ud83d\\ude8b',\n  'train2':'\\ud83d\\ude86',\n  'tram':'\\ud83d\\ude8a',\n  'triangular_flag_on_post':'\\ud83d\\udea9',\n  'triangular_ruler':'\\ud83d\\udcd0',\n  'trident':'\\ud83d\\udd31',\n  'triumph':'\\ud83d\\ude24',\n  'trolleybus':'\\ud83d\\ude8e',\n  'trophy':'\\ud83c\\udfc6',\n  'tropical_drink':'\\ud83c\\udf79',\n  'tropical_fish':'\\ud83d\\udc20',\n  'truck':'\\ud83d\\ude9a',\n  'trumpet':'\\ud83c\\udfba',\n  'tulip':'\\ud83c\\udf37',\n  'tumbler_glass':'\\ud83e\\udd43',\n  'turkey':'\\ud83e\\udd83',\n  'turtle':'\\ud83d\\udc22',\n  'tv':'\\ud83d\\udcfa',\n  'twisted_rightwards_arrows':'\\ud83d\\udd00',\n  'two_hearts':'\\ud83d\\udc95',\n  'two_men_holding_hands':'\\ud83d\\udc6c',\n  'two_women_holding_hands':'\\ud83d\\udc6d',\n  'u5272':'\\ud83c\\ude39',\n  'u5408':'\\ud83c\\ude34',\n  'u55b6':'\\ud83c\\ude3a',\n  'u6307':'\\ud83c\\ude2f\\ufe0f',\n  'u6708':'\\ud83c\\ude37\\ufe0f',\n  'u6709':'\\ud83c\\ude36',\n  'u6e80':'\\ud83c\\ude35',\n  'u7121':'\\ud83c\\ude1a\\ufe0f',\n  'u7533':'\\ud83c\\ude38',\n  'u7981':'\\ud83c\\ude32',\n  'u7a7a':'\\ud83c\\ude33',\n  'umbrella':'\\u2614\\ufe0f',\n  'unamused':'\\ud83d\\ude12',\n  'underage':'\\ud83d\\udd1e',\n  'unicorn':'\\ud83e\\udd84',\n  'unlock':'\\ud83d\\udd13',\n  'up':'\\ud83c\\udd99',\n  'upside_down_face':'\\ud83d\\ude43',\n  'v':'\\u270c\\ufe0f',\n  'vertical_traffic_light':'\\ud83d\\udea6',\n  'vhs':'\\ud83d\\udcfc',\n  'vibration_mode':'\\ud83d\\udcf3',\n  'video_camera':'\\ud83d\\udcf9',\n  'video_game':'\\ud83c\\udfae',\n  'violin':'\\ud83c\\udfbb',\n  'virgo':'\\u264d\\ufe0f',\n  'volcano':'\\ud83c\\udf0b',\n  'volleyball':'\\ud83c\\udfd0',\n  'vs':'\\ud83c\\udd9a',\n  'vulcan_salute':'\\ud83d\\udd96',\n  'walking_man':'\\ud83d\\udeb6',\n  'walking_woman':'\\ud83d\\udeb6&zwj;\\u2640\\ufe0f',\n  'waning_crescent_moon':'\\ud83c\\udf18',\n  'waning_gibbous_moon':'\\ud83c\\udf16',\n  'warning':'\\u26a0\\ufe0f',\n  'wastebasket':'\\ud83d\\uddd1',\n  'watch':'\\u231a\\ufe0f',\n  'water_buffalo':'\\ud83d\\udc03',\n  'watermelon':'\\ud83c\\udf49',\n  'wave':'\\ud83d\\udc4b',\n  'wavy_dash':'\\u3030\\ufe0f',\n  'waxing_crescent_moon':'\\ud83c\\udf12',\n  'wc':'\\ud83d\\udebe',\n  'weary':'\\ud83d\\ude29',\n  'wedding':'\\ud83d\\udc92',\n  'weight_lifting_man':'\\ud83c\\udfcb\\ufe0f',\n  'weight_lifting_woman':'\\ud83c\\udfcb\\ufe0f&zwj;\\u2640\\ufe0f',\n  'whale':'\\ud83d\\udc33',\n  'whale2':'\\ud83d\\udc0b',\n  'wheel_of_dharma':'\\u2638\\ufe0f',\n  'wheelchair':'\\u267f\\ufe0f',\n  'white_check_mark':'\\u2705',\n  'white_circle':'\\u26aa\\ufe0f',\n  'white_flag':'\\ud83c\\udff3\\ufe0f',\n  'white_flower':'\\ud83d\\udcae',\n  'white_large_square':'\\u2b1c\\ufe0f',\n  'white_medium_small_square':'\\u25fd\\ufe0f',\n  'white_medium_square':'\\u25fb\\ufe0f',\n  'white_small_square':'\\u25ab\\ufe0f',\n  'white_square_button':'\\ud83d\\udd33',\n  'wilted_flower':'\\ud83e\\udd40',\n  'wind_chime':'\\ud83c\\udf90',\n  'wind_face':'\\ud83c\\udf2c',\n  'wine_glass':'\\ud83c\\udf77',\n  'wink':'\\ud83d\\ude09',\n  'wolf':'\\ud83d\\udc3a',\n  'woman':'\\ud83d\\udc69',\n  'woman_artist':'\\ud83d\\udc69&zwj;\\ud83c\\udfa8',\n  'woman_astronaut':'\\ud83d\\udc69&zwj;\\ud83d\\ude80',\n  'woman_cartwheeling':'\\ud83e\\udd38&zwj;\\u2640\\ufe0f',\n  'woman_cook':'\\ud83d\\udc69&zwj;\\ud83c\\udf73',\n  'woman_facepalming':'\\ud83e\\udd26&zwj;\\u2640\\ufe0f',\n  'woman_factory_worker':'\\ud83d\\udc69&zwj;\\ud83c\\udfed',\n  'woman_farmer':'\\ud83d\\udc69&zwj;\\ud83c\\udf3e',\n  'woman_firefighter':'\\ud83d\\udc69&zwj;\\ud83d\\ude92',\n  'woman_health_worker':'\\ud83d\\udc69&zwj;\\u2695\\ufe0f',\n  'woman_judge':'\\ud83d\\udc69&zwj;\\u2696\\ufe0f',\n  'woman_juggling':'\\ud83e\\udd39&zwj;\\u2640\\ufe0f',\n  'woman_mechanic':'\\ud83d\\udc69&zwj;\\ud83d\\udd27',\n  'woman_office_worker':'\\ud83d\\udc69&zwj;\\ud83d\\udcbc',\n  'woman_pilot':'\\ud83d\\udc69&zwj;\\u2708\\ufe0f',\n  'woman_playing_handball':'\\ud83e\\udd3e&zwj;\\u2640\\ufe0f',\n  'woman_playing_water_polo':'\\ud83e\\udd3d&zwj;\\u2640\\ufe0f',\n  'woman_scientist':'\\ud83d\\udc69&zwj;\\ud83d\\udd2c',\n  'woman_shrugging':'\\ud83e\\udd37&zwj;\\u2640\\ufe0f',\n  'woman_singer':'\\ud83d\\udc69&zwj;\\ud83c\\udfa4',\n  'woman_student':'\\ud83d\\udc69&zwj;\\ud83c\\udf93',\n  'woman_teacher':'\\ud83d\\udc69&zwj;\\ud83c\\udfeb',\n  'woman_technologist':'\\ud83d\\udc69&zwj;\\ud83d\\udcbb',\n  'woman_with_turban':'\\ud83d\\udc73&zwj;\\u2640\\ufe0f',\n  'womans_clothes':'\\ud83d\\udc5a',\n  'womans_hat':'\\ud83d\\udc52',\n  'women_wrestling':'\\ud83e\\udd3c&zwj;\\u2640\\ufe0f',\n  'womens':'\\ud83d\\udeba',\n  'world_map':'\\ud83d\\uddfa',\n  'worried':'\\ud83d\\ude1f',\n  'wrench':'\\ud83d\\udd27',\n  'writing_hand':'\\u270d\\ufe0f',\n  'x':'\\u274c',\n  'yellow_heart':'\\ud83d\\udc9b',\n  'yen':'\\ud83d\\udcb4',\n  'yin_yang':'\\u262f\\ufe0f',\n  'yum':'\\ud83d\\ude0b',\n  'zap':'\\u26a1\\ufe0f',\n  'zipper_mouth_face':'\\ud83e\\udd10',\n  'zzz':'\\ud83d\\udca4',\n\n  /* special emojis :P */\n  'octocat':  '<img alt=\":octocat:\" height=\"20\" width=\"20\" align=\"absmiddle\" src=\"https://assets-cdn.github.com/images/icons/emoji/octocat.png\">',\n  'showdown': '<span style=\"font-family: \\'Anonymous Pro\\', monospace; text-decoration: underline; text-decoration-style: dashed; text-decoration-color: #3e8b8a;text-underline-position: under;\">S</span>'\n};\n\r\n/**\n * Created by Estevao on 31-05-2015.\n */\n\n/**\n * Showdown Converter class\n * @class\n * @param {object} [converterOptions]\n * @returns {Converter}\n */\nshowdown.Converter = function (converterOptions) {\n  'use strict';\n\n  var\n      /**\n       * Options used by this converter\n       * @private\n       * @type {{}}\n       */\n      options = {},\n\n      /**\n       * Language extensions used by this converter\n       * @private\n       * @type {Array}\n       */\n      langExtensions = [],\n\n      /**\n       * Output modifiers extensions used by this converter\n       * @private\n       * @type {Array}\n       */\n      outputModifiers = [],\n\n      /**\n       * Event listeners\n       * @private\n       * @type {{}}\n       */\n      listeners = {},\n\n      /**\n       * The flavor set in this converter\n       */\n      setConvFlavor = setFlavor,\n\n      /**\n       * Metadata of the document\n       * @type {{parsed: {}, raw: string, format: string}}\n       */\n      metadata = {\n        parsed: {},\n        raw: '',\n        format: ''\n      };\n\n  _constructor();\n\n  /**\n   * Converter constructor\n   * @private\n   */\n  function _constructor () {\n    converterOptions = converterOptions || {};\n\n    for (var gOpt in globalOptions) {\n      if (globalOptions.hasOwnProperty(gOpt)) {\n        options[gOpt] = globalOptions[gOpt];\n      }\n    }\n\n    // Merge options\n    if (typeof converterOptions === 'object') {\n      for (var opt in converterOptions) {\n        if (converterOptions.hasOwnProperty(opt)) {\n          options[opt] = converterOptions[opt];\n        }\n      }\n    } else {\n      throw Error('Converter expects the passed parameter to be an object, but ' + typeof converterOptions +\n      ' was passed instead.');\n    }\n\n    if (options.extensions) {\n      showdown.helper.forEach(options.extensions, _parseExtension);\n    }\n  }\n\n  /**\n   * Parse extension\n   * @param {*} ext\n   * @param {string} [name='']\n   * @private\n   */\n  function _parseExtension (ext, name) {\n\n    name = name || null;\n    // If it's a string, the extension was previously loaded\n    if (showdown.helper.isString(ext)) {\n      ext = showdown.helper.stdExtName(ext);\n      name = ext;\n\n      // LEGACY_SUPPORT CODE\n      if (showdown.extensions[ext]) {\n        console.warn('DEPRECATION WARNING: ' + ext + ' is an old extension that uses a deprecated loading method.' +\n          'Please inform the developer that the extension should be updated!');\n        legacyExtensionLoading(showdown.extensions[ext], ext);\n        return;\n        // END LEGACY SUPPORT CODE\n\n      } else if (!showdown.helper.isUndefined(extensions[ext])) {\n        ext = extensions[ext];\n\n      } else {\n        throw Error('Extension \"' + ext + '\" could not be loaded. It was either not found or is not a valid extension.');\n      }\n    }\n\n    if (typeof ext === 'function') {\n      ext = ext();\n    }\n\n    if (!showdown.helper.isArray(ext)) {\n      ext = [ext];\n    }\n\n    var validExt = validate(ext, name);\n    if (!validExt.valid) {\n      throw Error(validExt.error);\n    }\n\n    for (var i = 0; i < ext.length; ++i) {\n      switch (ext[i].type) {\n\n        case 'lang':\n          langExtensions.push(ext[i]);\n          break;\n\n        case 'output':\n          outputModifiers.push(ext[i]);\n          break;\n      }\n      if (ext[i].hasOwnProperty('listeners')) {\n        for (var ln in ext[i].listeners) {\n          if (ext[i].listeners.hasOwnProperty(ln)) {\n            listen(ln, ext[i].listeners[ln]);\n          }\n        }\n      }\n    }\n\n  }\n\n  /**\n   * LEGACY_SUPPORT\n   * @param {*} ext\n   * @param {string} name\n   */\n  function legacyExtensionLoading (ext, name) {\n    if (typeof ext === 'function') {\n      ext = ext(new showdown.Converter());\n    }\n    if (!showdown.helper.isArray(ext)) {\n      ext = [ext];\n    }\n    var valid = validate(ext, name);\n\n    if (!valid.valid) {\n      throw Error(valid.error);\n    }\n\n    for (var i = 0; i < ext.length; ++i) {\n      switch (ext[i].type) {\n        case 'lang':\n          langExtensions.push(ext[i]);\n          break;\n        case 'output':\n          outputModifiers.push(ext[i]);\n          break;\n        default:// should never reach here\n          throw Error('Extension loader error: Type unrecognized!!!');\n      }\n    }\n  }\n\n  /**\n   * Listen to an event\n   * @param {string} name\n   * @param {function} callback\n   */\n  function listen (name, callback) {\n    if (!showdown.helper.isString(name)) {\n      throw Error('Invalid argument in converter.listen() method: name must be a string, but ' + typeof name + ' given');\n    }\n\n    if (typeof callback !== 'function') {\n      throw Error('Invalid argument in converter.listen() method: callback must be a function, but ' + typeof callback + ' given');\n    }\n\n    if (!listeners.hasOwnProperty(name)) {\n      listeners[name] = [];\n    }\n    listeners[name].push(callback);\n  }\n\n  function rTrimInputText (text) {\n    var rsp = text.match(/^\\s*/)[0].length,\n        rgx = new RegExp('^\\\\s{0,' + rsp + '}', 'gm');\n    return text.replace(rgx, '');\n  }\n\n  /**\n   * Dispatch an event\n   * @private\n   * @param {string} evtName Event name\n   * @param {string} text Text\n   * @param {{}} options Converter Options\n   * @param {{}} globals\n   * @returns {string}\n   */\n  this._dispatch = function dispatch (evtName, text, options, globals) {\n    if (listeners.hasOwnProperty(evtName)) {\n      for (var ei = 0; ei < listeners[evtName].length; ++ei) {\n        var nText = listeners[evtName][ei](evtName, text, this, options, globals);\n        if (nText && typeof nText !== 'undefined') {\n          text = nText;\n        }\n      }\n    }\n    return text;\n  };\n\n  /**\n   * Listen to an event\n   * @param {string} name\n   * @param {function} callback\n   * @returns {showdown.Converter}\n   */\n  this.listen = function (name, callback) {\n    listen(name, callback);\n    return this;\n  };\n\n  /**\n   * Converts a markdown string into HTML\n   * @param {string} text\n   * @returns {*}\n   */\n  this.makeHtml = function (text) {\n    //check if text is not falsy\n    if (!text) {\n      return text;\n    }\n\n    var globals = {\n      gHtmlBlocks:     [],\n      gHtmlMdBlocks:   [],\n      gHtmlSpans:      [],\n      gUrls:           {},\n      gTitles:         {},\n      gDimensions:     {},\n      gListLevel:      0,\n      hashLinkCounts:  {},\n      langExtensions:  langExtensions,\n      outputModifiers: outputModifiers,\n      converter:       this,\n      ghCodeBlocks:    [],\n      metadata: {\n        parsed: {},\n        raw: '',\n        format: ''\n      }\n    };\n\n    // This lets us use  trema as an escape char to avoid md5 hashes\n    // The choice of character is arbitrary; anything that isn't\n    // magic in Markdown will work.\n    text = text.replace(//g, 'T');\n\n    // Replace $ with D\n    // RegExp interprets $ as a special character\n    // when it's in a replacement string\n    text = text.replace(/\\$/g, 'D');\n\n    // Standardize line endings\n    text = text.replace(/\\r\\n/g, '\\n'); // DOS to Unix\n    text = text.replace(/\\r/g, '\\n'); // Mac to Unix\n\n    // Stardardize line spaces\n    text = text.replace(/\\u00A0/g, '&nbsp;');\n\n    if (options.smartIndentationFix) {\n      text = rTrimInputText(text);\n    }\n\n    // Make sure text begins and ends with a couple of newlines:\n    text = '\\n\\n' + text + '\\n\\n';\n\n    // detab\n    text = showdown.subParser('detab')(text, options, globals);\n\n    /**\n     * Strip any lines consisting only of spaces and tabs.\n     * This makes subsequent regexs easier to write, because we can\n     * match consecutive blank lines with /\\n+/ instead of something\n     * contorted like /[ \\t]*\\n+/\n     */\n    text = text.replace(/^[ \\t]+$/mg, '');\n\n    //run languageExtensions\n    showdown.helper.forEach(langExtensions, function (ext) {\n      text = showdown.subParser('runExtension')(ext, text, options, globals);\n    });\n\n    // run the sub parsers\n    text = showdown.subParser('metadata')(text, options, globals);\n    text = showdown.subParser('hashPreCodeTags')(text, options, globals);\n    text = showdown.subParser('githubCodeBlocks')(text, options, globals);\n    text = showdown.subParser('hashHTMLBlocks')(text, options, globals);\n    text = showdown.subParser('hashCodeTags')(text, options, globals);\n    text = showdown.subParser('stripLinkDefinitions')(text, options, globals);\n    text = showdown.subParser('blockGamut')(text, options, globals);\n    text = showdown.subParser('unhashHTMLSpans')(text, options, globals);\n    text = showdown.subParser('unescapeSpecialChars')(text, options, globals);\n\n    // attacklab: Restore dollar signs\n    text = text.replace(/D/g, '$$');\n\n    // attacklab: Restore tremas\n    text = text.replace(/T/g, '');\n\n    // render a complete html document instead of a partial if the option is enabled\n    text = showdown.subParser('completeHTMLDocument')(text, options, globals);\n\n    // Run output modifiers\n    showdown.helper.forEach(outputModifiers, function (ext) {\n      text = showdown.subParser('runExtension')(ext, text, options, globals);\n    });\n\n    // update metadata\n    metadata = globals.metadata;\n    return text;\n  };\n\n  /**\n   * Converts an HTML string into a markdown string\n   * @param src\n   * @param [HTMLParser] A WHATWG DOM and HTML parser, such as JSDOM. If none is supplied, window.document will be used.\n   * @returns {string}\n   */\n  this.makeMarkdown = this.makeMd = function (src, HTMLParser) {\n\n    // replace \\r\\n with \\n\n    src = src.replace(/\\r\\n/g, '\\n');\n    src = src.replace(/\\r/g, '\\n'); // old macs\n\n    // due to an edge case, we need to find this: > <\n    // to prevent removing of non silent white spaces\n    // ex: <em>this is</em> <strong>sparta</strong>\n    src = src.replace(/>[ \\t]+</, '>NBSP;<');\n\n    if (!HTMLParser) {\n      if (window && window.document) {\n        HTMLParser = window.document;\n      } else {\n        throw new Error('HTMLParser is undefined. If in a webworker or nodejs environment, you need to provide a WHATWG DOM and HTML such as JSDOM');\n      }\n    }\n\n    var doc = HTMLParser.createElement('div');\n    doc.innerHTML = src;\n\n    var globals = {\n      preList: substitutePreCodeTags(doc)\n    };\n\n    // remove all newlines and collapse spaces\n    clean(doc);\n\n    // some stuff, like accidental reference links must now be escaped\n    // TODO\n    // doc.innerHTML = doc.innerHTML.replace(/\\[[\\S\\t ]]/);\n\n    var nodes = doc.childNodes,\n        mdDoc = '';\n\n    for (var i = 0; i < nodes.length; i++) {\n      mdDoc += showdown.subParser('makeMarkdown.node')(nodes[i], globals);\n    }\n\n    function clean (node) {\n      for (var n = 0; n < node.childNodes.length; ++n) {\n        var child = node.childNodes[n];\n        if (child.nodeType === 3) {\n          if (!/\\S/.test(child.nodeValue) && !/^[ ]+$/.test(child.nodeValue)) {\n            node.removeChild(child);\n            --n;\n          } else {\n            child.nodeValue = child.nodeValue.split('\\n').join(' ');\n            child.nodeValue = child.nodeValue.replace(/(\\s)+/g, '$1');\n          }\n        } else if (child.nodeType === 1) {\n          clean(child);\n        }\n      }\n    }\n\n    // find all pre tags and replace contents with placeholder\n    // we need this so that we can remove all indentation from html\n    // to ease up parsing\n    function substitutePreCodeTags (doc) {\n\n      var pres = doc.querySelectorAll('pre'),\n          presPH = [];\n\n      for (var i = 0; i < pres.length; ++i) {\n\n        if (pres[i].childElementCount === 1 && pres[i].firstChild.tagName.toLowerCase() === 'code') {\n          var content = pres[i].firstChild.innerHTML.trim(),\n              language = pres[i].firstChild.getAttribute('data-language') || '';\n\n          // if data-language attribute is not defined, then we look for class language-*\n          if (language === '') {\n            var classes = pres[i].firstChild.className.split(' ');\n            for (var c = 0; c < classes.length; ++c) {\n              var matches = classes[c].match(/^language-(.+)$/);\n              if (matches !== null) {\n                language = matches[1];\n                break;\n              }\n            }\n          }\n\n          // unescape html entities in content\n          content = showdown.helper.unescapeHTMLEntities(content);\n\n          presPH.push(content);\n          pres[i].outerHTML = '<precode language=\"' + language + '\" precodenum=\"' + i.toString() + '\"></precode>';\n        } else {\n          presPH.push(pres[i].innerHTML);\n          pres[i].innerHTML = '';\n          pres[i].setAttribute('prenum', i.toString());\n        }\n      }\n      return presPH;\n    }\n\n    return mdDoc;\n  };\n\n  /**\n   * Set an option of this Converter instance\n   * @param {string} key\n   * @param {*} value\n   */\n  this.setOption = function (key, value) {\n    options[key] = value;\n  };\n\n  /**\n   * Get the option of this Converter instance\n   * @param {string} key\n   * @returns {*}\n   */\n  this.getOption = function (key) {\n    return options[key];\n  };\n\n  /**\n   * Get the options of this Converter instance\n   * @returns {{}}\n   */\n  this.getOptions = function () {\n    return options;\n  };\n\n  /**\n   * Add extension to THIS converter\n   * @param {{}} extension\n   * @param {string} [name=null]\n   */\n  this.addExtension = function (extension, name) {\n    name = name || null;\n    _parseExtension(extension, name);\n  };\n\n  /**\n   * Use a global registered extension with THIS converter\n   * @param {string} extensionName Name of the previously registered extension\n   */\n  this.useExtension = function (extensionName) {\n    _parseExtension(extensionName);\n  };\n\n  /**\n   * Set the flavor THIS converter should use\n   * @param {string} name\n   */\n  this.setFlavor = function (name) {\n    if (!flavor.hasOwnProperty(name)) {\n      throw Error(name + ' flavor was not found');\n    }\n    var preset = flavor[name];\n    setConvFlavor = name;\n    for (var option in preset) {\n      if (preset.hasOwnProperty(option)) {\n        options[option] = preset[option];\n      }\n    }\n  };\n\n  /**\n   * Get the currently set flavor of this converter\n   * @returns {string}\n   */\n  this.getFlavor = function () {\n    return setConvFlavor;\n  };\n\n  /**\n   * Remove an extension from THIS converter.\n   * Note: This is a costly operation. It's better to initialize a new converter\n   * and specify the extensions you wish to use\n   * @param {Array} extension\n   */\n  this.removeExtension = function (extension) {\n    if (!showdown.helper.isArray(extension)) {\n      extension = [extension];\n    }\n    for (var a = 0; a < extension.length; ++a) {\n      var ext = extension[a];\n      for (var i = 0; i < langExtensions.length; ++i) {\n        if (langExtensions[i] === ext) {\n          langExtensions.splice(i, 1);\n        }\n      }\n      for (var ii = 0; ii < outputModifiers.length; ++ii) {\n        if (outputModifiers[ii] === ext) {\n          outputModifiers.splice(ii, 1);\n        }\n      }\n    }\n  };\n\n  /**\n   * Get all extension of THIS converter\n   * @returns {{language: Array, output: Array}}\n   */\n  this.getAllExtensions = function () {\n    return {\n      language: langExtensions,\n      output: outputModifiers\n    };\n  };\n\n  /**\n   * Get the metadata of the previously parsed document\n   * @param raw\n   * @returns {string|{}}\n   */\n  this.getMetadata = function (raw) {\n    if (raw) {\n      return metadata.raw;\n    } else {\n      return metadata.parsed;\n    }\n  };\n\n  /**\n   * Get the metadata format of the previously parsed document\n   * @returns {string}\n   */\n  this.getMetadataFormat = function () {\n    return metadata.format;\n  };\n\n  /**\n   * Private: set a single key, value metadata pair\n   * @param {string} key\n   * @param {string} value\n   */\n  this._setMetadataPair = function (key, value) {\n    metadata.parsed[key] = value;\n  };\n\n  /**\n   * Private: set metadata format\n   * @param {string} format\n   */\n  this._setMetadataFormat = function (format) {\n    metadata.format = format;\n  };\n\n  /**\n   * Private: set metadata raw text\n   * @param {string} raw\n   */\n  this._setMetadataRaw = function (raw) {\n    metadata.raw = raw;\n  };\n};\n\r\n/**\n * Turn Markdown link shortcuts into XHTML <a> tags.\n */\nshowdown.subParser('anchors', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('anchors.before', text, options, globals);\n\n  var writeAnchorTag = function (wholeMatch, linkText, linkId, url, m5, m6, title) {\n    if (showdown.helper.isUndefined(title)) {\n      title = '';\n    }\n    linkId = linkId.toLowerCase();\n\n    // Special case for explicit empty url\n    if (wholeMatch.search(/\\(<?\\s*>? ?(['\"].*['\"])?\\)$/m) > -1) {\n      url = '';\n    } else if (!url) {\n      if (!linkId) {\n        // lower-case and turn embedded newlines into spaces\n        linkId = linkText.toLowerCase().replace(/ ?\\n/g, ' ');\n      }\n      url = '#' + linkId;\n\n      if (!showdown.helper.isUndefined(globals.gUrls[linkId])) {\n        url = globals.gUrls[linkId];\n        if (!showdown.helper.isUndefined(globals.gTitles[linkId])) {\n          title = globals.gTitles[linkId];\n        }\n      } else {\n        return wholeMatch;\n      }\n    }\n\n    //url = showdown.helper.escapeCharacters(url, '*_', false); // replaced line to improve performance\n    url = url.replace(showdown.helper.regexes.asteriskDashAndColon, showdown.helper.escapeCharactersCallback);\n\n    var result = '<a href=\"' + url + '\"';\n\n    if (title !== '' && title !== null) {\n      title = title.replace(/\"/g, '&quot;');\n      //title = showdown.helper.escapeCharacters(title, '*_', false); // replaced line to improve performance\n      title = title.replace(showdown.helper.regexes.asteriskDashAndColon, showdown.helper.escapeCharactersCallback);\n      result += ' title=\"' + title + '\"';\n    }\n\n    // optionLinksInNewWindow only applies\n    // to external links. Hash links (#) open in same page\n    if (options.openLinksInNewWindow && !/^#/.test(url)) {\n      // escaped _\n      result += ' rel=\"noopener noreferrer\" target=\"E95Eblank\"';\n    }\n\n    result += '>' + linkText + '</a>';\n\n    return result;\n  };\n\n  // First, handle reference-style links: [link text] [id]\n  text = text.replace(/\\[((?:\\[[^\\]]*]|[^\\[\\]])*)] ?(?:\\n *)?\\[(.*?)]()()()()/g, writeAnchorTag);\n\n  // Next, inline-style links: [link text](url \"optional title\")\n  // cases with crazy urls like ./image/cat1).png\n  text = text.replace(/\\[((?:\\[[^\\]]*]|[^\\[\\]])*)]()[ \\t]*\\([ \\t]?<([^>]*)>(?:[ \\t]*(([\"'])([^\"]*?)\\5))?[ \\t]?\\)/g,\n    writeAnchorTag);\n\n  // normal cases\n  text = text.replace(/\\[((?:\\[[^\\]]*]|[^\\[\\]])*)]()[ \\t]*\\([ \\t]?<?([\\S]+?(?:\\([\\S]*?\\)[\\S]*?)?)>?(?:[ \\t]*(([\"'])([^\"]*?)\\5))?[ \\t]?\\)/g,\n    writeAnchorTag);\n\n  // handle reference-style shortcuts: [link text]\n  // These must come last in case you've also got [link test][1]\n  // or [link test](/foo)\n  text = text.replace(/\\[([^\\[\\]]+)]()()()()()/g, writeAnchorTag);\n\n  // Lastly handle GithubMentions if option is enabled\n  if (options.ghMentions) {\n    text = text.replace(/(^|\\s)(\\\\)?(@([a-z\\d]+(?:[a-z\\d.-]+?[a-z\\d]+)*))/gmi, function (wm, st, escape, mentions, username) {\n      if (escape === '\\\\') {\n        return st + mentions;\n      }\n\n      //check if options.ghMentionsLink is a string\n      if (!showdown.helper.isString(options.ghMentionsLink)) {\n        throw new Error('ghMentionsLink option must be a string');\n      }\n      var lnk = options.ghMentionsLink.replace(/\\{u}/g, username),\n          target = '';\n      if (options.openLinksInNewWindow) {\n        target = ' rel=\"noopener noreferrer\" target=\"E95Eblank\"';\n      }\n      return st + '<a href=\"' + lnk + '\"' + target + '>' + mentions + '</a>';\n    });\n  }\n\n  text = globals.converter._dispatch('anchors.after', text, options, globals);\n  return text;\n});\n\r\n// url allowed chars [a-z\\d_.~:/?#[]@!$&'()*+,;=-]\n\nvar simpleURLRegex  = /([*~_]+|\\b)(((https?|ftp|dict):\\/\\/|www\\.)[^'\">\\s]+?\\.[^'\">\\s]+?)()(\\1)?(?=\\s|$)(?![\"<>])/gi,\n    simpleURLRegex2 = /([*~_]+|\\b)(((https?|ftp|dict):\\/\\/|www\\.)[^'\">\\s]+\\.[^'\">\\s]+?)([.!?,()\\[\\]])?(\\1)?(?=\\s|$)(?![\"<>])/gi,\n    delimUrlRegex   = /()<(((https?|ftp|dict):\\/\\/|www\\.)[^'\">\\s]+)()>()/gi,\n    simpleMailRegex = /(^|\\s)(?:mailto:)?([A-Za-z0-9!#$%&'*+-/=?^_`{|}~.]+@[-a-z0-9]+(\\.[-a-z0-9]+)*\\.[a-z]+)(?=$|\\s)/gmi,\n    delimMailRegex  = /<()(?:mailto:)?([-.\\w]+@[-a-z0-9]+(\\.[-a-z0-9]+)*\\.[a-z]+)>/gi,\n\n    replaceLink = function (options) {\n      'use strict';\n      return function (wm, leadingMagicChars, link, m2, m3, trailingPunctuation, trailingMagicChars) {\n        link = link.replace(showdown.helper.regexes.asteriskDashAndColon, showdown.helper.escapeCharactersCallback);\n        var lnkTxt = link,\n            append = '',\n            target = '',\n            lmc    = leadingMagicChars || '',\n            tmc    = trailingMagicChars || '';\n        if (/^www\\./i.test(link)) {\n          link = link.replace(/^www\\./i, 'http://www.');\n        }\n        if (options.excludeTrailingPunctuationFromURLs && trailingPunctuation) {\n          append = trailingPunctuation;\n        }\n        if (options.openLinksInNewWindow) {\n          target = ' rel=\"noopener noreferrer\" target=\"E95Eblank\"';\n        }\n        return lmc + '<a href=\"' + link + '\"' + target + '>' + lnkTxt + '</a>' + append + tmc;\n      };\n    },\n\n    replaceMail = function (options, globals) {\n      'use strict';\n      return function (wholeMatch, b, mail) {\n        var href = 'mailto:';\n        b = b || '';\n        mail = showdown.subParser('unescapeSpecialChars')(mail, options, globals);\n        if (options.encodeEmails) {\n          href = showdown.helper.encodeEmailAddress(href + mail);\n          mail = showdown.helper.encodeEmailAddress(mail);\n        } else {\n          href = href + mail;\n        }\n        return b + '<a href=\"' + href + '\">' + mail + '</a>';\n      };\n    };\n\nshowdown.subParser('autoLinks', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('autoLinks.before', text, options, globals);\n\n  text = text.replace(delimUrlRegex, replaceLink(options));\n  text = text.replace(delimMailRegex, replaceMail(options, globals));\n\n  text = globals.converter._dispatch('autoLinks.after', text, options, globals);\n\n  return text;\n});\n\nshowdown.subParser('simplifiedAutoLinks', function (text, options, globals) {\n  'use strict';\n\n  if (!options.simplifiedAutoLink) {\n    return text;\n  }\n\n  text = globals.converter._dispatch('simplifiedAutoLinks.before', text, options, globals);\n\n  if (options.excludeTrailingPunctuationFromURLs) {\n    text = text.replace(simpleURLRegex2, replaceLink(options));\n  } else {\n    text = text.replace(simpleURLRegex, replaceLink(options));\n  }\n  text = text.replace(simpleMailRegex, replaceMail(options, globals));\n\n  text = globals.converter._dispatch('simplifiedAutoLinks.after', text, options, globals);\n\n  return text;\n});\n\r\n/**\n * These are all the transformations that form block-level\n * tags like paragraphs, headers, and list items.\n */\nshowdown.subParser('blockGamut', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('blockGamut.before', text, options, globals);\n\n  // we parse blockquotes first so that we can have headings and hrs\n  // inside blockquotes\n  text = showdown.subParser('blockQuotes')(text, options, globals);\n  text = showdown.subParser('headers')(text, options, globals);\n\n  // Do Horizontal Rules:\n  text = showdown.subParser('horizontalRule')(text, options, globals);\n\n  text = showdown.subParser('lists')(text, options, globals);\n  text = showdown.subParser('codeBlocks')(text, options, globals);\n  text = showdown.subParser('tables')(text, options, globals);\n\n  // We already ran _HashHTMLBlocks() before, in Markdown(), but that\n  // was to escape raw HTML in the original Markdown source. This time,\n  // we're escaping the markup we've just created, so that we don't wrap\n  // <p> tags around block-level tags.\n  text = showdown.subParser('hashHTMLBlocks')(text, options, globals);\n  text = showdown.subParser('paragraphs')(text, options, globals);\n\n  text = globals.converter._dispatch('blockGamut.after', text, options, globals);\n\n  return text;\n});\n\r\nshowdown.subParser('blockQuotes', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('blockQuotes.before', text, options, globals);\n\n  // add a couple extra lines after the text and endtext mark\n  text = text + '\\n\\n';\n\n  var rgx = /(^ {0,3}>[ \\t]?.+\\n(.+\\n)*\\n*)+/gm;\n\n  if (options.splitAdjacentBlockquotes) {\n    rgx = /^ {0,3}>[\\s\\S]*?(?:\\n\\n)/gm;\n  }\n\n  text = text.replace(rgx, function (bq) {\n    // attacklab: hack around Konqueror 3.5.4 bug:\n    // \"----------bug\".replace(/^-/g,\"\") == \"bug\"\n    bq = bq.replace(/^[ \\t]*>[ \\t]?/gm, ''); // trim one level of quoting\n\n    // attacklab: clean up hack\n    bq = bq.replace(/0/g, '');\n\n    bq = bq.replace(/^[ \\t]+$/gm, ''); // trim whitespace-only lines\n    bq = showdown.subParser('githubCodeBlocks')(bq, options, globals);\n    bq = showdown.subParser('blockGamut')(bq, options, globals); // recurse\n\n    bq = bq.replace(/(^|\\n)/g, '$1  ');\n    // These leading spaces screw with <pre> content, so we need to fix that:\n    bq = bq.replace(/(\\s*<pre>[^\\r]+?<\\/pre>)/gm, function (wholeMatch, m1) {\n      var pre = m1;\n      // attacklab: hack around Konqueror 3.5.4 bug:\n      pre = pre.replace(/^  /mg, '0');\n      pre = pre.replace(/0/g, '');\n      return pre;\n    });\n\n    return showdown.subParser('hashBlock')('<blockquote>\\n' + bq + '\\n</blockquote>', options, globals);\n  });\n\n  text = globals.converter._dispatch('blockQuotes.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Process Markdown `<pre><code>` blocks.\n */\nshowdown.subParser('codeBlocks', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('codeBlocks.before', text, options, globals);\n\n  // sentinel workarounds for lack of \\A and \\Z, safari\\khtml bug\n  text += '0';\n\n  var pattern = /(?:\\n\\n|^)((?:(?:[ ]{4}|\\t).*\\n+)+)(\\n*[ ]{0,3}[^ \\t\\n]|(?=0))/g;\n  text = text.replace(pattern, function (wholeMatch, m1, m2) {\n    var codeblock = m1,\n        nextChar = m2,\n        end = '\\n';\n\n    codeblock = showdown.subParser('outdent')(codeblock, options, globals);\n    codeblock = showdown.subParser('encodeCode')(codeblock, options, globals);\n    codeblock = showdown.subParser('detab')(codeblock, options, globals);\n    codeblock = codeblock.replace(/^\\n+/g, ''); // trim leading newlines\n    codeblock = codeblock.replace(/\\n+$/g, ''); // trim trailing newlines\n\n    if (options.omitExtraWLInCodeBlocks) {\n      end = '';\n    }\n\n    codeblock = '<pre><code>' + codeblock + end + '</code></pre>';\n\n    return showdown.subParser('hashBlock')(codeblock, options, globals) + nextChar;\n  });\n\n  // strip sentinel\n  text = text.replace(/0/, '');\n\n  text = globals.converter._dispatch('codeBlocks.after', text, options, globals);\n  return text;\n});\n\r\n/**\n *\n *   *  Backtick quotes are used for <code></code> spans.\n *\n *   *  You can use multiple backticks as the delimiters if you want to\n *     include literal backticks in the code span. So, this input:\n *\n *         Just type ``foo `bar` baz`` at the prompt.\n *\n *       Will translate to:\n *\n *         <p>Just type <code>foo `bar` baz</code> at the prompt.</p>\n *\n *    There's no arbitrary limit to the number of backticks you\n *    can use as delimters. If you need three consecutive backticks\n *    in your code, use four for delimiters, etc.\n *\n *  *  You can use spaces to get literal backticks at the edges:\n *\n *         ... type `` `bar` `` ...\n *\n *       Turns to:\n *\n *         ... type <code>`bar`</code> ...\n */\nshowdown.subParser('codeSpans', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('codeSpans.before', text, options, globals);\n\n  if (typeof (text) === 'undefined') {\n    text = '';\n  }\n  text = text.replace(/(^|[^\\\\])(`+)([^\\r]*?[^`])\\2(?!`)/gm,\n    function (wholeMatch, m1, m2, m3) {\n      var c = m3;\n      c = c.replace(/^([ \\t]*)/g, '');\t// leading whitespace\n      c = c.replace(/[ \\t]*$/g, '');\t// trailing whitespace\n      c = showdown.subParser('encodeCode')(c, options, globals);\n      c = m1 + '<code>' + c + '</code>';\n      c = showdown.subParser('hashHTMLSpans')(c, options, globals);\n      return c;\n    }\n  );\n\n  text = globals.converter._dispatch('codeSpans.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Create a full HTML document from the processed markdown\n */\nshowdown.subParser('completeHTMLDocument', function (text, options, globals) {\n  'use strict';\n\n  if (!options.completeHTMLDocument) {\n    return text;\n  }\n\n  text = globals.converter._dispatch('completeHTMLDocument.before', text, options, globals);\n\n  var doctype = 'html',\n      doctypeParsed = '<!DOCTYPE HTML>\\n',\n      title = '',\n      charset = '<meta charset=\"utf-8\">\\n',\n      lang = '',\n      metadata = '';\n\n  if (typeof globals.metadata.parsed.doctype !== 'undefined') {\n    doctypeParsed = '<!DOCTYPE ' +  globals.metadata.parsed.doctype + '>\\n';\n    doctype = globals.metadata.parsed.doctype.toString().toLowerCase();\n    if (doctype === 'html' || doctype === 'html5') {\n      charset = '<meta charset=\"utf-8\">';\n    }\n  }\n\n  for (var meta in globals.metadata.parsed) {\n    if (globals.metadata.parsed.hasOwnProperty(meta)) {\n      switch (meta.toLowerCase()) {\n        case 'doctype':\n          break;\n\n        case 'title':\n          title = '<title>' +  globals.metadata.parsed.title + '</title>\\n';\n          break;\n\n        case 'charset':\n          if (doctype === 'html' || doctype === 'html5') {\n            charset = '<meta charset=\"' + globals.metadata.parsed.charset + '\">\\n';\n          } else {\n            charset = '<meta name=\"charset\" content=\"' + globals.metadata.parsed.charset + '\">\\n';\n          }\n          break;\n\n        case 'language':\n        case 'lang':\n          lang = ' lang=\"' + globals.metadata.parsed[meta] + '\"';\n          metadata += '<meta name=\"' + meta + '\" content=\"' + globals.metadata.parsed[meta] + '\">\\n';\n          break;\n\n        default:\n          metadata += '<meta name=\"' + meta + '\" content=\"' + globals.metadata.parsed[meta] + '\">\\n';\n      }\n    }\n  }\n\n  text = doctypeParsed + '<html' + lang + '>\\n<head>\\n' + title + charset + metadata + '</head>\\n<body>\\n' + text.trim() + '\\n</body>\\n</html>';\n\n  text = globals.converter._dispatch('completeHTMLDocument.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Convert all tabs to spaces\n */\nshowdown.subParser('detab', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('detab.before', text, options, globals);\n\n  // expand first n-1 tabs\n  text = text.replace(/\\t(?=\\t)/g, '    '); // g_tab_width\n\n  // replace the nth with two sentinels\n  text = text.replace(/\\t/g, 'AB');\n\n  // use the sentinel to anchor our regex so it doesn't explode\n  text = text.replace(/B(.+?)A/g, function (wholeMatch, m1) {\n    var leadingText = m1,\n        numSpaces = 4 - leadingText.length % 4;  // g_tab_width\n\n    // there *must* be a better way to do this:\n    for (var i = 0; i < numSpaces; i++) {\n      leadingText += ' ';\n    }\n\n    return leadingText;\n  });\n\n  // clean up sentinels\n  text = text.replace(/A/g, '    ');  // g_tab_width\n  text = text.replace(/B/g, '');\n\n  text = globals.converter._dispatch('detab.after', text, options, globals);\n  return text;\n});\n\r\nshowdown.subParser('ellipsis', function (text, options, globals) {\n  'use strict';\n\n  if (!options.ellipsis) {\n    return text;\n  }\n\n  text = globals.converter._dispatch('ellipsis.before', text, options, globals);\n\n  text = text.replace(/\\.\\.\\./g, '');\n\n  text = globals.converter._dispatch('ellipsis.after', text, options, globals);\n\n  return text;\n});\n\r\n/**\n * Turn emoji codes into emojis\n *\n * List of supported emojis: https://github.com/showdownjs/showdown/wiki/Emojis\n */\nshowdown.subParser('emoji', function (text, options, globals) {\n  'use strict';\n\n  if (!options.emoji) {\n    return text;\n  }\n\n  text = globals.converter._dispatch('emoji.before', text, options, globals);\n\n  var emojiRgx = /:([\\S]+?):/g;\n\n  text = text.replace(emojiRgx, function (wm, emojiCode) {\n    if (showdown.helper.emojis.hasOwnProperty(emojiCode)) {\n      return showdown.helper.emojis[emojiCode];\n    }\n    return wm;\n  });\n\n  text = globals.converter._dispatch('emoji.after', text, options, globals);\n\n  return text;\n});\n\r\n/**\n * Smart processing for ampersands and angle brackets that need to be encoded.\n */\nshowdown.subParser('encodeAmpsAndAngles', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('encodeAmpsAndAngles.before', text, options, globals);\n\n  // Ampersand-encoding based entirely on Nat Irons's Amputator MT plugin:\n  // http://bumppo.net/projects/amputator/\n  text = text.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\\w+);)/g, '&amp;');\n\n  // Encode naked <'s\n  text = text.replace(/<(?![a-z\\/?$!])/gi, '&lt;');\n\n  // Encode <\n  text = text.replace(/</g, '&lt;');\n\n  // Encode >\n  text = text.replace(/>/g, '&gt;');\n\n  text = globals.converter._dispatch('encodeAmpsAndAngles.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Returns the string, with after processing the following backslash escape sequences.\n *\n * attacklab: The polite way to do this is with the new escapeCharacters() function:\n *\n *    text = escapeCharacters(text,\"\\\\\",true);\n *    text = escapeCharacters(text,\"`*_{}[]()>#+-.!\",true);\n *\n * ...but we're sidestepping its use of the (slow) RegExp constructor\n * as an optimization for Firefox.  This function gets called a LOT.\n */\nshowdown.subParser('encodeBackslashEscapes', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('encodeBackslashEscapes.before', text, options, globals);\n\n  text = text.replace(/\\\\(\\\\)/g, showdown.helper.escapeCharactersCallback);\n  text = text.replace(/\\\\([`*_{}\\[\\]()>#+.!~=|:-])/g, showdown.helper.escapeCharactersCallback);\n\n  text = globals.converter._dispatch('encodeBackslashEscapes.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Encode/escape certain characters inside Markdown code runs.\n * The point is that in code, these characters are literals,\n * and lose their special Markdown meanings.\n */\nshowdown.subParser('encodeCode', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('encodeCode.before', text, options, globals);\n\n  // Encode all ampersands; HTML entities are not\n  // entities within a Markdown code span.\n  text = text\n    .replace(/&/g, '&amp;')\n  // Do the angle bracket song and dance:\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;')\n  // Now, escape characters that are magic in Markdown:\n    .replace(/([*_{}\\[\\]\\\\=~-])/g, showdown.helper.escapeCharactersCallback);\n\n  text = globals.converter._dispatch('encodeCode.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Within tags -- meaning between < and > -- encode [\\ ` * _ ~ =] so they\n * don't conflict with their use in Markdown for code, italics and strong.\n */\nshowdown.subParser('escapeSpecialCharsWithinTagAttributes', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('escapeSpecialCharsWithinTagAttributes.before', text, options, globals);\n\n  // Build a regex to find HTML tags.\n  var tags     = /<\\/?[a-z\\d_:-]+(?:[\\s]+[\\s\\S]+?)?>/gi,\n      comments = /<!(--(?:(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>/gi;\n\n  text = text.replace(tags, function (wholeMatch) {\n    return wholeMatch\n      .replace(/(.)<\\/?code>(?=.)/g, '$1`')\n      .replace(/([\\\\`*_~=|])/g, showdown.helper.escapeCharactersCallback);\n  });\n\n  text = text.replace(comments, function (wholeMatch) {\n    return wholeMatch\n      .replace(/([\\\\`*_~=|])/g, showdown.helper.escapeCharactersCallback);\n  });\n\n  text = globals.converter._dispatch('escapeSpecialCharsWithinTagAttributes.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Handle github codeblocks prior to running HashHTML so that\n * HTML contained within the codeblock gets escaped properly\n * Example:\n * ```ruby\n *     def hello_world(x)\n *       puts \"Hello, #{x}\"\n *     end\n * ```\n */\nshowdown.subParser('githubCodeBlocks', function (text, options, globals) {\n  'use strict';\n\n  // early exit if option is not enabled\n  if (!options.ghCodeBlocks) {\n    return text;\n  }\n\n  text = globals.converter._dispatch('githubCodeBlocks.before', text, options, globals);\n\n  text += '0';\n\n  text = text.replace(/(?:^|\\n)(?: {0,3})(```+|~~~+)(?: *)([^\\s`~]*)\\n([\\s\\S]*?)\\n(?: {0,3})\\1/g, function (wholeMatch, delim, language, codeblock) {\n    var end = (options.omitExtraWLInCodeBlocks) ? '' : '\\n';\n\n    // First parse the github code block\n    codeblock = showdown.subParser('encodeCode')(codeblock, options, globals);\n    codeblock = showdown.subParser('detab')(codeblock, options, globals);\n    codeblock = codeblock.replace(/^\\n+/g, ''); // trim leading newlines\n    codeblock = codeblock.replace(/\\n+$/g, ''); // trim trailing whitespace\n\n    codeblock = '<pre><code' + (language ? ' class=\"' + language + ' language-' + language + '\"' : '') + '>' + codeblock + end + '</code></pre>';\n\n    codeblock = showdown.subParser('hashBlock')(codeblock, options, globals);\n\n    // Since GHCodeblocks can be false positives, we need to\n    // store the primitive text and the parsed text in a global var,\n    // and then return a token\n    return '\\n\\nG' + (globals.ghCodeBlocks.push({text: wholeMatch, codeblock: codeblock}) - 1) + 'G\\n\\n';\n  });\n\n  // attacklab: strip sentinel\n  text = text.replace(/0/, '');\n\n  return globals.converter._dispatch('githubCodeBlocks.after', text, options, globals);\n});\n\r\nshowdown.subParser('hashBlock', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('hashBlock.before', text, options, globals);\n  text = text.replace(/(^\\n+|\\n+$)/g, '');\n  text = '\\n\\nK' + (globals.gHtmlBlocks.push(text) - 1) + 'K\\n\\n';\n  text = globals.converter._dispatch('hashBlock.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Hash and escape <code> elements that should not be parsed as markdown\n */\nshowdown.subParser('hashCodeTags', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('hashCodeTags.before', text, options, globals);\n\n  var repFunc = function (wholeMatch, match, left, right) {\n    var codeblock = left + showdown.subParser('encodeCode')(match, options, globals) + right;\n    return 'C' + (globals.gHtmlSpans.push(codeblock) - 1) + 'C';\n  };\n\n  // Hash naked <code>\n  text = showdown.helper.replaceRecursiveRegExp(text, repFunc, '<code\\\\b[^>]*>', '</code>', 'gim');\n\n  text = globals.converter._dispatch('hashCodeTags.after', text, options, globals);\n  return text;\n});\n\r\nshowdown.subParser('hashElement', function (text, options, globals) {\n  'use strict';\n\n  return function (wholeMatch, m1) {\n    var blockText = m1;\n\n    // Undo double lines\n    blockText = blockText.replace(/\\n\\n/g, '\\n');\n    blockText = blockText.replace(/^\\n/, '');\n\n    // strip trailing blank lines\n    blockText = blockText.replace(/\\n+$/g, '');\n\n    // Replace the element text with a marker (\"KxK\" where x is its key)\n    blockText = '\\n\\nK' + (globals.gHtmlBlocks.push(blockText) - 1) + 'K\\n\\n';\n\n    return blockText;\n  };\n});\n\r\nshowdown.subParser('hashHTMLBlocks', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('hashHTMLBlocks.before', text, options, globals);\n\n  var blockTags = [\n        'pre',\n        'div',\n        'h1',\n        'h2',\n        'h3',\n        'h4',\n        'h5',\n        'h6',\n        'blockquote',\n        'table',\n        'dl',\n        'ol',\n        'ul',\n        'script',\n        'noscript',\n        'form',\n        'fieldset',\n        'iframe',\n        'math',\n        'style',\n        'section',\n        'header',\n        'footer',\n        'nav',\n        'article',\n        'aside',\n        'address',\n        'audio',\n        'canvas',\n        'figure',\n        'hgroup',\n        'output',\n        'video',\n        'p'\n      ],\n      repFunc = function (wholeMatch, match, left, right) {\n        var txt = wholeMatch;\n        // check if this html element is marked as markdown\n        // if so, it's contents should be parsed as markdown\n        if (left.search(/\\bmarkdown\\b/) !== -1) {\n          txt = left + globals.converter.makeHtml(match) + right;\n        }\n        return '\\n\\nK' + (globals.gHtmlBlocks.push(txt) - 1) + 'K\\n\\n';\n      };\n\n  if (options.backslashEscapesHTMLTags) {\n    // encode backslash escaped HTML tags\n    text = text.replace(/\\\\<(\\/?[^>]+?)>/g, function (wm, inside) {\n      return '&lt;' + inside + '&gt;';\n    });\n  }\n\n  // hash HTML Blocks\n  for (var i = 0; i < blockTags.length; ++i) {\n\n    var opTagPos,\n        rgx1     = new RegExp('^ {0,3}(<' + blockTags[i] + '\\\\b[^>]*>)', 'im'),\n        patLeft  = '<' + blockTags[i] + '\\\\b[^>]*>',\n        patRight = '</' + blockTags[i] + '>';\n    // 1. Look for the first position of the first opening HTML tag in the text\n    while ((opTagPos = showdown.helper.regexIndexOf(text, rgx1)) !== -1) {\n\n      // if the HTML tag is \\ escaped, we need to escape it and break\n\n\n      //2. Split the text in that position\n      var subTexts = showdown.helper.splitAtIndex(text, opTagPos),\n          //3. Match recursively\n          newSubText1 = showdown.helper.replaceRecursiveRegExp(subTexts[1], repFunc, patLeft, patRight, 'im');\n\n      // prevent an infinite loop\n      if (newSubText1 === subTexts[1]) {\n        break;\n      }\n      text = subTexts[0].concat(newSubText1);\n    }\n  }\n  // HR SPECIAL CASE\n  text = text.replace(/(\\n {0,3}(<(hr)\\b([^<>])*?\\/?>)[ \\t]*(?=\\n{2,}))/g,\n    showdown.subParser('hashElement')(text, options, globals));\n\n  // Special case for standalone HTML comments\n  text = showdown.helper.replaceRecursiveRegExp(text, function (txt) {\n    return '\\n\\nK' + (globals.gHtmlBlocks.push(txt) - 1) + 'K\\n\\n';\n  }, '^ {0,3}<!--', '-->', 'gm');\n\n  // PHP and ASP-style processor instructions (<?...?> and <%...%>)\n  text = text.replace(/(?:\\n\\n)( {0,3}(?:<([?%])[^\\r]*?\\2>)[ \\t]*(?=\\n{2,}))/g,\n    showdown.subParser('hashElement')(text, options, globals));\n\n  text = globals.converter._dispatch('hashHTMLBlocks.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Hash span elements that should not be parsed as markdown\n */\nshowdown.subParser('hashHTMLSpans', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('hashHTMLSpans.before', text, options, globals);\n\n  function hashHTMLSpan (html) {\n    return 'C' + (globals.gHtmlSpans.push(html) - 1) + 'C';\n  }\n\n  // Hash Self Closing tags\n  text = text.replace(/<[^>]+?\\/>/gi, function (wm) {\n    return hashHTMLSpan(wm);\n  });\n\n  // Hash tags without properties\n  text = text.replace(/<([^>]+?)>[\\s\\S]*?<\\/\\1>/g, function (wm) {\n    return hashHTMLSpan(wm);\n  });\n\n  // Hash tags with properties\n  text = text.replace(/<([^>]+?)\\s[^>]+?>[\\s\\S]*?<\\/\\1>/g, function (wm) {\n    return hashHTMLSpan(wm);\n  });\n\n  // Hash self closing tags without />\n  text = text.replace(/<[^>]+?>/gi, function (wm) {\n    return hashHTMLSpan(wm);\n  });\n\n  /*showdown.helper.matchRecursiveRegExp(text, '<code\\\\b[^>]*>', '</code>', 'gi');*/\n\n  text = globals.converter._dispatch('hashHTMLSpans.after', text, options, globals);\n  return text;\n});\n\n/**\n * Unhash HTML spans\n */\nshowdown.subParser('unhashHTMLSpans', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('unhashHTMLSpans.before', text, options, globals);\n\n  for (var i = 0; i < globals.gHtmlSpans.length; ++i) {\n    var repText = globals.gHtmlSpans[i],\n        // limiter to prevent infinite loop (assume 10 as limit for recurse)\n        limit = 0;\n\n    while (/C(\\d+)C/.test(repText)) {\n      var num = RegExp.$1;\n      repText = repText.replace('C' + num + 'C', globals.gHtmlSpans[num]);\n      if (limit === 10) {\n        console.error('maximum nesting of 10 spans reached!!!');\n        break;\n      }\n      ++limit;\n    }\n    text = text.replace('C' + i + 'C', repText);\n  }\n\n  text = globals.converter._dispatch('unhashHTMLSpans.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Hash and escape <pre><code> elements that should not be parsed as markdown\n */\nshowdown.subParser('hashPreCodeTags', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('hashPreCodeTags.before', text, options, globals);\n\n  var repFunc = function (wholeMatch, match, left, right) {\n    // encode html entities\n    var codeblock = left + showdown.subParser('encodeCode')(match, options, globals) + right;\n    return '\\n\\nG' + (globals.ghCodeBlocks.push({text: wholeMatch, codeblock: codeblock}) - 1) + 'G\\n\\n';\n  };\n\n  // Hash <pre><code>\n  text = showdown.helper.replaceRecursiveRegExp(text, repFunc, '^ {0,3}<pre\\\\b[^>]*>\\\\s*<code\\\\b[^>]*>', '^ {0,3}</code>\\\\s*</pre>', 'gim');\n\n  text = globals.converter._dispatch('hashPreCodeTags.after', text, options, globals);\n  return text;\n});\n\r\nshowdown.subParser('headers', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('headers.before', text, options, globals);\n\n  var headerLevelStart = (isNaN(parseInt(options.headerLevelStart))) ? 1 : parseInt(options.headerLevelStart),\n\n      // Set text-style headers:\n      //\tHeader 1\n      //\t========\n      //\n      //\tHeader 2\n      //\t--------\n      //\n      setextRegexH1 = (options.smoothLivePreview) ? /^(.+)[ \\t]*\\n={2,}[ \\t]*\\n+/gm : /^(.+)[ \\t]*\\n=+[ \\t]*\\n+/gm,\n      setextRegexH2 = (options.smoothLivePreview) ? /^(.+)[ \\t]*\\n-{2,}[ \\t]*\\n+/gm : /^(.+)[ \\t]*\\n-+[ \\t]*\\n+/gm;\n\n  text = text.replace(setextRegexH1, function (wholeMatch, m1) {\n\n    var spanGamut = showdown.subParser('spanGamut')(m1, options, globals),\n        hID = (options.noHeaderId) ? '' : ' id=\"' + headerId(m1) + '\"',\n        hLevel = headerLevelStart,\n        hashBlock = '<h' + hLevel + hID + '>' + spanGamut + '</h' + hLevel + '>';\n    return showdown.subParser('hashBlock')(hashBlock, options, globals);\n  });\n\n  text = text.replace(setextRegexH2, function (matchFound, m1) {\n    var spanGamut = showdown.subParser('spanGamut')(m1, options, globals),\n        hID = (options.noHeaderId) ? '' : ' id=\"' + headerId(m1) + '\"',\n        hLevel = headerLevelStart + 1,\n        hashBlock = '<h' + hLevel + hID + '>' + spanGamut + '</h' + hLevel + '>';\n    return showdown.subParser('hashBlock')(hashBlock, options, globals);\n  });\n\n  // atx-style headers:\n  //  # Header 1\n  //  ## Header 2\n  //  ## Header 2 with closing hashes ##\n  //  ...\n  //  ###### Header 6\n  //\n  var atxStyle = (options.requireSpaceBeforeHeadingText) ? /^(#{1,6})[ \\t]+(.+?)[ \\t]*#*\\n+/gm : /^(#{1,6})[ \\t]*(.+?)[ \\t]*#*\\n+/gm;\n\n  text = text.replace(atxStyle, function (wholeMatch, m1, m2) {\n    var hText = m2;\n    if (options.customizedHeaderId) {\n      hText = m2.replace(/\\s?\\{([^{]+?)}\\s*$/, '');\n    }\n\n    var span = showdown.subParser('spanGamut')(hText, options, globals),\n        hID = (options.noHeaderId) ? '' : ' id=\"' + headerId(m2) + '\"',\n        hLevel = headerLevelStart - 1 + m1.length,\n        header = '<h' + hLevel + hID + '>' + span + '</h' + hLevel + '>';\n\n    return showdown.subParser('hashBlock')(header, options, globals);\n  });\n\n  function headerId (m) {\n    var title,\n        prefix;\n\n    // It is separate from other options to allow combining prefix and customized\n    if (options.customizedHeaderId) {\n      var match = m.match(/\\{([^{]+?)}\\s*$/);\n      if (match && match[1]) {\n        m = match[1];\n      }\n    }\n\n    title = m;\n\n    // Prefix id to prevent causing inadvertent pre-existing style matches.\n    if (showdown.helper.isString(options.prefixHeaderId)) {\n      prefix = options.prefixHeaderId;\n    } else if (options.prefixHeaderId === true) {\n      prefix = 'section-';\n    } else {\n      prefix = '';\n    }\n\n    if (!options.rawPrefixHeaderId) {\n      title = prefix + title;\n    }\n\n    if (options.ghCompatibleHeaderId) {\n      title = title\n        .replace(/ /g, '-')\n        // replace previously escaped chars (&,  and $)\n        .replace(/&amp;/g, '')\n        .replace(/T/g, '')\n        .replace(/D/g, '')\n        // replace rest of the chars (&~$ are repeated as they might have been escaped)\n        // borrowed from github's redcarpet (some they should produce similar results)\n        .replace(/[&+$,\\/:;=?@\"#{}|^~\\[\\]`\\\\*)(%.!'<>]/g, '')\n        .toLowerCase();\n    } else if (options.rawHeaderId) {\n      title = title\n        .replace(/ /g, '-')\n        // replace previously escaped chars (&,  and $)\n        .replace(/&amp;/g, '&')\n        .replace(/T/g, '')\n        .replace(/D/g, '$')\n        // replace \" and '\n        .replace(/[\"']/g, '-')\n        .toLowerCase();\n    } else {\n      title = title\n        .replace(/[^\\w]/g, '')\n        .toLowerCase();\n    }\n\n    if (options.rawPrefixHeaderId) {\n      title = prefix + title;\n    }\n\n    if (globals.hashLinkCounts[title]) {\n      title = title + '-' + (globals.hashLinkCounts[title]++);\n    } else {\n      globals.hashLinkCounts[title] = 1;\n    }\n    return title;\n  }\n\n  text = globals.converter._dispatch('headers.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Turn Markdown link shortcuts into XHTML <a> tags.\n */\nshowdown.subParser('horizontalRule', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('horizontalRule.before', text, options, globals);\n\n  var key = showdown.subParser('hashBlock')('<hr />', options, globals);\n  text = text.replace(/^ {0,2}( ?-){3,}[ \\t]*$/gm, key);\n  text = text.replace(/^ {0,2}( ?\\*){3,}[ \\t]*$/gm, key);\n  text = text.replace(/^ {0,2}( ?_){3,}[ \\t]*$/gm, key);\n\n  text = globals.converter._dispatch('horizontalRule.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Turn Markdown image shortcuts into <img> tags.\n */\nshowdown.subParser('images', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('images.before', text, options, globals);\n\n  var inlineRegExp      = /!\\[([^\\]]*?)][ \\t]*()\\([ \\t]?<?([\\S]+?(?:\\([\\S]*?\\)[\\S]*?)?)>?(?: =([*\\d]+[A-Za-z%]{0,4})x([*\\d]+[A-Za-z%]{0,4}))?[ \\t]*(?:([\"'])([^\"]*?)\\6)?[ \\t]?\\)/g,\n      crazyRegExp       = /!\\[([^\\]]*?)][ \\t]*()\\([ \\t]?<([^>]*)>(?: =([*\\d]+[A-Za-z%]{0,4})x([*\\d]+[A-Za-z%]{0,4}))?[ \\t]*(?:(?:([\"'])([^\"]*?)\\6))?[ \\t]?\\)/g,\n      base64RegExp      = /!\\[([^\\]]*?)][ \\t]*()\\([ \\t]?<?(data:.+?\\/.+?;base64,[A-Za-z0-9+/=\\n]+?)>?(?: =([*\\d]+[A-Za-z%]{0,4})x([*\\d]+[A-Za-z%]{0,4}))?[ \\t]*(?:([\"'])([^\"]*?)\\6)?[ \\t]?\\)/g,\n      referenceRegExp   = /!\\[([^\\]]*?)] ?(?:\\n *)?\\[([\\s\\S]*?)]()()()()()/g,\n      refShortcutRegExp = /!\\[([^\\[\\]]+)]()()()()()/g;\n\n  function writeImageTagBase64 (wholeMatch, altText, linkId, url, width, height, m5, title) {\n    url = url.replace(/\\s/g, '');\n    return writeImageTag (wholeMatch, altText, linkId, url, width, height, m5, title);\n  }\n\n  function writeImageTag (wholeMatch, altText, linkId, url, width, height, m5, title) {\n\n    var gUrls   = globals.gUrls,\n        gTitles = globals.gTitles,\n        gDims   = globals.gDimensions;\n\n    linkId = linkId.toLowerCase();\n\n    if (!title) {\n      title = '';\n    }\n    // Special case for explicit empty url\n    if (wholeMatch.search(/\\(<?\\s*>? ?(['\"].*['\"])?\\)$/m) > -1) {\n      url = '';\n\n    } else if (url === '' || url === null) {\n      if (linkId === '' || linkId === null) {\n        // lower-case and turn embedded newlines into spaces\n        linkId = altText.toLowerCase().replace(/ ?\\n/g, ' ');\n      }\n      url = '#' + linkId;\n\n      if (!showdown.helper.isUndefined(gUrls[linkId])) {\n        url = gUrls[linkId];\n        if (!showdown.helper.isUndefined(gTitles[linkId])) {\n          title = gTitles[linkId];\n        }\n        if (!showdown.helper.isUndefined(gDims[linkId])) {\n          width = gDims[linkId].width;\n          height = gDims[linkId].height;\n        }\n      } else {\n        return wholeMatch;\n      }\n    }\n\n    altText = altText\n      .replace(/\"/g, '&quot;')\n    //altText = showdown.helper.escapeCharacters(altText, '*_', false);\n      .replace(showdown.helper.regexes.asteriskDashAndColon, showdown.helper.escapeCharactersCallback);\n    //url = showdown.helper.escapeCharacters(url, '*_', false);\n    url = url.replace(showdown.helper.regexes.asteriskDashAndColon, showdown.helper.escapeCharactersCallback);\n    var result = '<img src=\"' + url + '\" alt=\"' + altText + '\"';\n\n    if (title && showdown.helper.isString(title)) {\n      title = title\n        .replace(/\"/g, '&quot;')\n      //title = showdown.helper.escapeCharacters(title, '*_', false);\n        .replace(showdown.helper.regexes.asteriskDashAndColon, showdown.helper.escapeCharactersCallback);\n      result += ' title=\"' + title + '\"';\n    }\n\n    if (width && height) {\n      width  = (width === '*') ? 'auto' : width;\n      height = (height === '*') ? 'auto' : height;\n\n      result += ' width=\"' + width + '\"';\n      result += ' height=\"' + height + '\"';\n    }\n\n    result += ' />';\n\n    return result;\n  }\n\n  // First, handle reference-style labeled images: ![alt text][id]\n  text = text.replace(referenceRegExp, writeImageTag);\n\n  // Next, handle inline images:  ![alt text](url =<width>x<height> \"optional title\")\n\n  // base64 encoded images\n  text = text.replace(base64RegExp, writeImageTagBase64);\n\n  // cases with crazy urls like ./image/cat1).png\n  text = text.replace(crazyRegExp, writeImageTag);\n\n  // normal cases\n  text = text.replace(inlineRegExp, writeImageTag);\n\n  // handle reference-style shortcuts: ![img text]\n  text = text.replace(refShortcutRegExp, writeImageTag);\n\n  text = globals.converter._dispatch('images.after', text, options, globals);\n  return text;\n});\n\r\nshowdown.subParser('italicsAndBold', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('italicsAndBold.before', text, options, globals);\n\n  // it's faster to have 3 separate regexes for each case than have just one\n  // because of backtracing, in some cases, it could lead to an exponential effect\n  // called \"catastrophic backtrace\". Ominous!\n\n  function parseInside (txt, left, right) {\n    /*\n    if (options.simplifiedAutoLink) {\n      txt = showdown.subParser('simplifiedAutoLinks')(txt, options, globals);\n    }\n    */\n    return left + txt + right;\n  }\n\n  // Parse underscores\n  if (options.literalMidWordUnderscores) {\n    text = text.replace(/\\b___(\\S[\\s\\S]*?)___\\b/g, function (wm, txt) {\n      return parseInside (txt, '<strong><em>', '</em></strong>');\n    });\n    text = text.replace(/\\b__(\\S[\\s\\S]*?)__\\b/g, function (wm, txt) {\n      return parseInside (txt, '<strong>', '</strong>');\n    });\n    text = text.replace(/\\b_(\\S[\\s\\S]*?)_\\b/g, function (wm, txt) {\n      return parseInside (txt, '<em>', '</em>');\n    });\n  } else {\n    text = text.replace(/___(\\S[\\s\\S]*?)___/g, function (wm, m) {\n      return (/\\S$/.test(m)) ? parseInside (m, '<strong><em>', '</em></strong>') : wm;\n    });\n    text = text.replace(/__(\\S[\\s\\S]*?)__/g, function (wm, m) {\n      return (/\\S$/.test(m)) ? parseInside (m, '<strong>', '</strong>') : wm;\n    });\n    text = text.replace(/_([^\\s_][\\s\\S]*?)_/g, function (wm, m) {\n      // !/^_[^_]/.test(m) - test if it doesn't start with __ (since it seems redundant, we removed it)\n      return (/\\S$/.test(m)) ? parseInside (m, '<em>', '</em>') : wm;\n    });\n  }\n\n  // Now parse asterisks\n  if (options.literalMidWordAsterisks) {\n    text = text.replace(/([^*]|^)\\B\\*\\*\\*(\\S[\\s\\S]*?)\\*\\*\\*\\B(?!\\*)/g, function (wm, lead, txt) {\n      return parseInside (txt, lead + '<strong><em>', '</em></strong>');\n    });\n    text = text.replace(/([^*]|^)\\B\\*\\*(\\S[\\s\\S]*?)\\*\\*\\B(?!\\*)/g, function (wm, lead, txt) {\n      return parseInside (txt, lead + '<strong>', '</strong>');\n    });\n    text = text.replace(/([^*]|^)\\B\\*(\\S[\\s\\S]*?)\\*\\B(?!\\*)/g, function (wm, lead, txt) {\n      return parseInside (txt, lead + '<em>', '</em>');\n    });\n  } else {\n    text = text.replace(/\\*\\*\\*(\\S[\\s\\S]*?)\\*\\*\\*/g, function (wm, m) {\n      return (/\\S$/.test(m)) ? parseInside (m, '<strong><em>', '</em></strong>') : wm;\n    });\n    text = text.replace(/\\*\\*(\\S[\\s\\S]*?)\\*\\*/g, function (wm, m) {\n      return (/\\S$/.test(m)) ? parseInside (m, '<strong>', '</strong>') : wm;\n    });\n    text = text.replace(/\\*([^\\s*][\\s\\S]*?)\\*/g, function (wm, m) {\n      // !/^\\*[^*]/.test(m) - test if it doesn't start with ** (since it seems redundant, we removed it)\n      return (/\\S$/.test(m)) ? parseInside (m, '<em>', '</em>') : wm;\n    });\n  }\n\n\n  text = globals.converter._dispatch('italicsAndBold.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Form HTML ordered (numbered) and unordered (bulleted) lists.\n */\nshowdown.subParser('lists', function (text, options, globals) {\n  'use strict';\n\n  /**\n   * Process the contents of a single ordered or unordered list, splitting it\n   * into individual list items.\n   * @param {string} listStr\n   * @param {boolean} trimTrailing\n   * @returns {string}\n   */\n  function processListItems (listStr, trimTrailing) {\n    // The $g_list_level global keeps track of when we're inside a list.\n    // Each time we enter a list, we increment it; when we leave a list,\n    // we decrement. If it's zero, we're not in a list anymore.\n    //\n    // We do this because when we're not inside a list, we want to treat\n    // something like this:\n    //\n    //    I recommend upgrading to version\n    //    8. Oops, now this line is treated\n    //    as a sub-list.\n    //\n    // As a single paragraph, despite the fact that the second line starts\n    // with a digit-period-space sequence.\n    //\n    // Whereas when we're inside a list (or sub-list), that line will be\n    // treated as the start of a sub-list. What a kludge, huh? This is\n    // an aspect of Markdown's syntax that's hard to parse perfectly\n    // without resorting to mind-reading. Perhaps the solution is to\n    // change the syntax rules such that sub-lists must start with a\n    // starting cardinal number; e.g. \"1.\" or \"a.\".\n    globals.gListLevel++;\n\n    // trim trailing blank lines:\n    listStr = listStr.replace(/\\n{2,}$/, '\\n');\n\n    // attacklab: add sentinel to emulate \\z\n    listStr += '0';\n\n    var rgx = /(\\n)?(^ {0,3})([*+-]|\\d+[.])[ \\t]+((\\[(x|X| )?])?[ \\t]*[^\\r]+?(\\n{1,2}))(?=\\n*(0| {0,3}([*+-]|\\d+[.])[ \\t]+))/gm,\n        isParagraphed = (/\\n[ \\t]*\\n(?!0)/.test(listStr));\n\n    // Since version 1.5, nesting sublists requires 4 spaces (or 1 tab) indentation,\n    // which is a syntax breaking change\n    // activating this option reverts to old behavior\n    if (options.disableForced4SpacesIndentedSublists) {\n      rgx = /(\\n)?(^ {0,3})([*+-]|\\d+[.])[ \\t]+((\\[(x|X| )?])?[ \\t]*[^\\r]+?(\\n{1,2}))(?=\\n*(0|\\2([*+-]|\\d+[.])[ \\t]+))/gm;\n    }\n\n    listStr = listStr.replace(rgx, function (wholeMatch, m1, m2, m3, m4, taskbtn, checked) {\n      checked = (checked && checked.trim() !== '');\n\n      var item = showdown.subParser('outdent')(m4, options, globals),\n          bulletStyle = '';\n\n      // Support for github tasklists\n      if (taskbtn && options.tasklists) {\n        bulletStyle = ' class=\"task-list-item\" style=\"list-style-type: none;\"';\n        item = item.replace(/^[ \\t]*\\[(x|X| )?]/m, function () {\n          var otp = '<input type=\"checkbox\" disabled style=\"margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;\"';\n          if (checked) {\n            otp += ' checked';\n          }\n          otp += '>';\n          return otp;\n        });\n      }\n\n      // ISSUE #312\n      // This input: - - - a\n      // causes trouble to the parser, since it interprets it as:\n      // <ul><li><li><li>a</li></li></li></ul>\n      // instead of:\n      // <ul><li>- - a</li></ul>\n      // So, to prevent it, we will put a marker (A)in the beginning of the line\n      // Kind of hackish/monkey patching, but seems more effective than overcomplicating the list parser\n      item = item.replace(/^([-*+]|\\d\\.)[ \\t]+[\\S\\n ]*/g, function (wm2) {\n        return 'A' + wm2;\n      });\n\n      // m1 - Leading line or\n      // Has a double return (multi paragraph) or\n      // Has sublist\n      if (m1 || (item.search(/\\n{2,}/) > -1)) {\n        item = showdown.subParser('githubCodeBlocks')(item, options, globals);\n        item = showdown.subParser('blockGamut')(item, options, globals);\n      } else {\n        // Recursion for sub-lists:\n        item = showdown.subParser('lists')(item, options, globals);\n        item = item.replace(/\\n$/, ''); // chomp(item)\n        item = showdown.subParser('hashHTMLBlocks')(item, options, globals);\n\n        // Colapse double linebreaks\n        item = item.replace(/\\n\\n+/g, '\\n\\n');\n        if (isParagraphed) {\n          item = showdown.subParser('paragraphs')(item, options, globals);\n        } else {\n          item = showdown.subParser('spanGamut')(item, options, globals);\n        }\n      }\n\n      // now we need to remove the marker (A)\n      item = item.replace('A', '');\n      // we can finally wrap the line in list item tags\n      item =  '<li' + bulletStyle + '>' + item + '</li>\\n';\n\n      return item;\n    });\n\n    // attacklab: strip sentinel\n    listStr = listStr.replace(/0/g, '');\n\n    globals.gListLevel--;\n\n    if (trimTrailing) {\n      listStr = listStr.replace(/\\s+$/, '');\n    }\n\n    return listStr;\n  }\n\n  function styleStartNumber (list, listType) {\n    // check if ol and starts by a number different than 1\n    if (listType === 'ol') {\n      var res = list.match(/^ *(\\d+)\\./);\n      if (res && res[1] !== '1') {\n        return ' start=\"' + res[1] + '\"';\n      }\n    }\n    return '';\n  }\n\n  /**\n   * Check and parse consecutive lists (better fix for issue #142)\n   * @param {string} list\n   * @param {string} listType\n   * @param {boolean} trimTrailing\n   * @returns {string}\n   */\n  function parseConsecutiveLists (list, listType, trimTrailing) {\n    // check if we caught 2 or more consecutive lists by mistake\n    // we use the counterRgx, meaning if listType is UL we look for OL and vice versa\n    var olRgx = (options.disableForced4SpacesIndentedSublists) ? /^ ?\\d+\\.[ \\t]/gm : /^ {0,3}\\d+\\.[ \\t]/gm,\n        ulRgx = (options.disableForced4SpacesIndentedSublists) ? /^ ?[*+-][ \\t]/gm : /^ {0,3}[*+-][ \\t]/gm,\n        counterRxg = (listType === 'ul') ? olRgx : ulRgx,\n        result = '';\n\n    if (list.search(counterRxg) !== -1) {\n      (function parseCL (txt) {\n        var pos = txt.search(counterRxg),\n            style = styleStartNumber(list, listType);\n        if (pos !== -1) {\n          // slice\n          result += '\\n\\n<' + listType + style + '>\\n' + processListItems(txt.slice(0, pos), !!trimTrailing) + '</' + listType + '>\\n';\n\n          // invert counterType and listType\n          listType = (listType === 'ul') ? 'ol' : 'ul';\n          counterRxg = (listType === 'ul') ? olRgx : ulRgx;\n\n          //recurse\n          parseCL(txt.slice(pos));\n        } else {\n          result += '\\n\\n<' + listType + style + '>\\n' + processListItems(txt, !!trimTrailing) + '</' + listType + '>\\n';\n        }\n      })(list);\n    } else {\n      var style = styleStartNumber(list, listType);\n      result = '\\n\\n<' + listType + style + '>\\n' + processListItems(list, !!trimTrailing) + '</' + listType + '>\\n';\n    }\n\n    return result;\n  }\n\n  /** Start of list parsing **/\n  text = globals.converter._dispatch('lists.before', text, options, globals);\n  // add sentinel to hack around khtml/safari bug:\n  // http://bugs.webkit.org/show_bug.cgi?id=11231\n  text += '0';\n\n  if (globals.gListLevel) {\n    text = text.replace(/^(( {0,3}([*+-]|\\d+[.])[ \\t]+)[^\\r]+?(0|\\n{2,}(?=\\S)(?![ \\t]*(?:[*+-]|\\d+[.])[ \\t]+)))/gm,\n      function (wholeMatch, list, m2) {\n        var listType = (m2.search(/[*+-]/g) > -1) ? 'ul' : 'ol';\n        return parseConsecutiveLists(list, listType, true);\n      }\n    );\n  } else {\n    text = text.replace(/(\\n\\n|^\\n?)(( {0,3}([*+-]|\\d+[.])[ \\t]+)[^\\r]+?(0|\\n{2,}(?=\\S)(?![ \\t]*(?:[*+-]|\\d+[.])[ \\t]+)))/gm,\n      function (wholeMatch, m1, list, m3) {\n        var listType = (m3.search(/[*+-]/g) > -1) ? 'ul' : 'ol';\n        return parseConsecutiveLists(list, listType, false);\n      }\n    );\n  }\n\n  // strip sentinel\n  text = text.replace(/0/, '');\n  text = globals.converter._dispatch('lists.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Parse metadata at the top of the document\n */\nshowdown.subParser('metadata', function (text, options, globals) {\n  'use strict';\n\n  if (!options.metadata) {\n    return text;\n  }\n\n  text = globals.converter._dispatch('metadata.before', text, options, globals);\n\n  function parseMetadataContents (content) {\n    // raw is raw so it's not changed in any way\n    globals.metadata.raw = content;\n\n    // escape chars forbidden in html attributes\n    // double quotes\n    content = content\n      // ampersand first\n      .replace(/&/g, '&amp;')\n      // double quotes\n      .replace(/\"/g, '&quot;');\n\n    content = content.replace(/\\n {4}/g, ' ');\n    content.replace(/^([\\S ]+): +([\\s\\S]+?)$/gm, function (wm, key, value) {\n      globals.metadata.parsed[key] = value;\n      return '';\n    });\n  }\n\n  text = text.replace(/^\\s*+(\\S*?)\\n([\\s\\S]+?)\\n+\\n/, function (wholematch, format, content) {\n    parseMetadataContents(content);\n    return 'M';\n  });\n\n  text = text.replace(/^\\s*---+(\\S*?)\\n([\\s\\S]+?)\\n---+\\n/, function (wholematch, format, content) {\n    if (format) {\n      globals.metadata.format = format;\n    }\n    parseMetadataContents(content);\n    return 'M';\n  });\n\n  text = text.replace(/M/g, '');\n\n  text = globals.converter._dispatch('metadata.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Remove one level of line-leading tabs or spaces\n */\nshowdown.subParser('outdent', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('outdent.before', text, options, globals);\n\n  // attacklab: hack around Konqueror 3.5.4 bug:\n  // \"----------bug\".replace(/^-/g,\"\") == \"bug\"\n  text = text.replace(/^(\\t|[ ]{1,4})/gm, '0'); // attacklab: g_tab_width\n\n  // attacklab: clean up hack\n  text = text.replace(/0/g, '');\n\n  text = globals.converter._dispatch('outdent.after', text, options, globals);\n  return text;\n});\n\r\n/**\n *\n */\nshowdown.subParser('paragraphs', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('paragraphs.before', text, options, globals);\n  // Strip leading and trailing lines:\n  text = text.replace(/^\\n+/g, '');\n  text = text.replace(/\\n+$/g, '');\n\n  var grafs = text.split(/\\n{2,}/g),\n      grafsOut = [],\n      end = grafs.length; // Wrap <p> tags\n\n  for (var i = 0; i < end; i++) {\n    var str = grafs[i];\n    // if this is an HTML marker, copy it\n    if (str.search(/(K|G)(\\d+)\\1/g) >= 0) {\n      grafsOut.push(str);\n\n    // test for presence of characters to prevent empty lines being parsed\n    // as paragraphs (resulting in undesired extra empty paragraphs)\n    } else if (str.search(/\\S/) >= 0) {\n      str = showdown.subParser('spanGamut')(str, options, globals);\n      str = str.replace(/^([ \\t]*)/g, '<p>');\n      str += '</p>';\n      grafsOut.push(str);\n    }\n  }\n\n  /** Unhashify HTML blocks */\n  end = grafsOut.length;\n  for (i = 0; i < end; i++) {\n    var blockText = '',\n        grafsOutIt = grafsOut[i],\n        codeFlag = false;\n    // if this is a marker for an html block...\n    // use RegExp.test instead of string.search because of QML bug\n    while (/(K|G)(\\d+)\\1/.test(grafsOutIt)) {\n      var delim = RegExp.$1,\n          num   = RegExp.$2;\n\n      if (delim === 'K') {\n        blockText = globals.gHtmlBlocks[num];\n      } else {\n        // we need to check if ghBlock is a false positive\n        if (codeFlag) {\n          // use encoded version of all text\n          blockText = showdown.subParser('encodeCode')(globals.ghCodeBlocks[num].text, options, globals);\n        } else {\n          blockText = globals.ghCodeBlocks[num].codeblock;\n        }\n      }\n      blockText = blockText.replace(/\\$/g, '$$$$'); // Escape any dollar signs\n\n      grafsOutIt = grafsOutIt.replace(/(\\n\\n)?(K|G)\\d+\\2(\\n\\n)?/, blockText);\n      // Check if grafsOutIt is a pre->code\n      if (/^<pre\\b[^>]*>\\s*<code\\b[^>]*>/.test(grafsOutIt)) {\n        codeFlag = true;\n      }\n    }\n    grafsOut[i] = grafsOutIt;\n  }\n  text = grafsOut.join('\\n');\n  // Strip leading and trailing lines:\n  text = text.replace(/^\\n+/g, '');\n  text = text.replace(/\\n+$/g, '');\n  return globals.converter._dispatch('paragraphs.after', text, options, globals);\n});\n\r\n/**\n * Run extension\n */\nshowdown.subParser('runExtension', function (ext, text, options, globals) {\n  'use strict';\n\n  if (ext.filter) {\n    text = ext.filter(text, globals.converter, options);\n\n  } else if (ext.regex) {\n    // TODO remove this when old extension loading mechanism is deprecated\n    var re = ext.regex;\n    if (!(re instanceof RegExp)) {\n      re = new RegExp(re, 'g');\n    }\n    text = text.replace(re, ext.replace);\n  }\n\n  return text;\n});\n\r\n/**\n * These are all the transformations that occur *within* block-level\n * tags like paragraphs, headers, and list items.\n */\nshowdown.subParser('spanGamut', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('spanGamut.before', text, options, globals);\n  text = showdown.subParser('codeSpans')(text, options, globals);\n  text = showdown.subParser('escapeSpecialCharsWithinTagAttributes')(text, options, globals);\n  text = showdown.subParser('encodeBackslashEscapes')(text, options, globals);\n\n  // Process anchor and image tags. Images must come first,\n  // because ![foo][f] looks like an anchor.\n  text = showdown.subParser('images')(text, options, globals);\n  text = showdown.subParser('anchors')(text, options, globals);\n\n  // Make links out of things like `<http://example.com/>`\n  // Must come after anchors, because you can use < and >\n  // delimiters in inline links like [this](<url>).\n  text = showdown.subParser('autoLinks')(text, options, globals);\n  text = showdown.subParser('simplifiedAutoLinks')(text, options, globals);\n  text = showdown.subParser('emoji')(text, options, globals);\n  text = showdown.subParser('underline')(text, options, globals);\n  text = showdown.subParser('italicsAndBold')(text, options, globals);\n  text = showdown.subParser('strikethrough')(text, options, globals);\n  text = showdown.subParser('ellipsis')(text, options, globals);\n\n  // we need to hash HTML tags inside spans\n  text = showdown.subParser('hashHTMLSpans')(text, options, globals);\n\n  // now we encode amps and angles\n  text = showdown.subParser('encodeAmpsAndAngles')(text, options, globals);\n\n  // Do hard breaks\n  if (options.simpleLineBreaks) {\n    // GFM style hard breaks\n    // only add line breaks if the text does not contain a block (special case for lists)\n    if (!/\\n\\nK/.test(text)) {\n      text = text.replace(/\\n+/g, '<br />\\n');\n    }\n  } else {\n    // Vanilla hard breaks\n    text = text.replace(/  +\\n/g, '<br />\\n');\n  }\n\n  text = globals.converter._dispatch('spanGamut.after', text, options, globals);\n  return text;\n});\n\r\nshowdown.subParser('strikethrough', function (text, options, globals) {\n  'use strict';\n\n  function parseInside (txt) {\n    if (options.simplifiedAutoLink) {\n      txt = showdown.subParser('simplifiedAutoLinks')(txt, options, globals);\n    }\n    return '<del>' + txt + '</del>';\n  }\n\n  if (options.strikethrough) {\n    text = globals.converter._dispatch('strikethrough.before', text, options, globals);\n    text = text.replace(/(?:~){2}([\\s\\S]+?)(?:~){2}/g, function (wm, txt) { return parseInside(txt); });\n    text = globals.converter._dispatch('strikethrough.after', text, options, globals);\n  }\n\n  return text;\n});\n\r\n/**\n * Strips link definitions from text, stores the URLs and titles in\n * hash references.\n * Link defs are in the form: ^[id]: url \"optional title\"\n */\nshowdown.subParser('stripLinkDefinitions', function (text, options, globals) {\n  'use strict';\n\n  var regex       = /^ {0,3}\\[([^\\]]+)]:[ \\t]*\\n?[ \\t]*<?([^>\\s]+)>?(?: =([*\\d]+[A-Za-z%]{0,4})x([*\\d]+[A-Za-z%]{0,4}))?[ \\t]*\\n?[ \\t]*(?:(\\n*)[\"|'(](.+?)[\"|')][ \\t]*)?(?:\\n+|(?=0))/gm,\n      base64Regex = /^ {0,3}\\[([^\\]]+)]:[ \\t]*\\n?[ \\t]*<?(data:.+?\\/.+?;base64,[A-Za-z0-9+/=\\n]+?)>?(?: =([*\\d]+[A-Za-z%]{0,4})x([*\\d]+[A-Za-z%]{0,4}))?[ \\t]*\\n?[ \\t]*(?:(\\n*)[\"|'(](.+?)[\"|')][ \\t]*)?(?:\\n\\n|(?=0)|(?=\\n\\[))/gm;\n\n  // attacklab: sentinel workarounds for lack of \\A and \\Z, safari\\khtml bug\n  text += '0';\n\n  var replaceFunc = function (wholeMatch, linkId, url, width, height, blankLines, title) {\n\n    // if there aren't two instances of linkId it must not be a reference link so back out\n    linkId = linkId.toLowerCase();\n    if (text.toLowerCase().split(linkId).length - 1 < 2) {\n      return wholeMatch;\n    }\n    if (url.match(/^data:.+?\\/.+?;base64,/)) {\n      // remove newlines\n      globals.gUrls[linkId] = url.replace(/\\s/g, '');\n    } else {\n      globals.gUrls[linkId] = showdown.subParser('encodeAmpsAndAngles')(url, options, globals);  // Link IDs are case-insensitive\n    }\n\n    if (blankLines) {\n      // Oops, found blank lines, so it's not a title.\n      // Put back the parenthetical statement we stole.\n      return blankLines + title;\n\n    } else {\n      if (title) {\n        globals.gTitles[linkId] = title.replace(/\"|'/g, '&quot;');\n      }\n      if (options.parseImgDimensions && width && height) {\n        globals.gDimensions[linkId] = {\n          width:  width,\n          height: height\n        };\n      }\n    }\n    // Completely remove the definition from the text\n    return '';\n  };\n\n  // first we try to find base64 link references\n  text = text.replace(base64Regex, replaceFunc);\n\n  text = text.replace(regex, replaceFunc);\n\n  // attacklab: strip sentinel\n  text = text.replace(/0/, '');\n\n  return text;\n});\n\r\nshowdown.subParser('tables', function (text, options, globals) {\n  'use strict';\n\n  if (!options.tables) {\n    return text;\n  }\n\n  var tableRgx       = /^ {0,3}\\|?.+\\|.+\\n {0,3}\\|?[ \\t]*:?[ \\t]*(?:[-=]){2,}[ \\t]*:?[ \\t]*\\|[ \\t]*:?[ \\t]*(?:[-=]){2,}[\\s\\S]+?(?:\\n\\n|0)/gm,\n      //singeColTblRgx = /^ {0,3}\\|.+\\|\\n {0,3}\\|[ \\t]*:?[ \\t]*(?:[-=]){2,}[ \\t]*:?[ \\t]*\\|[ \\t]*\\n(?: {0,3}\\|.+\\|\\n)+(?:\\n\\n|0)/gm;\n      singeColTblRgx = /^ {0,3}\\|.+\\|[ \\t]*\\n {0,3}\\|[ \\t]*:?[ \\t]*(?:[-=]){2,}[ \\t]*:?[ \\t]*\\|[ \\t]*\\n( {0,3}\\|.+\\|[ \\t]*\\n)*(?:\\n|0)/gm;\n\n  function parseStyles (sLine) {\n    if (/^:[ \\t]*--*$/.test(sLine)) {\n      return ' style=\"text-align:left;\"';\n    } else if (/^--*[ \\t]*:[ \\t]*$/.test(sLine)) {\n      return ' style=\"text-align:right;\"';\n    } else if (/^:[ \\t]*--*[ \\t]*:$/.test(sLine)) {\n      return ' style=\"text-align:center;\"';\n    } else {\n      return '';\n    }\n  }\n\n  function parseHeaders (header, style) {\n    var id = '';\n    header = header.trim();\n    // support both tablesHeaderId and tableHeaderId due to error in documentation so we don't break backwards compatibility\n    if (options.tablesHeaderId || options.tableHeaderId) {\n      id = ' id=\"' + header.replace(/ /g, '_').toLowerCase() + '\"';\n    }\n    header = showdown.subParser('spanGamut')(header, options, globals);\n\n    return '<th' + id + style + '>' + header + '</th>\\n';\n  }\n\n  function parseCells (cell, style) {\n    var subText = showdown.subParser('spanGamut')(cell, options, globals);\n    return '<td' + style + '>' + subText + '</td>\\n';\n  }\n\n  function buildTable (headers, cells) {\n    var tb = '<table>\\n<thead>\\n<tr>\\n',\n        tblLgn = headers.length;\n\n    for (var i = 0; i < tblLgn; ++i) {\n      tb += headers[i];\n    }\n    tb += '</tr>\\n</thead>\\n<tbody>\\n';\n\n    for (i = 0; i < cells.length; ++i) {\n      tb += '<tr>\\n';\n      for (var ii = 0; ii < tblLgn; ++ii) {\n        tb += cells[i][ii];\n      }\n      tb += '</tr>\\n';\n    }\n    tb += '</tbody>\\n</table>\\n';\n    return tb;\n  }\n\n  function parseTable (rawTable) {\n    var i, tableLines = rawTable.split('\\n');\n\n    for (i = 0; i < tableLines.length; ++i) {\n      // strip wrong first and last column if wrapped tables are used\n      if (/^ {0,3}\\|/.test(tableLines[i])) {\n        tableLines[i] = tableLines[i].replace(/^ {0,3}\\|/, '');\n      }\n      if (/\\|[ \\t]*$/.test(tableLines[i])) {\n        tableLines[i] = tableLines[i].replace(/\\|[ \\t]*$/, '');\n      }\n      // parse code spans first, but we only support one line code spans\n      tableLines[i] = showdown.subParser('codeSpans')(tableLines[i], options, globals);\n    }\n\n    var rawHeaders = tableLines[0].split('|').map(function (s) { return s.trim();}),\n        rawStyles = tableLines[1].split('|').map(function (s) { return s.trim();}),\n        rawCells = [],\n        headers = [],\n        styles = [],\n        cells = [];\n\n    tableLines.shift();\n    tableLines.shift();\n\n    for (i = 0; i < tableLines.length; ++i) {\n      if (tableLines[i].trim() === '') {\n        continue;\n      }\n      rawCells.push(\n        tableLines[i]\n          .split('|')\n          .map(function (s) {\n            return s.trim();\n          })\n      );\n    }\n\n    if (rawHeaders.length < rawStyles.length) {\n      return rawTable;\n    }\n\n    for (i = 0; i < rawStyles.length; ++i) {\n      styles.push(parseStyles(rawStyles[i]));\n    }\n\n    for (i = 0; i < rawHeaders.length; ++i) {\n      if (showdown.helper.isUndefined(styles[i])) {\n        styles[i] = '';\n      }\n      headers.push(parseHeaders(rawHeaders[i], styles[i]));\n    }\n\n    for (i = 0; i < rawCells.length; ++i) {\n      var row = [];\n      for (var ii = 0; ii < headers.length; ++ii) {\n        if (showdown.helper.isUndefined(rawCells[i][ii])) {\n\n        }\n        row.push(parseCells(rawCells[i][ii], styles[ii]));\n      }\n      cells.push(row);\n    }\n\n    return buildTable(headers, cells);\n  }\n\n  text = globals.converter._dispatch('tables.before', text, options, globals);\n\n  // find escaped pipe characters\n  text = text.replace(/\\\\(\\|)/g, showdown.helper.escapeCharactersCallback);\n\n  // parse multi column tables\n  text = text.replace(tableRgx, parseTable);\n\n  // parse one column tables\n  text = text.replace(singeColTblRgx, parseTable);\n\n  text = globals.converter._dispatch('tables.after', text, options, globals);\n\n  return text;\n});\n\r\nshowdown.subParser('underline', function (text, options, globals) {\n  'use strict';\n\n  if (!options.underline) {\n    return text;\n  }\n\n  text = globals.converter._dispatch('underline.before', text, options, globals);\n\n  if (options.literalMidWordUnderscores) {\n    text = text.replace(/\\b___(\\S[\\s\\S]*?)___\\b/g, function (wm, txt) {\n      return '<u>' + txt + '</u>';\n    });\n    text = text.replace(/\\b__(\\S[\\s\\S]*?)__\\b/g, function (wm, txt) {\n      return '<u>' + txt + '</u>';\n    });\n  } else {\n    text = text.replace(/___(\\S[\\s\\S]*?)___/g, function (wm, m) {\n      return (/\\S$/.test(m)) ? '<u>' + m + '</u>' : wm;\n    });\n    text = text.replace(/__(\\S[\\s\\S]*?)__/g, function (wm, m) {\n      return (/\\S$/.test(m)) ? '<u>' + m + '</u>' : wm;\n    });\n  }\n\n  // escape remaining underscores to prevent them being parsed by italic and bold\n  text = text.replace(/(_)/g, showdown.helper.escapeCharactersCallback);\n\n  text = globals.converter._dispatch('underline.after', text, options, globals);\n\n  return text;\n});\n\r\n/**\n * Swap back in all the special characters we've hidden.\n */\nshowdown.subParser('unescapeSpecialChars', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('unescapeSpecialChars.before', text, options, globals);\n\n  text = text.replace(/E(\\d+)E/g, function (wholeMatch, m1) {\n    var charCodeToReplace = parseInt(m1);\n    return String.fromCharCode(charCodeToReplace);\n  });\n\n  text = globals.converter._dispatch('unescapeSpecialChars.after', text, options, globals);\n  return text;\n});\n\r\nshowdown.subParser('makeMarkdown.blockquote', function (node, globals) {\n  'use strict';\n\n  var txt = '';\n  if (node.hasChildNodes()) {\n    var children = node.childNodes,\n        childrenLength = children.length;\n\n    for (var i = 0; i < childrenLength; ++i) {\n      var innerTxt = showdown.subParser('makeMarkdown.node')(children[i], globals);\n\n      if (innerTxt === '') {\n        continue;\n      }\n      txt += innerTxt;\n    }\n  }\n  // cleanup\n  txt = txt.trim();\n  txt = '> ' + txt.split('\\n').join('\\n> ');\n  return txt;\n});\n\r\nshowdown.subParser('makeMarkdown.codeBlock', function (node, globals) {\n  'use strict';\n\n  var lang = node.getAttribute('language'),\n      num  = node.getAttribute('precodenum');\n  return '```' + lang + '\\n' + globals.preList[num] + '\\n```';\n});\n\r\nshowdown.subParser('makeMarkdown.codeSpan', function (node) {\n  'use strict';\n\n  return '`' + node.innerHTML + '`';\n});\n\r\nshowdown.subParser('makeMarkdown.emphasis', function (node, globals) {\n  'use strict';\n\n  var txt = '';\n  if (node.hasChildNodes()) {\n    txt += '*';\n    var children = node.childNodes,\n        childrenLength = children.length;\n    for (var i = 0; i < childrenLength; ++i) {\n      txt += showdown.subParser('makeMarkdown.node')(children[i], globals);\n    }\n    txt += '*';\n  }\n  return txt;\n});\n\r\nshowdown.subParser('makeMarkdown.header', function (node, globals, headerLevel) {\n  'use strict';\n\n  var headerMark = new Array(headerLevel + 1).join('#'),\n      txt = '';\n\n  if (node.hasChildNodes()) {\n    txt = headerMark + ' ';\n    var children = node.childNodes,\n        childrenLength = children.length;\n\n    for (var i = 0; i < childrenLength; ++i) {\n      txt += showdown.subParser('makeMarkdown.node')(children[i], globals);\n    }\n  }\n  return txt;\n});\n\r\nshowdown.subParser('makeMarkdown.hr', function () {\n  'use strict';\n\n  return '---';\n});\n\r\nshowdown.subParser('makeMarkdown.image', function (node) {\n  'use strict';\n\n  var txt = '';\n  if (node.hasAttribute('src')) {\n    txt += '![' + node.getAttribute('alt') + '](';\n    txt += '<' + node.getAttribute('src') + '>';\n    if (node.hasAttribute('width') && node.hasAttribute('height')) {\n      txt += ' =' + node.getAttribute('width') + 'x' + node.getAttribute('height');\n    }\n\n    if (node.hasAttribute('title')) {\n      txt += ' \"' + node.getAttribute('title') + '\"';\n    }\n    txt += ')';\n  }\n  return txt;\n});\n\r\nshowdown.subParser('makeMarkdown.links', function (node, globals) {\n  'use strict';\n\n  var txt = '';\n  if (node.hasChildNodes() && node.hasAttribute('href')) {\n    var children = node.childNodes,\n        childrenLength = children.length;\n    txt = '[';\n    for (var i = 0; i < childrenLength; ++i) {\n      txt += showdown.subParser('makeMarkdown.node')(children[i], globals);\n    }\n    txt += '](';\n    txt += '<' + node.getAttribute('href') + '>';\n    if (node.hasAttribute('title')) {\n      txt += ' \"' + node.getAttribute('title') + '\"';\n    }\n    txt += ')';\n  }\n  return txt;\n});\n\r\nshowdown.subParser('makeMarkdown.list', function (node, globals, type) {\n  'use strict';\n\n  var txt = '';\n  if (!node.hasChildNodes()) {\n    return '';\n  }\n  var listItems       = node.childNodes,\n      listItemsLenght = listItems.length,\n      listNum = node.getAttribute('start') || 1;\n\n  for (var i = 0; i < listItemsLenght; ++i) {\n    if (typeof listItems[i].tagName === 'undefined' || listItems[i].tagName.toLowerCase() !== 'li') {\n      continue;\n    }\n\n    // define the bullet to use in list\n    var bullet = '';\n    if (type === 'ol') {\n      bullet = listNum.toString() + '. ';\n    } else {\n      bullet = '- ';\n    }\n\n    // parse list item\n    txt += bullet + showdown.subParser('makeMarkdown.listItem')(listItems[i], globals);\n    ++listNum;\n  }\n\n  // add comment at the end to prevent consecutive lists to be parsed as one\n  txt += '\\n<!-- -->\\n';\n  return txt.trim();\n});\n\r\nshowdown.subParser('makeMarkdown.listItem', function (node, globals) {\n  'use strict';\n\n  var listItemTxt = '';\n\n  var children = node.childNodes,\n      childrenLenght = children.length;\n\n  for (var i = 0; i < childrenLenght; ++i) {\n    listItemTxt += showdown.subParser('makeMarkdown.node')(children[i], globals);\n  }\n  // if it's only one liner, we need to add a newline at the end\n  if (!/\\n$/.test(listItemTxt)) {\n    listItemTxt += '\\n';\n  } else {\n    // it's multiparagraph, so we need to indent\n    listItemTxt = listItemTxt\n      .split('\\n')\n      .join('\\n    ')\n      .replace(/^ {4}$/gm, '')\n      .replace(/\\n\\n+/g, '\\n\\n');\n  }\n\n  return listItemTxt;\n});\n\r\n\n\nshowdown.subParser('makeMarkdown.node', function (node, globals, spansOnly) {\n  'use strict';\n\n  spansOnly = spansOnly || false;\n\n  var txt = '';\n\n  // edge case of text without wrapper paragraph\n  if (node.nodeType === 3) {\n    return showdown.subParser('makeMarkdown.txt')(node, globals);\n  }\n\n  // HTML comment\n  if (node.nodeType === 8) {\n    return '<!--' + node.data + '-->\\n\\n';\n  }\n\n  // process only node elements\n  if (node.nodeType !== 1) {\n    return '';\n  }\n\n  var tagName = node.tagName.toLowerCase();\n\n  switch (tagName) {\n\n    //\n    // BLOCKS\n    //\n    case 'h1':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.header')(node, globals, 1) + '\\n\\n'; }\n      break;\n    case 'h2':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.header')(node, globals, 2) + '\\n\\n'; }\n      break;\n    case 'h3':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.header')(node, globals, 3) + '\\n\\n'; }\n      break;\n    case 'h4':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.header')(node, globals, 4) + '\\n\\n'; }\n      break;\n    case 'h5':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.header')(node, globals, 5) + '\\n\\n'; }\n      break;\n    case 'h6':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.header')(node, globals, 6) + '\\n\\n'; }\n      break;\n\n    case 'p':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.paragraph')(node, globals) + '\\n\\n'; }\n      break;\n\n    case 'blockquote':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.blockquote')(node, globals) + '\\n\\n'; }\n      break;\n\n    case 'hr':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.hr')(node, globals) + '\\n\\n'; }\n      break;\n\n    case 'ol':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.list')(node, globals, 'ol') + '\\n\\n'; }\n      break;\n\n    case 'ul':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.list')(node, globals, 'ul') + '\\n\\n'; }\n      break;\n\n    case 'precode':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.codeBlock')(node, globals) + '\\n\\n'; }\n      break;\n\n    case 'pre':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.pre')(node, globals) + '\\n\\n'; }\n      break;\n\n    case 'table':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.table')(node, globals) + '\\n\\n'; }\n      break;\n\n    //\n    // SPANS\n    //\n    case 'code':\n      txt = showdown.subParser('makeMarkdown.codeSpan')(node, globals);\n      break;\n\n    case 'em':\n    case 'i':\n      txt = showdown.subParser('makeMarkdown.emphasis')(node, globals);\n      break;\n\n    case 'strong':\n    case 'b':\n      txt = showdown.subParser('makeMarkdown.strong')(node, globals);\n      break;\n\n    case 'del':\n      txt = showdown.subParser('makeMarkdown.strikethrough')(node, globals);\n      break;\n\n    case 'a':\n      txt = showdown.subParser('makeMarkdown.links')(node, globals);\n      break;\n\n    case 'img':\n      txt = showdown.subParser('makeMarkdown.image')(node, globals);\n      break;\n\n    default:\n      txt = node.outerHTML + '\\n\\n';\n  }\n\n  // common normalization\n  // TODO eventually\n\n  return txt;\n});\n\r\nshowdown.subParser('makeMarkdown.paragraph', function (node, globals) {\n  'use strict';\n\n  var txt = '';\n  if (node.hasChildNodes()) {\n    var children = node.childNodes,\n        childrenLength = children.length;\n    for (var i = 0; i < childrenLength; ++i) {\n      txt += showdown.subParser('makeMarkdown.node')(children[i], globals);\n    }\n  }\n\n  // some text normalization\n  txt = txt.trim();\n\n  return txt;\n});\n\r\nshowdown.subParser('makeMarkdown.pre', function (node, globals) {\n  'use strict';\n\n  var num  = node.getAttribute('prenum');\n  return '<pre>' + globals.preList[num] + '</pre>';\n});\n\r\nshowdown.subParser('makeMarkdown.strikethrough', function (node, globals) {\n  'use strict';\n\n  var txt = '';\n  if (node.hasChildNodes()) {\n    txt += '~~';\n    var children = node.childNodes,\n        childrenLength = children.length;\n    for (var i = 0; i < childrenLength; ++i) {\n      txt += showdown.subParser('makeMarkdown.node')(children[i], globals);\n    }\n    txt += '~~';\n  }\n  return txt;\n});\n\r\nshowdown.subParser('makeMarkdown.strong', function (node, globals) {\n  'use strict';\n\n  var txt = '';\n  if (node.hasChildNodes()) {\n    txt += '**';\n    var children = node.childNodes,\n        childrenLength = children.length;\n    for (var i = 0; i < childrenLength; ++i) {\n      txt += showdown.subParser('makeMarkdown.node')(children[i], globals);\n    }\n    txt += '**';\n  }\n  return txt;\n});\n\r\nshowdown.subParser('makeMarkdown.table', function (node, globals) {\n  'use strict';\n\n  var txt = '',\n      tableArray = [[], []],\n      headings   = node.querySelectorAll('thead>tr>th'),\n      rows       = node.querySelectorAll('tbody>tr'),\n      i, ii;\n  for (i = 0; i < headings.length; ++i) {\n    var headContent = showdown.subParser('makeMarkdown.tableCell')(headings[i], globals),\n        allign = '---';\n\n    if (headings[i].hasAttribute('style')) {\n      var style = headings[i].getAttribute('style').toLowerCase().replace(/\\s/g, '');\n      switch (style) {\n        case 'text-align:left;':\n          allign = ':---';\n          break;\n        case 'text-align:right;':\n          allign = '---:';\n          break;\n        case 'text-align:center;':\n          allign = ':---:';\n          break;\n      }\n    }\n    tableArray[0][i] = headContent.trim();\n    tableArray[1][i] = allign;\n  }\n\n  for (i = 0; i < rows.length; ++i) {\n    var r = tableArray.push([]) - 1,\n        cols = rows[i].getElementsByTagName('td');\n\n    for (ii = 0; ii < headings.length; ++ii) {\n      var cellContent = ' ';\n      if (typeof cols[ii] !== 'undefined') {\n        cellContent = showdown.subParser('makeMarkdown.tableCell')(cols[ii], globals);\n      }\n      tableArray[r].push(cellContent);\n    }\n  }\n\n  var cellSpacesCount = 3;\n  for (i = 0; i < tableArray.length; ++i) {\n    for (ii = 0; ii < tableArray[i].length; ++ii) {\n      var strLen = tableArray[i][ii].length;\n      if (strLen > cellSpacesCount) {\n        cellSpacesCount = strLen;\n      }\n    }\n  }\n\n  for (i = 0; i < tableArray.length; ++i) {\n    for (ii = 0; ii < tableArray[i].length; ++ii) {\n      if (i === 1) {\n        if (tableArray[i][ii].slice(-1) === ':') {\n          tableArray[i][ii] = showdown.helper.padEnd(tableArray[i][ii].slice(-1), cellSpacesCount - 1, '-') + ':';\n        } else {\n          tableArray[i][ii] = showdown.helper.padEnd(tableArray[i][ii], cellSpacesCount, '-');\n        }\n      } else {\n        tableArray[i][ii] = showdown.helper.padEnd(tableArray[i][ii], cellSpacesCount);\n      }\n    }\n    txt += '| ' + tableArray[i].join(' | ') + ' |\\n';\n  }\n\n  return txt.trim();\n});\n\r\nshowdown.subParser('makeMarkdown.tableCell', function (node, globals) {\n  'use strict';\n\n  var txt = '';\n  if (!node.hasChildNodes()) {\n    return '';\n  }\n  var children = node.childNodes,\n      childrenLength = children.length;\n\n  for (var i = 0; i < childrenLength; ++i) {\n    txt += showdown.subParser('makeMarkdown.node')(children[i], globals, true);\n  }\n  return txt.trim();\n});\n\r\nshowdown.subParser('makeMarkdown.txt', function (node) {\n  'use strict';\n\n  var txt = node.nodeValue;\n\n  // multiple spaces are collapsed\n  txt = txt.replace(/ +/g, ' ');\n\n  // replace the custom NBSP; with a space\n  txt = txt.replace(/NBSP;/g, ' ');\n\n  // \", <, > and & should replace escaped html entities\n  txt = showdown.helper.unescapeHTMLEntities(txt);\n\n  // escape markdown magic characters\n  // emphasis, strong and strikethrough - can appear everywhere\n  // we also escape pipe (|) because of tables\n  // and escape ` because of code blocks and spans\n  txt = txt.replace(/([*_~|`])/g, '\\\\$1');\n\n  // escape > because of blockquotes\n  txt = txt.replace(/^(\\s*)>/g, '\\\\$1>');\n\n  // hash character, only troublesome at the beginning of a line because of headers\n  txt = txt.replace(/^#/gm, '\\\\#');\n\n  // horizontal rules\n  txt = txt.replace(/^(\\s*)([-=]{3,})(\\s*)$/, '$1\\\\$2$3');\n\n  // dot, because of ordered lists, only troublesome at the beginning of a line when preceded by an integer\n  txt = txt.replace(/^( {0,3}\\d+)\\./gm, '$1\\\\.');\n\n  // +, * and -, at the beginning of a line becomes a list, so we need to escape them also (asterisk was already escaped)\n  txt = txt.replace(/^( {0,3})([+-])/gm, '$1\\\\$2');\n\n  // images and links, ] followed by ( is problematic, so we escape it\n  txt = txt.replace(/]([\\s]*)\\(/g, '\\\\]$1\\\\(');\n\n  // reference URIs must also be escaped\n  txt = txt.replace(/^ {0,3}\\[([\\S \\t]*?)]:/gm, '\\\\[$1]:');\n\n  return txt;\n});\n\r\nvar root = this;\n\n// AMD Loader\nif (typeof define === 'function' && define.amd) {\n  define(function () {\n    'use strict';\n    return showdown;\n  });\n\n// CommonJS/nodeJS Loader\n} else if (typeof module !== 'undefined' && module.exports) {\n  module.exports = showdown;\n\n// Regular Browser loader\n} else {\n  root.showdown = showdown;\n}\n}).call(this);\r\n\n//# sourceMappingURL=showdown.js.map\r\n","'use strict';\r\n\r\nimport {BlockType} from \"@/BlockType\";\r\nimport {BlockFactory} from \"@/blocks/BlockFactory\";\r\n\r\n/**\r\n * Editor block - Backward compatibility wrapper\r\n * This class now delegates to the new block type system\r\n */\r\nexport class Block\r\n{\r\n    /**\r\n     * @param {string} type\r\n     * @param {string} content\r\n     * @param {string} html\r\n     * @param {boolean} nested\r\n     * @param {boolean} checked - For task list items\r\n     * @param {object} blockInstance - Pre-created block instance\r\n     */\r\n    constructor(type = '', content = '', html = '', nested = false, checked = false, blockInstance = null) {\r\n        // If we already have a block instance, use it\r\n        if (blockInstance) {\r\n            this._blockInstance = blockInstance;\r\n            this._type = blockInstance._type;\r\n            this._content = blockInstance._content;\r\n            this._html = blockInstance._html;\r\n            this._nested = blockInstance._nested;\r\n            \r\n            // For task list blocks, make sure checked state is available at Block level\r\n            if (type === BlockType.SQ && blockInstance.isChecked) {\r\n                this._checkedState = blockInstance.isChecked();\r\n            } else {\r\n                this._checkedState = checked;\r\n            }\r\n        } else {\r\n            // Create the appropriate block instance using the factory\r\n            const newBlockInstance = BlockFactory.createBlock(type, content, html, nested);\r\n            \r\n            // For task list blocks, set the checked state\r\n            if (type === BlockType.SQ && newBlockInstance.setChecked) {\r\n                newBlockInstance.setChecked(checked);\r\n                this._checkedState = checked;\r\n            } else {\r\n                this._checkedState = checked;\r\n            }\r\n            \r\n            // Copy properties from the block instance to this instance\r\n            this._type = newBlockInstance._type;\r\n            this._content = newBlockInstance._content;\r\n            this._html = newBlockInstance._html;\r\n            this._nested = newBlockInstance._nested;\r\n            this._blockInstance = newBlockInstance;\r\n        }\r\n    }\r\n\r\n    get type() {\r\n        return this._type;\r\n    }\r\n    \r\n    set type(value) {\r\n        this._type = value;\r\n        if (this._blockInstance) {\r\n            this._blockInstance._type = value;\r\n        }\r\n    }\r\n    \r\n    get content() {\r\n        return this._content;\r\n    }\r\n    \r\n    set content(value) {\r\n        this._content = value;\r\n        if (this._blockInstance) {\r\n            this._blockInstance._content = value;\r\n        }\r\n    }\r\n    \r\n    get html() {\r\n        return this._html;\r\n    }\r\n    \r\n    set html(value) {\r\n        this._html = value;\r\n        if (this._blockInstance) {\r\n            this._blockInstance._html = value;\r\n        }\r\n    }\r\n    \r\n    get nested() {\r\n        return this._nested;\r\n    }\r\n    \r\n    set nested(value) {\r\n        this._nested = value;\r\n        if (this._blockInstance) {\r\n            this._blockInstance._nested = value;\r\n        }\r\n    }\r\n\r\n    get _checked() {\r\n        if (this._blockInstance && this._blockInstance.isChecked) {\r\n            return this._blockInstance.isChecked();\r\n        }\r\n        return this._checkedState || false;\r\n    }\r\n\r\n    set _checked(value) {\r\n        this._checkedState = value;\r\n        if (this._blockInstance && this._blockInstance.setChecked) {\r\n            this._blockInstance.setChecked(value);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get the underlying block instance for advanced operations\r\n     * @returns {BaseBlock}\r\n     */\r\n    getBlockInstance() {\r\n        return this._blockInstance;\r\n    }\r\n\r\n    /**\r\n     * Handle key press for this block type\r\n     * @param {KeyboardEvent} event\r\n     * @param {string} text - current text content of the block\r\n     * @returns {boolean} - true if key was handled, false otherwise\r\n     */\r\n    handleKeyPress(event, text) {\r\n        if (this._blockInstance && this._blockInstance.handleKeyPress) {\r\n            return this._blockInstance.handleKeyPress(event, text);\r\n        }\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * Handle Enter key press for this block type\r\n     * @param {KeyboardEvent} event\r\n     * @returns {boolean} - true if key was handled, false otherwise\r\n     */\r\n    handleEnterKey(event) {\r\n        if (this._blockInstance && this._blockInstance.handleEnterKey) {\r\n            return this._blockInstance.handleEnterKey(event);\r\n        }\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * Apply this block type transformation via toolbar\r\n     */\r\n    applyTransformation() {\r\n        if (this._blockInstance && this._blockInstance.applyTransformation) {\r\n            this._blockInstance.applyTransformation();\r\n        }\r\n    }\r\n}","'use strict';\r\n\r\nimport {log} from \"@/utils/log.js\";\r\nimport {Block} from \"@/Block.js\";\r\nimport {BlockFactory} from \"@/blocks/BlockFactory.js\";\r\nimport {BlockType} from \"@/BlockType\";\r\nimport showdown from \"showdown\";\r\n\r\n/**\r\n * Improved Parser that delegates parsing responsibilities to individual block types\r\n * This follows the Single Responsibility Principle and Open/Closed Principle\r\n */\r\nexport class Parser\r\n{\r\n    /**\r\n     * Parse HTML string and return array of Block objects\r\n     * Each block type is responsible for determining if it can parse the HTML\r\n     * @param {string} htmlString\r\n     * @returns {array<Block>} blocks\r\n     */\r\n    static parseHtml(htmlString) {\r\n        log('parseHtml()', 'Parser.'); console.log({htmlString});\r\n\r\n        if (!htmlString || htmlString.trim() === '') return [];\r\n\r\n        // Split HTML into individual block elements\r\n        const blocks = [];\r\n        const blockElements = this.extractHtmlBlocks(htmlString);\r\n        \r\n        for (const htmlBlock of blockElements) {\r\n            const block = this.parseHtmlBlock(htmlBlock);\r\n            if (block) {\r\n                blocks.push(block);\r\n            }\r\n        }\r\n\r\n        return blocks;\r\n    }\r\n\r\n    /**\r\n     * Extract individual HTML blocks from a string\r\n     * @param {string} htmlString\r\n     * @returns {string[]} - Array of HTML block strings\r\n     */\r\n    static extractHtmlBlocks(htmlString) {\r\n        const blocks = [];\r\n        const blockTags = ['h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'p', 'div', 'pre', 'blockquote', 'ul', 'ol', 'table', 'img', 'del'];\r\n        const selfClosingTags = ['img', 'hr', 'br'];\r\n        \r\n        let currentPos = 0;\r\n        while (currentPos < htmlString.length) {\r\n            // Find the next opening tag\r\n            const tagMatch = htmlString.slice(currentPos).match(/<(\\w+)[^>]*\\/?>/);\r\n            if (!tagMatch) break;\r\n            \r\n            const tagName = tagMatch[1].toLowerCase();\r\n            if (!blockTags.includes(tagName)) {\r\n                currentPos += tagMatch.index + tagMatch[0].length;\r\n                continue;\r\n            }\r\n            \r\n            const startPos = currentPos + tagMatch.index;\r\n            const tagStart = tagMatch[0];\r\n            \r\n            // Handle self-closing tags (including img)\r\n            if (selfClosingTags.includes(tagName) || tagStart.endsWith('/>')) {\r\n                blocks.push(tagStart);\r\n                currentPos = startPos + tagStart.length;\r\n                continue;\r\n            }\r\n            \r\n            // Handle regular block elements\r\n            const closingTag = `</${tagName}>`;\r\n            let depth = 1;\r\n            let searchPos = startPos + tagStart.length;\r\n            let endPos = -1;\r\n            \r\n            while (searchPos < htmlString.length && depth > 0) {\r\n                const nextOpen = htmlString.indexOf(`<${tagName}`, searchPos);\r\n                const nextClose = htmlString.indexOf(closingTag, searchPos);\r\n                \r\n                if (nextClose === -1) break;\r\n                \r\n                if (nextOpen !== -1 && nextOpen < nextClose) {\r\n                    // Found another opening tag\r\n                    depth++;\r\n                    searchPos = nextOpen + `<${tagName}`.length;\r\n                } else {\r\n                    // Found a closing tag\r\n                    depth--;\r\n                    if (depth === 0) {\r\n                        endPos = nextClose + closingTag.length;\r\n                    } else {\r\n                        searchPos = nextClose + closingTag.length;\r\n                    }\r\n                }\r\n            }\r\n            \r\n            if (endPos !== -1) {\r\n                const blockHtml = htmlString.slice(startPos, endPos);\r\n                blocks.push(blockHtml);\r\n                currentPos = endPos;\r\n            } else {\r\n                currentPos = startPos + tagStart.length;\r\n            }\r\n        }\r\n        \r\n        return blocks.filter(block => block.trim().length > 0);\r\n    }\r\n\r\n    /**\r\n     * Parse a single HTML block by asking each block type if it can handle it\r\n     * @param {string} htmlString - Single HTML block\r\n     * @returns {Block|null} - Parsed block or null\r\n     */\r\n    static parseHtmlBlock(htmlString) {\r\n        const blockClasses = BlockFactory.getAllBlockClasses();\r\n        \r\n        // Try each block type to see which one can parse this HTML\r\n        for (const BlockClass of blockClasses) {\r\n            if (BlockClass.canParseHtml && BlockClass.canParseHtml(htmlString)) {\r\n                const blockInstance = BlockClass.parseFromHtml(htmlString);\r\n                if (blockInstance) {\r\n                    // Return the actual block instance, not a generic Block wrapper\r\n                    return blockInstance;\r\n                }\r\n            }\r\n        }\r\n\r\n        // Fallback: create a paragraph block for unrecognized HTML\r\n        const content = this.extractTextContent(htmlString);\r\n        const ParagraphBlock = BlockFactory.getBlockClass(BlockType.PARAGRAPH);\r\n        if (ParagraphBlock) {\r\n            return new ParagraphBlock(content, htmlString);\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    /**\r\n     * Parse markdown string and return array of Block objects\r\n     * @param {string} markdownString\r\n     * @returns {array<Block>} blocks\r\n     */\r\n    static parse(markdownString) {\r\n        log('parse()', 'Parser.'); console.log({markdownString});\r\n\r\n        if (!markdownString || markdownString.trim() === '') {\r\n            return [];\r\n        }\r\n\r\n        // Pre-process markdown for special syntax\r\n        let processedMarkdown = this.preprocessMarkdown(markdownString);\r\n\r\n        // Use showdown to convert to HTML first\r\n        const converter = new showdown.Converter({ \r\n            ghCompatibleHeaderId: false, \r\n            headerIds: false,\r\n            tasklists: false, // Disabled to prevent conflicts with custom task list processing\r\n            tables: true,\r\n            simplifiedAutoLink: true,\r\n            literalMidWordUnderscores: true,\r\n            strikethrough: true,\r\n            emoji: true\r\n        });\r\n        \r\n        const html = converter.makeHtml(processedMarkdown);\r\n        const cleanHtml = this.cleanHtml(html);\r\n        \r\n        // Now parse the HTML into blocks using block-specific parsers\r\n        return this.parseHtml(cleanHtml);\r\n    }\r\n\r\n    /**\r\n     * Pre-process markdown to handle special syntax\r\n     * @param {string} markdownString\r\n     * @returns {string} - Processed markdown\r\n     */\r\n    static preprocessMarkdown(markdownString) {\r\n        let processed = markdownString;\r\n        \r\n        // Pre-process fenced code blocks to ensure proper separation\r\n        processed = processed.replace(/^```([\\w]*)\\n?([\\s\\S]*?)\\n?```$/gm, (match, language, content) => {\r\n            // Ensure code blocks are surrounded by newlines for proper separation\r\n            return `\\n\\`\\`\\`${language}\\n${content}\\n\\`\\`\\`\\n`;\r\n        });\r\n        \r\n        processed = processed.replace(/^~~~([\\w]*)\\n?([\\s\\S]*?)\\n?~~~$/gm, (match, language, content) => {\r\n            return `\\n~~~${language}\\n${content}\\n~~~\\n`;\r\n        });\r\n        \r\n        // Pre-process task lists to ensure they're handled consistently\r\n        // This prevents Showdown's native task list (which creates disabled checkboxes)\r\n        // and ensures our custom interactive checkboxes are used instead\r\n        processed = processed.replace(/^(\\s*)[-*+]\\s*\\[([xX ]?)\\]\\s*(.*)$/gm, (match, indent, checked, text) => {\r\n            const isChecked = checked.toLowerCase() === 'x';\r\n            return `${indent}<task-item data-checked=\"${isChecked}\">${text}</task-item>`;\r\n        });\r\n\r\n        return processed;\r\n    }\r\n\r\n    /**\r\n     * Clean HTML output from showdown\r\n     * @param {string} html\r\n     * @returns {string} - Cleaned HTML\r\n     */\r\n    static cleanHtml(html) {\r\n        let cleaned = html\r\n            .replace(/~~(.*?)~~/g, '<del>$1</del>')\r\n            .replace(/<blockquote>\\s*<p>(.*?)<\\/p>\\s*<\\/blockquote>/gs, '<blockquote>$1</blockquote>')\r\n            .replace(/<p><code>(.*?)<\\/code><\\/p>/g, '<code>$1</code>')\r\n            .replace(/<task-item data-checked=\"(true|false)\">(.*?)<\\/task-item>/g, (match, checked, text) => {\r\n                const checkedAttr = checked === 'true' ? ' checked' : '';\r\n                const completedClass = checked === 'true' ? ' task-completed' : '';\r\n                return `<li class=\"task-list-item${completedClass}\" data-block-type=\"sq\"><input type=\"checkbox\"${checkedAttr}> ${text}</li>`;\r\n            })\r\n            .replace(/(<\\/(?:h[1-6]|div|del|p|ol|ul|blockquote|pre|code)>)\\s*(<(?:h[1-6]|div|del|p|ol|ul|blockquote|pre|code))/g, '$1\\n$2')\r\n            .replace(/<h[1-6]\\s+id=\"[^\"]+\"/g, match => match.replace(/\\s+id=\"[^\"]+\"/, ''));\r\n\r\n        // Group consecutive task list items into ul containers\r\n        cleaned = this.groupTaskListItems(cleaned);\r\n        \r\n        return cleaned;\r\n    }\r\n\r\n    /**\r\n     * Group consecutive task list items into proper ul containers\r\n     * @param {string} html\r\n     * @returns {string} - HTML with grouped task lists\r\n     */\r\n    static groupTaskListItems(html) {\r\n        // Find consecutive task list items and wrap them in ul\r\n        return html.replace(\r\n            /(<li class=\"task-list-item[^\"]*\"[^>]*>.*?<\\/li>)(\\s*<li class=\"task-list-item[^\"]*\"[^>]*>.*?<\\/li>)*/g,\r\n            (match) => {\r\n                // Extract individual li elements\r\n                const liElements = match.match(/<li class=\"task-list-item[^\"]*\"[^>]*>.*?<\\/li>/g) || [];\r\n                \r\n                if (liElements.length === 0) return match;\r\n                \r\n                // Wrap in ul with task-list class\r\n                return `<ul class=\"task-list\">\\n${liElements.join('\\n')}\\n</ul>`;\r\n            }\r\n        );\r\n    }\r\n\r\n    /**\r\n     * Render Block objects to HTML elements\r\n     * Delegates to the block's own rendering method\r\n     * @param {Block|Block[]} blocks - Single block or array of blocks\r\n     * @returns {HTMLElement|HTMLElement[]} htmlElement(s)\r\n     */\r\n    static html(blocks) {\r\n        log('html()', 'Parser.');\r\n\r\n        // Handle array of blocks\r\n        if (Array.isArray(blocks)) {\r\n            return blocks.map(block => this.html(block));\r\n        }\r\n\r\n        // Handle single block\r\n        const block = blocks;\r\n\r\n        // If it's already a proper block instance with renderToElement method\r\n        if (block && typeof block.renderToElement === 'function') {\r\n            return block.renderToElement();\r\n        }\r\n\r\n        // If block has a block instance, use its render method\r\n        if (block._blockInstance && typeof block._blockInstance.renderToElement === 'function') {\r\n            return block._blockInstance.renderToElement();\r\n        }\r\n\r\n        // Try to create a block instance and render it\r\n        const BlockClass = BlockFactory.getBlockClass(block.type);\r\n        if (BlockClass) {\r\n            const blockInstance = new BlockClass(block.content, block.html, block.nested);\r\n            if (typeof blockInstance.renderToElement === 'function') {\r\n                return blockInstance.renderToElement();\r\n            }\r\n        }\r\n\r\n        // Fallback to default rendering\r\n        return this.defaultRender(block);\r\n    }\r\n\r\n    /**\r\n     * Default rendering for blocks that don't have custom rendering\r\n     * @param {Block} block\r\n     * @returns {HTMLElement}\r\n     */\r\n    static defaultRender(block) {\r\n        let element = document.createElement('div');\r\n        element.classList.add('block');\r\n        element.setAttribute('data-block-type', block.type);\r\n        element.setAttribute('data-placeholder', 'Type \"/\" to insert block');\r\n        \r\n        // Add block type specific class\r\n        const typeClass = `block-${block.type.replace(/[^a-z0-9]/gi, '').toLowerCase()}`;\r\n        element.classList.add(typeClass);\r\n        \r\n        element.innerHTML = block.html || block.content || '';\r\n        return element;\r\n    }\r\n\r\n    /**\r\n     * Extract text content from HTML\r\n     * @param {string} html\r\n     * @returns {string}\r\n     */\r\n    static extractTextContent(html) {\r\n        // For lists, preserve line breaks between list items\r\n        if (html.includes('<li>')) {\r\n            const listItems = html.match(/<li>(.*?)<\\/li>/g);\r\n            if (listItems) {\r\n                return listItems\r\n                    .map(item => item.replace(/<li>(.*?)<\\/li>/, '$1'))\r\n                    .join('\\n');\r\n            }\r\n        }\r\n        \r\n        // For pre/code blocks, extract the inner code content\r\n        if (html.includes('<pre>') || html.includes('<code>')) {\r\n            const preCodeMatch = html.match(/<pre><code[^>]*>(.*?)<\\/code><\\/pre>/s);\r\n            if (preCodeMatch) {\r\n                return preCodeMatch[1].trim();\r\n            }\r\n            const codeMatch = html.match(/<code[^>]*>(.*?)<\\/code>/s);\r\n            if (codeMatch) {\r\n                return codeMatch[1].trim();\r\n            }\r\n        }\r\n        \r\n        return html.replace(/<[^>]+>/g, '').trim();\r\n    }\r\n}\r\n","'use strict';\r\n\r\nimport {log} from \"@/utils/log.js\";\r\n\r\n/**\r\n *\r\n */\r\nexport class Utils\r\n{\r\n    /**\r\n     *\r\n     * @param {string} str\r\n     * @returns {string}\r\n     */\r\n    static stripTagsAttributes(str)\r\n    {\r\n        log('stripTagsAttributes()', 'Editor.');\r\n        \r\n        const pattern = new RegExp('<([a-zA-Z0-9]+)[^>]*>', 'mu');\r\n        return str.replace(pattern, '<$1>');\r\n    }\r\n    \r\n    /**\r\n     *\r\n     * @param {string} str\r\n     * @param {string} allow Allowed tags in lowercase, i.e. \"<b><em><i>\"\r\n     * @returns {string}\r\n     */\r\n    static stripTags(str, allow= '')\r\n    {\r\n        log('stripTags()', 'Editor.');\r\n        \r\n        // Making sure the \"allow\" argument is a string containing only tags in lowercase ()\r\n        allow = (((allow || \"\") + \"\")\r\n            .toLowerCase()\r\n            .match(/<[a-z][a-z0-9]*>/g) || [])\r\n            .join('');\r\n        \r\n        const tags = /<\\/?([a-z][a-z0-9]*)\\b[^>]*>/gi;\r\n        let commentsAndPhpTags = /|<\\?(?:php)?[\\s\\S]*?\\?>/gi;\r\n        \r\n        return str.replace(commentsAndPhpTags, '').replace(tags, function ($0, $1) {\r\n            return allow.indexOf('<' + $1.toLowerCase() + '>') > -1 ? $0 : '';\r\n        });\r\n    }\r\n    \r\n    /**\r\n     *\r\n     * @param {string} str\r\n     * @returns {string}\r\n     * @fixme rename method\r\n     */\r\n    static normalize(str)\r\n    {\r\n        log('normalize()', 'Editor.');\r\n        \r\n        // double spaces\r\n        while ( str.match(/\\s\\s/gm) ) {\r\n            str = str.replace(/\\s\\s/gm, ' ');\r\n        }\r\n        \r\n        // space at start of the line\r\n        // @fixme not working\r\n        while ( str.match(/\\n\\s/gm) ) {\r\n            str = str.replace(/\\n\\s/gm, '');\r\n        }\r\n        \r\n        // @fixme not working\r\n        while ( str.match(/\\r\\s/gm) ) {\r\n            str = str.replace(/\\r\\s/gm, '');\r\n        }\r\n        \r\n        // replace <div> with <p>\r\n        while ( str.match(/<div>/gm) ) {\r\n            str = str.replace(/<div>/gm, '<p>');\r\n        }\r\n        \r\n        while ( str.match(/<\\/div>/gm) ) {\r\n            str = str.replace(/<\\/div>/gm, '</p>');\r\n        }\r\n        \r\n        // replace minus width dash\r\n        str = str.replace(/\\s-\\s/gm, ' &mdash; ');\r\n        \r\n        // insert line break\r\n        str = str.replace(/<\\/p><p>/gm, '</p>\\n<p>');\r\n        \r\n        return str;\r\n    }\r\n    \r\n    /**\r\n     *\r\n     * @param str\r\n     * @returns {*}\r\n     */\r\n    static escapeHTML = str => str.replace(/[&<>'\"]/g,\r\n        tag => ({\r\n            '&': '&amp;',\r\n            '<': '&lt;',\r\n            '>': '&gt;',\r\n            \"'\": '&#39;',\r\n            '\"': '&quot;'\r\n        }[tag]));\r\n    \r\n    \r\n}","'use strict';\r\n\r\nimport {BlockFactory} from \"@/blocks/BlockFactory\";\r\nimport {Editor} from \"@/Editor\";\r\nimport {Utils} from \"@/Utils\";\r\nimport {log} from \"@/utils/log.js\";\r\nimport {eventEmitter, EVENTS} from \"@/utils/eventEmitter.js\";\r\n\r\n/**\r\n * Centralized key handling system for the editor\r\n */\r\nexport class KeyHandler\r\n{\r\n    /**\r\n     * Handle key press events\r\n     * @param {KeyboardEvent} e\r\n     * @param {Editor} editorInstance - The editor instance\r\n     */\r\n    static handleKeyPress(e, editorInstance) {\r\n        log('handleKeyPress()', 'KeyHandler.'); \r\n        \r\n        editorInstance.keybuffer.push(e.key);\r\n        \r\n        // Emit user key press event\r\n        editorInstance.eventEmitter.emit(EVENTS.USER_KEY_PRESS, {\r\n            key: e.key,\r\n            code: e.code,\r\n            ctrlKey: e.ctrlKey,\r\n            altKey: e.altKey,\r\n            shiftKey: e.shiftKey,\r\n            timestamp: Date.now(),\r\n            blockId: editorInstance.currentBlock ? (editorInstance.currentBlock.getAttribute('data-block-id') || editorInstance.currentBlock.id) : null\r\n        }, { throttle: 50, source: 'user.keypress' });\r\n        \r\n        if (!editorInstance.currentBlock) {\r\n            return;\r\n        }\r\n\r\n        const innerHtml = editorInstance.currentBlock.innerHTML;\r\n        const text = Utils.stripTags(innerHtml);\r\n\r\n        // Note: Block conversion is now primarily handled by the input event listener\r\n        // to avoid performance issues with excessive checking on every keystroke.\r\n        // This keypress handler focuses on special key behaviors.\r\n\r\n        // Let the current block handle the key press immediately (for other behaviors)\r\n        const currentBlock = Editor.currentBlock;\r\n        if (currentBlock && currentBlock.dataset && currentBlock.dataset.blockType) {\r\n            const blockType = currentBlock.dataset.blockType;\r\n            const block = BlockFactory.createBlock(blockType);\r\n            \r\n            if (block.handleKeyPress(e, text)) {\r\n                // Block handled the key press, update immediately\r\n                editorInstance.update();\r\n                return;\r\n            }\r\n        }\r\n\r\n        // For space key in paragraph blocks, check for potential conversion triggers\r\n        if (e.key === ' ' && editorInstance.currentBlock) {\r\n            const blockType = editorInstance.currentBlock.getAttribute('data-block-type');\r\n            if (blockType === 'p' || blockType === 'paragraph') {\r\n                // Use a timeout to allow the space character to be inserted first\r\n                setTimeout(() => {\r\n                    if (editorInstance.checkAndConvertBlock(editorInstance.currentBlock)) {\r\n                        editorInstance.update();\r\n                    } else {\r\n                        // Only update if no conversion occurred\r\n                        editorInstance.update();\r\n                    }\r\n                }, 50);\r\n                return;\r\n            }\r\n        }\r\n\r\n        // Default behavior - update immediately for other keys\r\n        editorInstance.update();\r\n    }\r\n\r\n    /**\r\n     * Handle special key combinations\r\n     * @param {KeyboardEvent} e\r\n     * @param {Editor} editorInstance - The editor instance\r\n     */\r\n    static handleSpecialKeys(e, editorInstance) {\r\n        log('handleSpecialKeys()', 'KeyHandler.');\r\n        \r\n        if ('Enter' === e.key && !e.shiftKey) {\r\n            return this.handleEnterKey(e, editorInstance);\r\n        }\r\n        \r\n        if ('Backspace' === e.key) {\r\n            return this.handleBackspaceKey(e, editorInstance);\r\n        }\r\n        \r\n        if ('Delete' === e.key) {\r\n            return this.handleDeleteKey(e, editorInstance);\r\n        }\r\n        \r\n        if ('Tab' === e.key) {\r\n            // Let individual block types handle tab\r\n            const currentBlock = editorInstance.currentBlock;\r\n            if (currentBlock && currentBlock.dataset && currentBlock.dataset.blockType) {\r\n                const blockType = currentBlock.dataset.blockType;\r\n                const block = BlockFactory.createBlock(blockType);\r\n                \r\n                if (block.handleKeyPress(e, '')) {\r\n                    return;\r\n                }\r\n            }\r\n            \r\n            // Default tab behavior\r\n            e.preventDefault();\r\n            // Could call Toolbar.tab() here if that functionality exists\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Handle Enter key press\r\n     * @param {KeyboardEvent} e\r\n     */\r\n    static handleEnterKey(e) {\r\n        log('handleEnterKey()', 'KeyHandler.');\r\n\r\n        const currentBlock = Editor.currentBlock;\r\n        if (!currentBlock) {\r\n            return;\r\n        }\r\n\r\n        // Check for code block creation trigger (triple backticks)\r\n        let ticksCounter = 0;\r\n        for (let i = Editor.keybuffer.length; i >= 0; i--) {\r\n            const j = i - 1;\r\n            const sliceKey = Editor.keybuffer[j];\r\n            \r\n            // Stop at previous Enter\r\n            if ('Enter' === sliceKey) {\r\n                break;\r\n            }\r\n            \r\n            if ('`' === sliceKey) {\r\n                ticksCounter++;\r\n            }\r\n            \r\n            if (3 === ticksCounter) {\r\n                // Create code block\r\n                const codeBlock = BlockFactory.createBlock('code');\r\n                codeBlock.applyTransformation();\r\n                Editor.update();\r\n                return;\r\n            }\r\n        }\r\n\r\n        // Let the current block type handle the Enter key first\r\n        if (currentBlock.dataset && currentBlock.dataset.blockType) {\r\n            const blockType = currentBlock.dataset.blockType;\r\n            const block = BlockFactory.createBlock(blockType);\r\n            \r\n            if (block.handleEnterKey(e)) {\r\n                Editor.update();\r\n                return;\r\n            }\r\n        }\r\n        \r\n        // If block didn't handle the Enter key, check if cursor is at the end for default behavior\r\n        const selection = window.getSelection();\r\n        if (!selection.rangeCount) {\r\n            return;\r\n        }\r\n        const range = selection.getRangeAt(0);\r\n        \r\n        // Use the block's isAtEnd method if available, otherwise use the generic method\r\n        let isAtEnd = false;\r\n        if (currentBlock.dataset && currentBlock.dataset.blockType) {\r\n            const blockType = currentBlock.dataset.blockType;\r\n            const block = BlockFactory.createBlock(blockType);\r\n            \r\n            if (block.isAtEnd && typeof block.isAtEnd === 'function') {\r\n                isAtEnd = block.isAtEnd(currentBlock, range);\r\n            } else {\r\n                isAtEnd = this.isCursorAtEndOfBlock(currentBlock, range);\r\n            }\r\n        } else {\r\n            isAtEnd = this.isCursorAtEndOfBlock(currentBlock, range);\r\n        }\r\n        \r\n        if (isAtEnd) {\r\n            // If we are inside a list item and at the end, but the block handler\r\n            // didn't consume the event for some reason, create a new list item instead\r\n            const li = (range.startContainer.nodeType === Node.TEXT_NODE ? range.startContainer.parentElement : range.startContainer)?.closest?.('li');\r\n            if (li) {\r\n                const blockType = currentBlock.dataset && currentBlock.dataset.blockType;\r\n                const block = BlockFactory.createBlock(blockType);\r\n                if (block && typeof block.createNewListItem === 'function') {\r\n                    e.preventDefault();\r\n                    block.createNewListItem(currentBlock, li);\r\n                    Editor.update();\r\n                    return;\r\n                }\r\n            }\r\n\r\n            // Default behavior - add new default block when cursor is at the end\r\n            e.preventDefault();\r\n            Editor.addDefaultBlock();\r\n            // Note: addDefaultBlock() calls Editor.update() internally, no need to call it again\r\n        }\r\n        // If cursor is not at the end, let the browser handle default behavior (line break)\r\n    }\r\n\r\n    /**\r\n     * Check if cursor is at the end of the current block\r\n     * @param {HTMLElement} block\r\n     * @param {Range} range\r\n     * @returns {boolean}\r\n     */\r\n    static isCursorAtEndOfBlock(block, range) {\r\n        if (!range || !block) {\r\n            return false;\r\n        }\r\n\r\n        // Check if the range is collapsed (cursor position, not selection)\r\n        if (!range.collapsed) {\r\n            return false;\r\n        }\r\n\r\n        // Get the text content length of the block\r\n        const textContent = block.textContent || '';\r\n        const textLength = textContent.length;\r\n        \r\n        // Calculate the current cursor position within the block\r\n        const preRange = range.cloneRange();\r\n        preRange.selectNodeContents(block);\r\n        preRange.setEnd(range.endContainer, range.endOffset);\r\n        const cursorPosition = preRange.toString().length;\r\n        \r\n        // Consider cursor at end if it's within 2 characters of the end\r\n        // (accounts for trailing spaces or formatting)\r\n        return cursorPosition >= textLength - 2;\r\n    }\r\n\r\n    /**\r\n     * Handle Backspace key press\r\n     * @param {KeyboardEvent} e\r\n     */\r\n    static handleBackspaceKey(e) \r\n    {\r\n        log('handleBackspaceKey()', 'KeyHandler.');\r\n\r\n        const currentBlock = Editor.currentBlock;\r\n        if (!currentBlock) {\r\n            return;\r\n        }\r\n\r\n        // Check if current block is empty (only whitespace or no content)\r\n        const text = Utils.stripTags(currentBlock.innerHTML).trim();\r\n        \r\n        // Only handle backspace for empty blocks\r\n        if (text === '') {\r\n            // Find the previous block\r\n            const previousBlock = currentBlock.previousElementSibling;\r\n            \r\n            // Don't remove the last remaining block\r\n            const allBlocks = Editor.instance.querySelectorAll('.block');\r\n            if (allBlocks.length <= 1) {\r\n                return;\r\n            }\r\n            \r\n            // Remove the empty block and focus on previous block\r\n            if (previousBlock && previousBlock.classList.contains('block')) {\r\n                Editor.setCurrentBlock(previousBlock);\r\n                currentBlock.remove();\r\n                Editor.focus(previousBlock);\r\n                Editor.update();\r\n                e.preventDefault();\r\n                return;\r\n            } else {\r\n                // If no previous block, focus on next block (if exists)\r\n                const nextBlock = currentBlock.nextElementSibling;\r\n                if (nextBlock && nextBlock.classList.contains('block')) {\r\n                    Editor.setCurrentBlock(nextBlock);\r\n                    currentBlock.remove();\r\n                    Editor.focus(nextBlock);\r\n                    Editor.update();\r\n                    e.preventDefault();\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n\r\n        // Let the current block type handle the backspace key if not handled above\r\n        if (currentBlock.dataset && currentBlock.dataset.blockType) {\r\n            const blockType = currentBlock.dataset.blockType;\r\n            const block = BlockFactory.createBlock(blockType);\r\n            \r\n            if (block.handleBackspaceKey && block.handleBackspaceKey(e)) {\r\n                Editor.update();\r\n                return;\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Handle Delete key press\r\n     * @param {KeyboardEvent} e\r\n     * @param {Editor} editorInstance - The editor instance\r\n     */\r\n    static handleDeleteKey(e, editorInstance) \r\n    {\r\n        log('handleDeleteKey()', 'KeyHandler.');\r\n\r\n        const currentBlock = editorInstance.currentBlock;\r\n        if (!currentBlock) {\r\n            return;\r\n        }\r\n\r\n        // Check if current block is empty (only whitespace or no content)\r\n        const text = Utils.stripTags(currentBlock.innerHTML).trim();\r\n        \r\n        // Only handle delete for empty blocks\r\n        if (text === '') {\r\n            // Find the next block\r\n            const nextBlock = currentBlock.nextElementSibling;\r\n            \r\n            // Don't remove the last remaining block\r\n            const allBlocks = editorInstance.instance.querySelectorAll('.block');\r\n            if (allBlocks.length <= 1) {\r\n                return;\r\n            }\r\n            \r\n            // Remove the empty block and focus on next block\r\n            if (nextBlock && nextBlock.classList.contains('block')) {\r\n                Editor.setCurrentBlock(nextBlock);\r\n                currentBlock.remove();\r\n                Editor.focus(nextBlock);\r\n                Editor.update();\r\n                e.preventDefault();\r\n                return;\r\n            } else {\r\n                // If no next block, focus on previous block (if exists)\r\n                const previousBlock = currentBlock.previousElementSibling;\r\n                if (previousBlock && previousBlock.classList.contains('block')) {\r\n                    Editor.setCurrentBlock(previousBlock);\r\n                    currentBlock.remove();\r\n                    Editor.focus(previousBlock);\r\n                    Editor.update();\r\n                    e.preventDefault();\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n\r\n        // Let the current block type handle the delete key if not handled above\r\n        if (currentBlock.dataset && currentBlock.dataset.blockType) {\r\n            const blockType = currentBlock.dataset.blockType;\r\n            const block = BlockFactory.createBlock(blockType);\r\n            \r\n            if (block.handleDeleteKey && block.handleDeleteKey(e)) {\r\n                Editor.update();\r\n                return;\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Clear the key buffer\r\n     */\r\n    static clearKeyBuffer() {\r\n        Editor.keybuffer = [];\r\n    }\r\n\r\n    /**\r\n     * Get the current key buffer\r\n     * @returns {string[]}\r\n     */\r\n    static getKeyBuffer() {\r\n        return [...Editor.keybuffer];\r\n    }\r\n}\r\n","/**\r\n * DebugTooltip.js\r\n * \r\n * Handles all debug tooltip functionality for the Editor.\r\n * This class is responsible for creating, updating, positioning, and managing debug tooltips\r\n * that display block information when debug mode is enabled.\r\n */\r\n\r\nimport { log } from './utils/log.js';\r\nimport { Editor } from './Editor.js';\r\n\r\nexport class DebugTooltip {\r\n    /**\r\n     * Constructor for DebugTooltip\r\n     * @param {Object} options - Configuration options\r\n     * @param {HTMLElement} options.editorInstance - The editor DOM element\r\n     * @param {Object} options.eventEmitter - Event emitter for debug events\r\n     */\r\n    constructor(options = {}) {\r\n        this.editorInstance = options.editorInstance;\r\n        this.eventEmitter = options.eventEmitter;\r\n        this.enabled = false;\r\n        \r\n        // Event listeners references for cleanup\r\n        this.scrollHandler = null;\r\n        this.resizeHandler = null;\r\n        this.updateInterval = null;\r\n        \r\n        log('DebugTooltip initialized', 'DebugTooltip');\r\n    }\r\n    \r\n    /**\r\n     * Enable debug tooltips\r\n     * @param {Editor} editor - The editor instance for accessing current block and blocks array\r\n     */\r\n    enable(editor) {\r\n        if (this.enabled) return;\r\n        \r\n        this.enabled = true;\r\n        this.editor = editor;\r\n        \r\n        this.createTooltips();\r\n        this.startUpdateLoop();\r\n        this.addEventListeners();\r\n        \r\n        // Add debug mode class to editor instance\r\n        this.editorInstance.classList.add('debug-mode');\r\n        \r\n        log('Debug tooltips enabled', 'DebugTooltip');\r\n    }\r\n    \r\n    /**\r\n     * Disable debug tooltips\r\n     */\r\n    disable() {\r\n        if (!this.enabled) return;\r\n        \r\n        this.enabled = false;\r\n        \r\n        this.removeTooltips();\r\n        this.stopUpdateLoop();\r\n        this.removeEventListeners();\r\n        \r\n        // Remove debug mode class from editor instance\r\n        this.editorInstance.classList.remove('debug-mode');\r\n        \r\n        log('Debug tooltips disabled', 'DebugTooltip');\r\n    }\r\n    \r\n    /**\r\n     * Toggle debug tooltips on/off\r\n     * @param {Editor} editor - The editor instance\r\n     */\r\n    toggle(editor) {\r\n        if (this.enabled) {\r\n            this.disable();\r\n        } else {\r\n            this.enable(editor);\r\n        }\r\n    }\r\n    \r\n    /**\r\n     * Add event listeners for tooltip positioning\r\n     */\r\n    addEventListeners() {\r\n        // Update tooltip positions on scroll and resize\r\n        this.scrollHandler = () => {\r\n            if (this.enabled) {\r\n                this.updateTooltipPositions();\r\n            }\r\n        };\r\n        \r\n        this.resizeHandler = () => {\r\n            if (this.enabled) {\r\n                this.updateTooltipPositions();\r\n            }\r\n        };\r\n        \r\n        window.addEventListener('scroll', this.scrollHandler);\r\n        window.addEventListener('resize', this.resizeHandler);\r\n    }\r\n    \r\n    /**\r\n     * Remove event listeners\r\n     */\r\n    removeEventListeners() {\r\n        if (this.scrollHandler) {\r\n            window.removeEventListener('scroll', this.scrollHandler);\r\n            this.scrollHandler = null;\r\n        }\r\n        \r\n        if (this.resizeHandler) {\r\n            window.removeEventListener('resize', this.resizeHandler);\r\n            this.resizeHandler = null;\r\n        }\r\n    }\r\n    \r\n    /**\r\n     * Update tooltip positions only (without content)\r\n     */\r\n    updateTooltipPositions() {\r\n        if (!this.enabled || !this.editor || !this.editor.currentBlock) return;\r\n        \r\n        // Only update position for the active block's tooltip\r\n        const blocks = this.editorInstance.querySelectorAll('.block');\r\n        const currentIndex = Array.from(blocks).indexOf(this.editor.currentBlock);\r\n        \r\n        if (currentIndex !== -1) {\r\n            const tooltip = document.querySelector(`.debug-tooltip[data-block-index=\"${currentIndex}\"]`);\r\n            if (tooltip) {\r\n                this.positionTooltip(tooltip, this.editor.currentBlock);\r\n            }\r\n        }\r\n    }\r\n    \r\n    /**\r\n     * Create debug tooltips for all blocks\r\n     */\r\n    createTooltips() {\r\n        log('createTooltips()', 'DebugTooltip');\r\n\r\n        // Only create tooltip for the active block\r\n        this.updateActiveBlockTooltip();\r\n    }\r\n    \r\n    /**\r\n     * Create debug tooltip for a specific block\r\n     * @param {HTMLElement} blockElement - The block element\r\n     * @param {number} index - The block index\r\n     */\r\n    createTooltip(blockElement, index) {\r\n        log('createTooltip()', 'DebugTooltip');\r\n\r\n        // Remove existing tooltip if present\r\n        const existingTooltip = document.querySelector(`.debug-tooltip[data-block-index=\"${index}\"]`);\r\n        if (existingTooltip) {\r\n            existingTooltip.remove();\r\n        }\r\n        \r\n        const tooltip = document.createElement('div');\r\n        tooltip.className = 'debug-tooltip';\r\n        tooltip.setAttribute('data-block-index', index);\r\n        \r\n        // Position tooltip to the right of the block using fixed positioning\r\n        this.updateTooltipContent(tooltip, blockElement, index);\r\n        this.positionTooltip(tooltip, blockElement);\r\n        \r\n        // Add to document body for fixed positioning\r\n        document.body.appendChild(tooltip);\r\n    }\r\n    \r\n    /**\r\n     * Position debug tooltip relative to block\r\n     * @param {HTMLElement} tooltip - The tooltip element\r\n     * @param {HTMLElement} blockElement - The block element\r\n     */\r\n    positionTooltip(tooltip, blockElement) {\r\n        log('positionTooltip()', 'DebugTooltip');\r\n\r\n        const blockRect = blockElement.getBoundingClientRect();\r\n        const tooltipWidth = 280;\r\n        const gap = 10;\r\n        \r\n        // Position to the right of the block\r\n        let left = blockRect.right + gap;\r\n        let top = blockRect.top;\r\n        \r\n        // Ensure tooltip doesn't go off screen\r\n        if (left + tooltipWidth > window.innerWidth) {\r\n            left = blockRect.left - tooltipWidth - gap; // Position to the left\r\n        }\r\n        \r\n        // Ensure tooltip doesn't go off top of screen\r\n        if (top < 0) {\r\n            top = 10;\r\n        }\r\n        \r\n        // Ensure tooltip doesn't go off bottom of screen\r\n        if (top + tooltip.offsetHeight > window.innerHeight) {\r\n            top = window.innerHeight - tooltip.offsetHeight - 10;\r\n        }\r\n        \r\n        tooltip.style.left = `${left}px`;\r\n        tooltip.style.top = `${top}px`;\r\n    }\r\n    \r\n    /**\r\n     * Update debug tooltip content\r\n     * @param {HTMLElement} tooltip - The tooltip element\r\n     * @param {HTMLElement} blockElement - The block element\r\n     * @param {number} index - The block index\r\n     */\r\n    updateTooltipContent(tooltip, blockElement, index) {\r\n        log('updateTooltipContent()', 'DebugTooltip');\r\n\r\n        const block = this.editor ? this.editor.blocks[index] : null;\r\n        const isActive = blockElement.classList.contains('active-block');\r\n        const currentTimestamp = Date.now();\r\n        \r\n        // Get block type from multiple sources\r\n        let blockType = 'unknown';\r\n        if (blockElement.getAttribute('data-block-type')) {\r\n            blockType = blockElement.getAttribute('data-block-type');\r\n        } else if (block && block.type) {\r\n            blockType = block.type;\r\n        } else {\r\n            // Infer type from tag name\r\n            const tagName = blockElement.tagName.toLowerCase();\r\n            if (tagName === 'h1') blockType = 'h1';\r\n            else if (tagName === 'h2') blockType = 'h2';\r\n            else if (tagName === 'h3') blockType = 'h3';\r\n            else if (tagName === 'h4') blockType = 'h4';\r\n            else if (tagName === 'h5') blockType = 'h5';\r\n            else if (tagName === 'h6') blockType = 'h6';\r\n            else if (tagName === 'p') blockType = 'paragraph';\r\n            else if (tagName === 'pre') blockType = 'code';\r\n            else if (tagName === 'blockquote') blockType = 'quote';\r\n            else if (tagName === 'ul') blockType = 'ul';\r\n            else if (tagName === 'ol') blockType = 'ol';\r\n            else if (tagName === 'table') blockType = 'table';\r\n            else if (tagName === 'img') blockType = 'image';\r\n            else if (tagName === 'hr') blockType = 'delimiter';\r\n            else blockType = tagName;\r\n        }\r\n        \r\n        // Get markdown content\r\n        let markdownContent = '';\r\n        if (block && block.content) {\r\n            // Use the block's markdown content if available\r\n            markdownContent = block.content;\r\n        } else {\r\n            // Try to get markdown from the block instance\r\n            if (block && block._blockInstance && typeof block._blockInstance.toMarkdown === 'function') {\r\n                markdownContent = block._blockInstance.toMarkdown();\r\n            } else {\r\n                // Convert HTML content to markdown as fallback\r\n                const htmlContent = blockElement.innerHTML || blockElement.outerHTML;\r\n                try {\r\n                    markdownContent = Editor.html2md(htmlContent);\r\n                } catch (error) {\r\n                    // If conversion fails, use text content as fallback\r\n                    markdownContent = blockElement.textContent || blockElement.innerHTML || '';\r\n                }\r\n            }\r\n        }\r\n        \r\n        // Clean up the markdown content\r\n        markdownContent = markdownContent.trim();\r\n        \r\n        // Remove any HTML tags that might have leaked through\r\n        markdownContent = markdownContent.replace(/<[^>]*>/g, '');\r\n        \r\n        // Truncate long content\r\n        if (markdownContent.length > 50) {\r\n            markdownContent = markdownContent.substring(0, 50) + '...';\r\n        }\r\n        \r\n        // Get last updated timestamp from element, fallback to current time\r\n        const lastUpdatedStr = blockElement.getAttribute('data-timestamp');\r\n        let lastUpdatedDate;\r\n        let timeDisplay;\r\n        \r\n        if (lastUpdatedStr) {\r\n            lastUpdatedDate = new Date(parseInt(lastUpdatedStr));\r\n            timeDisplay = lastUpdatedDate.toLocaleTimeString();\r\n        } else {\r\n            // If no timestamp is set, show \"not modified\"\r\n            timeDisplay = 'not modified';\r\n        }\r\n        \r\n        tooltip.innerHTML = `\r\n            <div class=\"debug-tooltip-header\">Block ${index} (Active)</div>\r\n            <div class=\"debug-tooltip-row\"><strong>Type:</strong> ${blockType}</div>\r\n            <div class=\"debug-tooltip-row\"><strong>Active:</strong>  Yes</div>\r\n            <div class=\"debug-tooltip-row\"><strong>Updated:</strong> ${timeDisplay}</div>\r\n            <div class=\"debug-tooltip-row\"><strong>Content:</strong></div>\r\n            <div class=\"debug-tooltip-content\">${markdownContent || '(empty)'}</div>\r\n        `;\r\n    }\r\n    \r\n    /**\r\n     * Remove all debug tooltips\r\n     */\r\n    removeTooltips() {\r\n        log('removeTooltips()', 'DebugTooltip');\r\n\r\n        const tooltips = document.querySelectorAll('.debug-tooltip');\r\n        tooltips.forEach(tooltip => tooltip.remove());\r\n    }\r\n    \r\n    /**\r\n     * Start debug update loop\r\n     */\r\n    startUpdateLoop() {\r\n        log('startUpdateLoop()', 'DebugTooltip');\r\n\r\n        if (this.updateInterval) {\r\n            clearInterval(this.updateInterval);\r\n        }\r\n        \r\n        this.updateInterval = setInterval(() => {\r\n            this.updateActiveBlockTooltip();\r\n        }, 1000); // Update every second\r\n    }\r\n    \r\n    /**\r\n     * Stop debug update loop\r\n     */\r\n    stopUpdateLoop() {\r\n        log('stopUpdateLoop()', 'DebugTooltip');\r\n\r\n        if (this.updateInterval) {\r\n            clearInterval(this.updateInterval);\r\n            this.updateInterval = null;\r\n        }\r\n    }\r\n    \r\n    /**\r\n     * Update all debug tooltips\r\n     */\r\n    updateTooltips() {\r\n        log('updateTooltips()', 'DebugTooltip');\r\n\r\n        if (!this.enabled) return;\r\n        \r\n        // Only show tooltip for the active block\r\n        this.updateActiveBlockTooltip();\r\n    }\r\n    \r\n    /**\r\n     * Update tooltip for the currently active block only\r\n     */\r\n    updateActiveBlockTooltip() {\r\n        log('updateActiveBlockTooltip()', 'DebugTooltip');\r\n\r\n        if (!this.enabled || !this.editor || !this.editor.currentBlock) {\r\n            return;\r\n        }\r\n        \r\n        // Remove all existing tooltips first\r\n        this.removeTooltips();\r\n        \r\n        // Find the index of the current block\r\n        const blocks = this.editorInstance.querySelectorAll('.block');\r\n        const currentIndex = Array.from(blocks).indexOf(this.editor.currentBlock);\r\n        \r\n        if (currentIndex !== -1) {\r\n            this.createTooltip(this.editor.currentBlock, currentIndex);\r\n        }\r\n    }\r\n    \r\n    /**\r\n     * Check if debug tooltips are enabled\r\n     * @returns {boolean} True if enabled, false otherwise\r\n     */\r\n    isEnabled() {\r\n        return this.enabled;\r\n    }\r\n}\r\n","'use strict';\r\n\r\nimport {Toolbar} from \"./Toolbar.js\";\r\nimport {log, logWarning} from \"./utils/log.js\";\r\nimport showdown from \"showdown\";\r\nimport {EditorEventEmitter, EVENTS} from \"@/utils/eventEmitter.js\";\r\nimport {Block} from \"@/Block.js\";\r\nimport {Parser} from \"@/Parser.js\";\r\nimport {BlockType} from \"@/BlockType.js\";\r\nimport {Utils} from \"@/Utils.js\";\r\nimport {BlockFactory} from \"@/blocks/BlockFactory.js\";\r\nimport {KeyHandler} from \"@/KeyHandler.js\";\r\nimport {DebugTooltip} from \"@/DebugTooltip.js\";\r\n\r\n/**\r\n * Editor class\r\n * @class Editor\r\n * @property {HTMLElement} instance - The editor instance\r\n * @property {Array.<Block>} blocks - Array of Block objects\r\n * @property {HTMLElement} currentBlock - The currently focused block\r\n * @property {Array.<string>} keybuffer - Buffer for tracking key presses\r\n * @property {Array.<Object>} rules - Custom rules for the editor\r\n * @property {EditorEventEmitter} eventEmitter - Instance-specific event emitter\r\n */\r\nexport class Editor\r\n{\r\n    // Static registry to track all editor instances\r\n    static _instances = new Map();\r\n    static _fallbackBlocks = [];\r\n    \r\n    /**\r\n     * @param {object} options\r\n     */\r\n    constructor(options = {})\r\n    {\r\n        log('construct()', 'Editor.'); console.log({options});\r\n        \r\n        const elementId = options.id ?? null;\r\n        \r\n        if ( !elementId ) {\r\n            return console.warn('Element id is not set.');\r\n        }\r\n\r\n        // Instance properties\r\n        this.instance = null;\r\n        this.blocks = [];\r\n        this.currentBlock = null;\r\n        this.rules = [];\r\n        this.keybuffer = [];\r\n        this.debug = options.debug || false;\r\n        this.debugMode = this.debug; // Current debug state (can be toggled)\r\n        \r\n        // Flag to prevent interference during block conversion\r\n        this.isConvertingBlock = false;\r\n        \r\n        // Flag to prevent empty editor check immediately after creating a block\r\n        this.isCreatingBlock = false;\r\n        \r\n        // Create instance-specific event emitter\r\n        this.eventEmitter = new EditorEventEmitter({ debug: options.debug || false });\r\n        \r\n        // Initialize debug tooltip instance\r\n        this.debugTooltip = null;\r\n        \r\n        // Initialize the editor first\r\n        this.init(options);\r\n        \r\n        // Now initialize toolbar after instance is created\r\n        this.initializeToolbar(options);\r\n        \r\n        // Register this instance\r\n        Editor._instances.set(this.instance, this);\r\n    }\r\n    \r\n    /**\r\n     * Initialize toolbar after editor instance is created\r\n     * @param {object} options \r\n     */\r\n    initializeToolbar(options)\r\n    {\r\n        log('initializeToolbar()', 'Editor.');\r\n\r\n        // Initialize toolbar - use the editor instance element's parent as container\r\n        const toolbarContainer = this.instance.parentElement || this.instance;\r\n        const defaultToolbarConfig = [\r\n            {\r\n                group: [\r\n                    { class: 'editor-toolbar-undo', icon: 'fa-undo', title: 'undo' },\r\n                    { class: 'editor-toolbar-redo', icon: 'fa-redo', title: 'redo' }\r\n                ]\r\n            },\r\n            {\r\n                group: [\r\n                    { class: 'editor-toolbar-header1', label: 'Header 1' },\r\n                    { class: 'editor-toolbar-header2', label: 'Header 2' },\r\n                    { class: 'editor-toolbar-header3', label: 'Header 3' },\r\n                    { class: 'editor-toolbar-header4', label: 'Header 4' },\r\n                    { class: 'editor-toolbar-header5', label: 'Header 5' },\r\n                    { class: 'editor-toolbar-header6', label: 'Header 6' },\r\n                    { class: 'editor-toolbar-paragraph', label: 'Paragraph' }\r\n                ],\r\n                dropdown: true,\r\n                icon: 'fa-heading',\r\n                id: 'dropdownMenuHeader'\r\n            },\r\n            {\r\n                group: [\r\n                    { class: 'editor-toolbar-bold', icon: 'fa-bold', title: 'bold' },\r\n                    { class: 'editor-toolbar-italic', icon: 'fa-italic', title: 'italic' },\r\n                    { class: 'editor-toolbar-underline', icon: 'fa-underline', title: 'underline' },\r\n                    { class: 'editor-toolbar-strikethrough', icon: 'fa-strikethrough', title: 'strikethrough' }\r\n                ]\r\n            },\r\n            {\r\n                group: [\r\n                    { class: 'editor-toolbar-ul', icon: 'fa-list', title: 'unordered list' },\r\n                    { class: 'editor-toolbar-ol', icon: 'fa-list-ol', title: 'ordered list' },\r\n                    { class: 'editor-toolbar-sq', icon: 'fa-list-check', title: 'task list' }\r\n                ]\r\n            },\r\n            {\r\n                group: [\r\n                    { class: 'editor-toolbar-table', icon: 'fa-table', title: 'insert table' },\r\n                    { class: 'editor-toolbar-image', icon: 'fa-image', title: 'insert image' }\r\n                ]\r\n            },\r\n            {\r\n                group: [\r\n                    { class: 'editor-toolbar-code', icon: 'fa-code', title: 'code block' }\r\n                ]\r\n            },\r\n            {\r\n                group: [\r\n                    { class: 'editor-toolbar-text', icon: 'fa-paragraph', title: 'text view', disabled: true },\r\n                    { class: 'editor-toolbar-markdown', icon: 'fa-brands fa-markdown', title: 'markdown view' },\r\n                    { class: 'editor-toolbar-html', icon: 'fa-brands fa-html5', title: 'html view' }\r\n                ]\r\n            }\r\n        ];\r\n        \r\n        // Use provided toolbar config or default, only initialize if toolbar is not disabled\r\n        const toolbarConfig = options.toolbar === false ? null : (\r\n            typeof options.toolbar === 'object' && options.toolbar.config ? options.toolbar.config :\r\n            typeof options.toolbar === 'object' && Array.isArray(options.toolbar) ? options.toolbar :\r\n            defaultToolbarConfig\r\n        );\r\n        \r\n        if (toolbarConfig) {\r\n            const toolbarOptions = {\r\n                id: options.toolbarId ?? null,\r\n                container: toolbarContainer,\r\n                config: toolbarConfig,\r\n                debug: this.debug,\r\n                editorInstance: this\r\n            };\r\n            Toolbar.init(toolbarOptions);\r\n        }\r\n    }\r\n    \r\n    /**\r\n     * Initialize the editor instance\r\n     * @param {object} options\r\n     */\r\n    init(options)\r\n    {\r\n        log('init()', 'Editor.'); console.log({options});\r\n\r\n        const editorContainer = document.createElement('div');\r\n        editorContainer.id = 'editor';\r\n        editorContainer.className = 'editor';\r\n\r\n        if ( options.container ) {\r\n            if ( Array.isArray(options.container) ) {\r\n                options.container.forEach(container => {\r\n                    container.appendChild(editorContainer);\r\n                });\r\n            } else {\r\n                options.container.appendChild(editorContainer);\r\n            }\r\n        }\r\n\r\n        this.instance = document.getElementById(options.id);\r\n        this.instance.setAttribute('contenteditable', 'true');\r\n\r\n        let content = options.text || this.instance.innerHTML || '';\r\n        let blocks = Parser.parse(content);\r\n        \r\n        this.blocks = blocks;\r\n        \r\n        if ( 0 === blocks.length ) {\r\n            blocks = [new Block()];\r\n        }\r\n\r\n        // @fixme use timestamp(content) for tracking changes\r\n        \r\n        /*$(element).on('focus', (e) => {\r\n            const currentTarget = e.currentTarget;\r\n            currentTarget.data('before', $(this).html());\r\n        }).on('blur keyup paste input', (e) => {\r\n            const currentTarget = e.currentTarget;\r\n            if ( $(this).data('before') !== $(this).html() ) {\r\n                $(this).data('before', $(this).html());\r\n                $(this).trigger('change');\r\n            }\r\n        });*/\r\n        \r\n        //Editor.html2md($(element).html());\r\n        \r\n        /*$(element).on('change', () => {\r\n            Editor.update();\r\n        });*/\r\n    \r\n        //Editor.update();\r\n        \r\n        for ( let block of blocks ) {\r\n            let html = Parser.html(block);\r\n            this.instance.appendChild(html);\r\n        }\r\n        \r\n        this.setCurrentBlock(this.instance.querySelectorAll('.block')[0]);\r\n        \r\n        // Ensure at least one block exists\r\n        if ( 0 === content.length ) {\r\n            const block = document.createElement('div');\r\n            block.classList.add('block')\r\n            block.innerHTML = '<br />';\r\n            this.instance.appendChild(block);\r\n        }\r\n    \r\n        this.addListeners();\r\n        \r\n        // @fixme focus only if empty content\r\n        if ( 0 ) {\r\n            this.focus();\r\n        }\r\n\r\n        this.initMarkdownContainer();\r\n        this.initHtmlContainer();\r\n        \r\n        // Emit editor initialization event\r\n        this.eventEmitter.emit(EVENTS.EDITOR_INITIALIZED, {\r\n            elementId: options.id,\r\n            blockCount: this.blocks.length,\r\n            timestamp: Date.now()\r\n        }, { source: 'editor.init' });\r\n        \r\n        // Initialize debug tooltip after editor is fully set up\r\n        this.debugTooltip = new DebugTooltip({\r\n            editorInstance: this.instance,\r\n            eventEmitter: this.eventEmitter\r\n        });\r\n        \r\n        // Enable debug tooltips if debug mode is on\r\n        if (this.debugMode) {\r\n            this.debugTooltip.enable(this);\r\n        }\r\n    }\r\n    \r\n    /**\r\n     * Toggle debug mode\r\n     */\r\n    toggleDebugMode()\r\n    {\r\n        log('toggleDebugMode()', 'Editor.');\r\n\r\n        this.debugMode = !this.debugMode;\r\n        \r\n        if (this.debugMode) {\r\n            if (this.debugTooltip) {\r\n                this.debugTooltip.enable(this);\r\n            }\r\n        } else {\r\n            if (this.debugTooltip) {\r\n                this.debugTooltip.disable();\r\n            }\r\n        }\r\n        \r\n        // Emit debug mode change event\r\n        this.eventEmitter.emit(EVENTS.DEBUG_MODE_CHANGED, {\r\n            debugMode: this.debugMode,\r\n            timestamp: Date.now()\r\n        }, { source: 'editor.toggleDebugMode' });\r\n    }\r\n    \r\n    \r\n    /**\r\n     * Subscribe to events on this editor instance\r\n     * @param {string} eventType - The event type to subscribe to\r\n     * @param {Function} callback - The callback function\r\n     * @param {Object} options - Subscription options\r\n     * @returns {Object} Subscription object with unsubscribe method\r\n     */\r\n    on(eventType, callback, options = {}) {\r\n        return this.eventEmitter.subscribe(eventType, callback, options);\r\n    }\r\n    \r\n    /**\r\n     * Unsubscribe from events (alias for more intuitive API)\r\n     * @param {string} eventType - The event type\r\n     * @param {Function} callback - The callback function to remove\r\n     */\r\n    off(eventType, callback) {\r\n        // Find and remove the specific callback\r\n        const listeners = this.eventEmitter.events.get(eventType);\r\n        if (listeners) {\r\n            for (const listener of listeners) {\r\n                if (listener.callback === callback) {\r\n                    listeners.delete(listener);\r\n                    break;\r\n                }\r\n            }\r\n            if (listeners.size === 0) {\r\n                this.eventEmitter.events.delete(eventType);\r\n            }\r\n        }\r\n    }\r\n    \r\n    /**\r\n     * Subscribe to event that fires only once\r\n     * @param {string} eventType - The event type\r\n     * @param {Function} callback - The callback function\r\n     * @param {Object} options - Subscription options\r\n     * @returns {Object} Subscription object with unsubscribe method\r\n     */\r\n    once(eventType, callback, options = {}) {\r\n        return this.eventEmitter.subscribe(eventType, callback, { ...options, once: true });\r\n    }\r\n    \r\n    /**\r\n     * Emit events from this editor instance\r\n     * @param {string} eventType - The event type\r\n     * @param {*} data - Event data\r\n     * @param {Object} options - Emission options\r\n     */\r\n    emit(eventType, data, options = {}) {\r\n        this.eventEmitter.emit(eventType, data, options);\r\n    }\r\n    \r\n    /**\r\n     * Get the editor instance from a DOM element\r\n     * @param {HTMLElement} element - The editor DOM element\r\n     * @returns {Editor|null} The editor instance or null if not found\r\n     */\r\n    static getInstance(element)\r\n    {\r\n        return Editor._instances.get(element) || null;\r\n    }\r\n    \r\n    /**\r\n     * Get the editor instance that contains a given DOM element\r\n     * @param {HTMLElement} element - Any DOM element within an editor\r\n     * @returns {Editor|null} The editor instance or null if not found\r\n     */\r\n    static getInstanceFromElement(element)\r\n    {\r\n        log('getInstanceFromElement()', 'Editor.');\r\n\r\n        if (!element) {\r\n            return null;\r\n        }\r\n\r\n        // Walk up the DOM tree to find an editor instance\r\n        let currentElement = element;\r\n        while (currentElement) {\r\n            const editorInstance = Editor._instances.get(currentElement);\r\n            if (editorInstance) {\r\n                return editorInstance;\r\n            }\r\n            currentElement = currentElement.parentElement;\r\n        }\r\n        \r\n        // If not found by walking up, try to find the first instance as fallback\r\n        const instances = Array.from(Editor._instances.values());\r\n        return instances.length > 0 ? instances[0] : null;\r\n    }\r\n    \r\n    /**\r\n     * Destroy the editor instance and cleanup\r\n     */\r\n    destroy()\r\n    {\r\n        log('destroy()', 'Editor.');\r\n\r\n        // Stop debug update loop and remove tooltips\r\n        this.stopDebugUpdateLoop();\r\n        this.removeDebugTooltips();\r\n        this.removeDebugEventListeners();\r\n        \r\n        // Remove debug mode class\r\n        if (this.instance) {\r\n            this.instance.classList.remove('debug-mode');\r\n        }\r\n        \r\n        // Cleanup event emitter\r\n        this.eventEmitter.cleanup();\r\n        \r\n        // Remove from instances registry\r\n        Editor._instances.delete(this.instance);\r\n        \r\n        // Remove DOM event listeners\r\n        // (Event listeners will be cleaned up when element is removed)\r\n        \r\n        // Clear instance properties\r\n        this.instance = null;\r\n        this.blocks = [];\r\n        this.currentBlock = null;\r\n        this.rules = [];\r\n        this.keybuffer = [];\r\n    }\r\n    \r\n    /**\r\n     * Adds event listeners to this editor instance\r\n     */\r\n    addListeners()\r\n    {\r\n        log('addListeners()', 'Editor.');\r\n        \r\n        this.instance.addEventListener('keydown', (e) => {\r\n            KeyHandler.handleSpecialKeys(e, this);\r\n        });\r\n    \r\n        this.instance.addEventListener('keyup', (e) => {\r\n            KeyHandler.handleKeyPress(e, this);\r\n        });\r\n        \r\n        // PASTE TEXT/HTML Event handler\r\n        this.instance.addEventListener('paste', (e) => {\r\n            this.paste(e);\r\n            e.preventDefault();\r\n        });\r\n        \r\n        // INPUT Event handler - catch content changes for block conversion\r\n        this.instance.addEventListener('input', (e) => {\r\n            // Only handle input events for this editor instance\r\n            if (!e.target.closest(`#${this.instance.id}`)) {\r\n                return;\r\n            }\r\n            \r\n            // Find the block that contains the input target\r\n            let block = e.target.closest('.block');\r\n            \r\n            // If no block is found but the target is a list item, look for the parent list block\r\n            if (!block && e.target.tagName === 'LI') {\r\n                block = e.target.closest('ul, ol, div').closest('.block');\r\n            }\r\n            \r\n            // Check if editor is effectively empty after content deletion\r\n            // Skip this check if a block conversion is in progress to prevent interference\r\n            // Also skip if we just created a new block to allow empty blocks to persist\r\n            if (!this.isConvertingBlock && !this.isCreatingBlock) {\r\n                const allBlocks = this.instance.querySelectorAll('.block');\r\n                \r\n                // Only trigger empty editor protection if:\r\n                // 1. There are no blocks at all, OR\r\n                // 2. There's exactly one block and it's empty (likely user deleted all content)\r\n                // Do NOT trigger if there are multiple blocks, even if they're all empty,\r\n                // as the user may have intentionally created multiple empty blocks\r\n                if (allBlocks.length === 0 || \r\n                    (allBlocks.length === 1 && this.isEditorEmpty(allBlocks))) {\r\n                    // Editor is empty, ensure at least one default block exists\r\n                    this.ensureDefaultBlock();\r\n                    return;\r\n                }\r\n            }\r\n        \r\n            if (block) {\r\n                // Only check for conversion on paragraph blocks to avoid performance issues\r\n                const blockType = block.getAttribute('data-block-type');\r\n                if (blockType === 'p' || blockType === 'paragraph') {\r\n                    // Get current text content, preserve trailing space for triggers like \"# \"\r\n                    // and normalize non-breaking spaces from contenteditable\r\n                    const raw = Utils.stripTags(block.innerHTML);\r\n                    const normalized = raw.replace(/&nbsp;/g, ' ').replace(/\\u00A0|\\xA0|\\u00a0/g, ' ');\r\n                    const textContent = normalized.replace(/^\\s+/, '');\r\n                    \r\n                    // Only check for conversion if text contains potential triggers\r\n                    if (textContent.match(/^(#{1,6}\\s|[\\*\\-]\\s|[\\*\\-]\\s*\\[[x\\s]\\]\\s*|\\d+\\.?\\s|>\\s|```|~~~)/)) {\r\n                        // Check if this block should be converted to a different type\r\n                        // Use a small timeout to let the DOM update first\r\n                        setTimeout(() => {\r\n                            if (this.checkAndConvertBlock(block)) {\r\n                                this.update();\r\n                            }\r\n                        }, 50);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        \r\n        // Primary handler for setting current block - handles both click and focus events\r\n        this.instance.addEventListener('click', (e) => {\r\n            // Only handle clicks for this editor instance\r\n            if (!e.target.closest(`#${this.instance.id}`)) {\r\n                return;\r\n            }\r\n\r\n            let block = e.target.closest('.block');\r\n            \r\n            // If no block is found but the target is a list item, look for the parent list block\r\n            if (!block && e.target.tagName === 'LI') {\r\n                block = e.target.closest('ul, ol, div').closest('.block');\r\n            }\r\n            \r\n            if ( block ) {\r\n                this.setCurrentBlock(block);\r\n            }\r\n        });\r\n\r\n        // Handle focus events for keyboard navigation (only when not caused by mouse interaction)\r\n        this.instance.addEventListener('focusin', (e) => {\r\n            // Only handle focus events for this editor instance\r\n            if (!e.target.closest(`#${this.instance.id}`)) {\r\n                return;\r\n            }\r\n\r\n            // Skip if this focus event was caused by a recent mouse click\r\n            // to avoid duplicate setCurrentBlock calls\r\n            if (this._lastClickTime && Date.now() - this._lastClickTime < 100) {\r\n                return;\r\n            }\r\n\r\n            let block = e.target.closest('.block');\r\n            \r\n            // If no block is found but the target is a list item, look for the parent list block\r\n            if (!block && e.target.tagName === 'LI') {\r\n                block = e.target.closest('ul, ol, div').closest('.block');\r\n            }\r\n            \r\n            if ( block ) {\r\n                this.setCurrentBlock(block);\r\n            } else {\r\n                // If no block is found but we're in the editor, try to focus on first block\r\n                const firstBlock = this.instance.querySelector('.block');\r\n                if ( firstBlock ) {\r\n                    this.setCurrentBlock(firstBlock);\r\n                }\r\n            }\r\n        });\r\n\r\n        // Track mouse clicks to prevent duplicate focus handling\r\n        this.instance.addEventListener('mousedown', () => {\r\n            this._lastClickTime = Date.now();\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Sets focus on given or current editor block.\r\n     * @param {?HTMLElement} element\r\n     */\r\n    focus(element = null)\r\n    {\r\n        log('focus()', 'Editor.');\r\n        \r\n        if ( !element ) {\r\n            element = this.currentBlock;\r\n        }\r\n        \r\n        // Verify element exists and is attached to DOM\r\n        if ( !element || !element.isConnected ) {\r\n            logWarning('Cannot focus on non-existent or detached element', 'Editor.focus()');\r\n            \r\n            // Fallback mechanism: focus on editor instance or first available block\r\n            // Use instance method instead of static to avoid recursion\r\n            const firstBlock = this.instance.querySelector('.block');\r\n            if ( firstBlock && firstBlock.isConnected ) {\r\n                // Set current block and try to focus again, but prevent infinite recursion\r\n                this.setCurrentBlock(firstBlock);\r\n                // Direct focus without recursive call\r\n                this.focusElement(firstBlock);\r\n                return;\r\n            } else {\r\n                // No blocks available, focus on editor instance itself\r\n                if (this.instance && this.instance.isConnected) {\r\n                    this.instance.focus();\r\n                }\r\n                return;\r\n            }\r\n        }\r\n        \r\n        this.focusElement(element);\r\n    }\r\n\r\n    /**\r\n     * Helper method to focus on an element without recursion\r\n     * @param {HTMLElement} element - The element to focus on\r\n     */\r\n    focusElement(element)\r\n    {\r\n        log('focusElement()', 'Editor.');\r\n\r\n        if (!element || !element.isConnected) {\r\n            return;\r\n        }\r\n        \r\n        const range = document.createRange();\r\n        const selection = window.getSelection();\r\n    \r\n        // Clear existing selections\r\n        selection.removeAllRanges();\r\n        \r\n        //range.selectNode(element);\r\n        // Create and set the range\r\n        range.selectNodeContents(element);\r\n        range.collapse(false);\r\n        \r\n        // Set the selection\r\n        selection.addRange(range);\r\n    \r\n        // Ensure element is visible\r\n        element.scrollIntoView({ behavior: 'smooth' });\r\n    }\r\n    \r\n    /**\r\n     *\r\n     * @param {ClipboardEvent} e\r\n     */\r\n    paste(e)\r\n    {\r\n        log('paste()', 'Editor.'); console.log({e});\r\n        \r\n        e.preventDefault(); // Prevent default paste behavior\r\n        \r\n        let text = (e.clipboardData || window.clipboardData).getData('text');\r\n        let htmlData = (e.clipboardData || window.clipboardData).getData('text/html');\r\n        \r\n        const selection = window.getSelection();\r\n        \r\n        if ( !selection.rangeCount ) {\r\n            return false;\r\n        }\r\n        \r\n        // Sanitize the input text to prevent XSS attacks\r\n        text = Utils.escapeHTML(text);\r\n        \r\n        // If HTML data is available, sanitize it as well\r\n        let finalHtml = '';\r\n        if ( htmlData && htmlData.trim() !== '' ) {\r\n            // Basic HTML sanitization - remove script tags and event handlers\r\n            htmlData = htmlData\r\n                .replace(/<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi, '')\r\n                .replace(/on\\w+=\"[^\"]*\"/gi, '')\r\n                .replace(/on\\w+='[^']*'/gi, '')\r\n                .replace(/javascript:/gi, '');\r\n            \r\n            // Use Parser to properly parse HTML into blocks\r\n            try {\r\n                const blocks = Parser.parseHtml(htmlData);\r\n                if ( blocks.length > 0 ) {\r\n                    // Convert blocks back to HTML\r\n                    finalHtml = blocks.map(block => block.html || block.content).join('');\r\n                } else {\r\n                    // Fallback to markdown conversion\r\n                    finalHtml = Editor.md2html(text);\r\n                }\r\n            } catch (error) {\r\n                logWarning('Error parsing HTML data, falling back to markdown conversion', 'Editor.paste()');\r\n                finalHtml = Editor.md2html(text);\r\n            }\r\n        } else {\r\n            // Convert markdown to HTML\r\n            finalHtml = Editor.md2html(text);\r\n        }\r\n    \r\n        if ( selection.rangeCount ) {\r\n            const range = selection.getRangeAt(0);\r\n            \r\n            try {\r\n                const node = document.createRange().createContextualFragment(finalHtml);\r\n                range.deleteContents(); // Clear selected content first\r\n                range.insertNode(node);\r\n                \r\n                // Move cursor to end of inserted content\r\n                range.collapse(false);\r\n                selection.removeAllRanges();\r\n                selection.addRange(range);\r\n            } catch (error) {\r\n                logWarning('Error inserting pasted content', 'Editor.paste()');\r\n                // Fallback to execCommand if modern approach fails\r\n                document.execCommand('insertHTML', false, finalHtml);\r\n            }\r\n        }\r\n        \r\n        // Emit paste event\r\n        this.eventEmitter.emit(EVENTS.USER_PASTE, {\r\n            text: text,\r\n            html: htmlData,\r\n            processedHtml: finalHtml,\r\n            timestamp: Date.now()\r\n        }, { source: 'user.paste' });\r\n        \r\n        // Update editor after paste\r\n        this.update();\r\n    }\r\n    \r\n    /**\r\n     * Raises editor updated event with content change tracking\r\n     */\r\n    update()\r\n    {\r\n        log('update()', 'Editor.');\r\n        \r\n        // Cancel any pending update to avoid multiple rapid calls\r\n        if (this._updateTimeout) {\r\n            clearTimeout(this._updateTimeout);\r\n        }\r\n        \r\n        // Debounce the actual update to improve performance\r\n        this._updateTimeout = setTimeout(() => {\r\n            this._performUpdate();\r\n        }, 50);\r\n    }\r\n\r\n    /**\r\n     * Perform the actual update operation (private method)\r\n     * @private\r\n     */\r\n    _performUpdate()\r\n    {\r\n        log('_performUpdate()', 'Editor.');\r\n\r\n        let editorHtml = this.instance.innerHTML;\r\n        \r\n        // Only compute markdown if it's actually needed (performance optimization)\r\n        let markdownContent = '';\r\n        if (this.eventEmitter.hasListeners(EVENTS.EDITOR_UPDATED) || \r\n            this.eventEmitter.hasListeners(EVENTS.CONTENT_CHANGED)) {\r\n            markdownContent = Editor.html2md(editorHtml);\r\n        }\r\n        \r\n        // Update timestamps for all blocks\r\n        this.updateBlockTimestamps();\r\n        \r\n        // Empty-editor protection: ensure at least one default block exists\r\n        // Only enforce when there are no blocks, or when there's exactly one empty block.\r\n        // Do NOT collapse multiple empty blocks, as users may intentionally create them.\r\n        // Also skip enforcement while a conversion/creation is in progress to avoid racing with transformations.\r\n        const blocks = this.instance.querySelectorAll('.block');\r\n        if (!this.isConvertingBlock && !this.isCreatingBlock) {\r\n            if (blocks.length === 0) {\r\n                this.ensureDefaultBlock();\r\n            } else if (blocks.length === 1 && this.isEditorEmpty(blocks)) {\r\n                const onlyBlock = blocks[0];\r\n                const type = onlyBlock.getAttribute('data-block-type');\r\n                // Only enforce default block if the single empty block is a paragraph.\r\n                // Allow empty non-paragraph blocks (e.g., an empty heading after typing \"# \") to persist.\r\n                if (type === 'p' || type === 'paragraph') {\r\n                    this.ensureDefaultBlock();\r\n                }\r\n            }\r\n        }\r\n\r\n        // Emit both legacy and new events\r\n        this.eventEmitter.emit(EVENTS.EDITOR_UPDATED, {\r\n            html: editorHtml,\r\n            markdown: markdownContent,\r\n            blockCount: this.instance.querySelectorAll('.block').length\r\n        });\r\n        \r\n        // Emit debounced content change event for backend synchronization\r\n        this.eventEmitter.emit(EVENTS.CONTENT_CHANGED, {\r\n            html: editorHtml,\r\n            markdown: markdownContent,\r\n            timestamp: Date.now()\r\n        }, { debounce: 500, source: 'editor.update' });\r\n        \r\n        // Update debug tooltips if debug mode is active\r\n        if (this.debugMode && this.debugTooltip) {\r\n            // Use a slight delay to ensure DOM updates are complete\r\n            setTimeout(() => this.debugTooltip.updateActiveBlockTooltip(), 10);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Update timestamps for all blocks to track content changes\r\n     */\r\n    updateBlockTimestamps()\r\n    {\r\n        log('updateBlockTimestamps()', 'Editor.');\r\n\r\n        const blocks = this.instance.querySelectorAll('.block');\r\n        const currentTimestamp = Date.now();\r\n        \r\n        blocks.forEach(block => {\r\n            const content = block.textContent || block.innerHTML;\r\n            const lastContent = block.getAttribute('data-last-content');\r\n            \r\n            // Only update timestamp if content has actually changed\r\n            if (lastContent !== content) {\r\n                block.setAttribute('data-timestamp', currentTimestamp.toString());\r\n                block.setAttribute('data-last-content', content);\r\n                \r\n                // Emit block-specific content change event\r\n                this.eventEmitter.emit(EVENTS.BLOCK_CONTENT_CHANGED, {\r\n                    blockId: block.getAttribute('data-block-id') || block.id,\r\n                    blockType: block.getAttribute('data-block-type'),\r\n                    content: content,\r\n                    previousContent: lastContent,\r\n                    timestamp: currentTimestamp\r\n                }, { throttle: 200, source: 'block.content' });\r\n                \r\n                // Update debug tooltip if this is the active block\r\n                if (this.debugMode && this.debugTooltip && block === this.currentBlock) {\r\n                    setTimeout(() => this.debugTooltip.updateActiveBlockTooltip(), 10);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Check if the editor is effectively empty (all blocks contain no meaningful content)\r\n     * @param {NodeList} blocks - Collection of block elements\r\n     * @returns {boolean}\r\n     */\r\n    isEditorEmpty(blocks)\r\n    {\r\n        log('isEditorEmpty()', 'Editor.');\r\n        \r\n        if (blocks.length === 0) {\r\n            return true;\r\n        }\r\n        \r\n        // Check if all blocks are empty (contain only whitespace or no content)\r\n        for (let block of blocks) {\r\n            const textContent = Utils.stripTags(block.innerHTML).trim();\r\n            if (textContent.length > 0) {\r\n                return false; // Found non-empty block\r\n            }\r\n        }\r\n        \r\n        return true; // All blocks are empty\r\n    }\r\n\r\n    /**\r\n     * Ensures the editor has at least one default block\r\n     * Handles the empty editor edge case safely\r\n     */\r\n    ensureDefaultBlock()\r\n    {\r\n        log('ensureDefaultBlock()', 'Editor.');\r\n        \r\n        // Get all current blocks\r\n        const allBlocks = this.instance.querySelectorAll('.block');\r\n        \r\n        // If editor is empty, create a default block\r\n        if (allBlocks.length === 0 || this.isEditorEmpty(allBlocks)) {\r\n            // Detach events from existing blocks first\r\n            if (allBlocks.length > 0) {\r\n                this.detachBlockEvents(allBlocks);\r\n            }\r\n            \r\n            // Clear the editor content\r\n            this.instance.innerHTML = '';\r\n            \r\n            // Reset current block reference to prevent focus issues\r\n            this.currentBlock = null;\r\n            \r\n            // Create and add a new default block\r\n            const newBlock = this.addDefaultBlock();\r\n            \r\n            // No need to call update() here as this method is already called from within the update cycle\r\n            // The newly created block will be processed by the current update cycle\r\n            \r\n            return newBlock;\r\n        }\r\n        \r\n        return null;\r\n    }\r\n\r\n    /**\r\n     * Detach events from blocks before removing them\r\n     * @param {NodeList} blocks - Collection of block elements to clean up\r\n     */\r\n    detachBlockEvents(blocks)\r\n    {\r\n        log('detachBlockEvents()', 'Editor.');\r\n        \r\n        blocks.forEach(block => {\r\n            // Clone the block to remove all event listeners\r\n            const clonedBlock = block.cloneNode(true);\r\n            \r\n            // Emit a block destroy event for any cleanup needed\r\n            if (block.getAttribute('data-block-id')) {\r\n                this.eventEmitter.emit(EVENTS.BLOCK_DESTROYED, {\r\n                    blockId: block.getAttribute('data-block-id'),\r\n                    blockType: block.getAttribute('data-block-type'),\r\n                    timestamp: Date.now()\r\n                }, { source: 'editor.cleanup' });\r\n            }\r\n            \r\n            // Replace the block with its clone (removes all event listeners)\r\n            if (block.parentNode) {\r\n                block.parentNode.replaceChild(clonedBlock, block);\r\n            }\r\n        });\r\n    }\r\n\r\n      /**\r\n     *\r\n     * @param {string} html\r\n     * @returns {string} md\r\n     */\r\n    static html2md(html)\r\n    {\r\n        log('html2md()', 'Editor.'); //console.log({html});\r\n        \r\n        try {\r\n            // Validate input\r\n            if ( !html || typeof html !== 'string' ) {\r\n                logWarning('Invalid HTML input for conversion', 'Editor.html2md()');\r\n                return '';\r\n            }\r\n            \r\n            let converter = new showdown.Converter({ ghCompatibleHeaderId: false, headerIds: false });\r\n            \r\n            return converter.makeMd(html);\r\n        } catch (error) {\r\n            logWarning('Error converting HTML to markdown: ' + error.message, 'Editor.html2md()');\r\n            return html; // Return original HTML as fallback\r\n        }\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {string} md\r\n     * @returns {string} html\r\n     */\r\n    static md2html(md)\r\n    {\r\n        log('md2html()', 'Editor.');\r\n        \r\n        try {\r\n            // Validate input\r\n            if ( !md || typeof md !== 'string' ) {\r\n                logWarning('Invalid markdown input for conversion', 'Editor.md2html()');\r\n                return '';\r\n            }\r\n    \r\n            const converter = new showdown.Converter({ ghCompatibleHeaderId: false, headerIds: false });\r\n            \r\n            let html = converter.makeHtml(md);\r\n            \r\n            //html = html.replace(/(<\\/code><\\/pre>$(?![\\r\\n]))/gm, '$1<p><br></p>');\r\n            html = html.replace(/(<\\/code><\\/pre>$(?![\\r\\n]))/gm, '$1<br>');\r\n            \r\n            return html;\r\n        } catch (error) {\r\n            logWarning('Error converting markdown to HTML: ' + error.message, 'Editor.md2html()');\r\n            return Utils.escapeHTML(md); // Return escaped markdown as fallback\r\n        }\r\n    }\r\n    \r\n\r\n    \r\n    /**\r\n     * @return HTMLElement\r\n     */\r\n    addDefaultBlock()\r\n    {\r\n        log('addDefaultBlock()', 'Editor.');\r\n        \r\n        // Set flag to prevent input event handler from checking empty editor state\r\n        this.isCreatingBlock = true;\r\n        \r\n        const block = new Block(BlockType.PARAGRAPH);\r\n        const htmlBlock = Parser.html(block);\r\n        \r\n        // Generate unique block ID\r\n        const blockId = 'block-' + Date.now() + '-' + Math.random().toString(36).substr(2, 9);\r\n        htmlBlock.setAttribute('data-block-id', blockId);\r\n        htmlBlock.setAttribute('data-timestamp', Date.now().toString());\r\n        \r\n        const currentBlock = this.currentBlock;\r\n    \r\n        // Ensure currentBlock exists\r\n        if ( !currentBlock ) {\r\n            this.instance.appendChild(htmlBlock);\r\n        } else {\r\n            currentBlock.after(htmlBlock);\r\n        }\r\n    \r\n        // Update currentBlock reference\r\n        this.setCurrentBlock(htmlBlock);\r\n    \r\n        // Emit block creation event\r\n        this.eventEmitter.emit(EVENTS.BLOCK_CREATED, {\r\n            blockId: blockId,\r\n            blockType: BlockType.PARAGRAPH,\r\n            position: Array.from(this.instance.querySelectorAll('.block')).indexOf(htmlBlock),\r\n            timestamp: Date.now()\r\n        }, { source: 'editor.create' });\r\n    \r\n        // Ensure the block is attached before focusing\r\n        // Use double requestAnimationFrame to ensure DOM is fully updated\r\n        requestAnimationFrame(() => {\r\n            requestAnimationFrame(() => {\r\n                if (htmlBlock.isConnected) {\r\n                    this.focus(htmlBlock);\r\n                }\r\n                \r\n                // Clear the flag after a short delay to allow the new block to be focused\r\n                // and any initial events to be processed\r\n                setTimeout(() => {\r\n                    this.isCreatingBlock = false;\r\n                }, 100);\r\n            });\r\n        });\r\n        \r\n        return htmlBlock;\r\n    }\r\n\r\n    /**\r\n     * Updates toolbar button states based on the current block\r\n     */\r\n    updateToolbarButtonStates()\r\n    {\r\n        log('updateToolbarButtonStates()', 'Editor.');\r\n\r\n        if (!this.currentBlock) {\r\n            return;\r\n        }\r\n\r\n        const blockType = this.currentBlock.getAttribute('data-block-type');\r\n        if (!blockType) {\r\n            return;\r\n        }\r\n\r\n        // Get the block class to access its static methods\r\n        const blockClass = Editor.getBlockClass(blockType);\r\n        if (!blockClass) {\r\n            return;\r\n        }\r\n\r\n        // Get disabled buttons for this block type (static method)\r\n        const disabledButtons = blockClass.getDisabledButtons();\r\n        \r\n        // Reset all toolbar buttons to enabled state\r\n        this.enableAllToolbarButtons();\r\n        \r\n        // Disable buttons that shouldn't be available for this block type\r\n        disabledButtons.forEach(buttonClass => {\r\n            const button = document.querySelector(`.${buttonClass}`);\r\n            if (button) {\r\n                button.disabled = true;\r\n                button.classList.add('disabled');\r\n            }\r\n        });\r\n\r\n        log('updateToolbarButtonStates()', 'Editor.', { blockType, disabledButtons });\r\n    }\r\n\r\n    /**\r\n     * Enables all toolbar buttons (resets their state)\r\n     */\r\n    enableAllToolbarButtons()\r\n    {\r\n        log('enableAllToolbarButtons()', 'Editor.');\r\n\r\n        const toolbarButtons = document.querySelectorAll('.editor-toolbar button');\r\n        toolbarButtons.forEach(button => {\r\n            // Don't re-enable view buttons that are currently disabled for good reason\r\n            const isViewButton = button.classList.contains('editor-toolbar-text') || \r\n                               button.classList.contains('editor-toolbar-markdown') || \r\n                               button.classList.contains('editor-toolbar-html');\r\n            \r\n            // Enable all non-view buttons, but preserve view button states\r\n            if (!isViewButton) {\r\n                button.disabled = false;\r\n                button.classList.remove('disabled');\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Gets a block instance for the given block type\r\n     * @param {string} blockType The block type identifier\r\n     * @returns {object|null} Block instance or null if not found\r\n     */\r\n    static getBlockInstance(blockType)\r\n    {\r\n        log('getBlockInstance()', 'Editor.', { blockType });\r\n\r\n        try {\r\n            // Create a temporary instance to access its methods\r\n            return BlockFactory.createBlock(blockType, '', '', false);\r\n        } catch (error) {\r\n            console.warn(`Could not create block instance for type: ${blockType}`, error);\r\n            return null;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Gets a block class for the given block type\r\n     * @param {string} blockType The block type identifier\r\n     * @returns {Function|null} Block class or null if not found\r\n     */\r\n    static getBlockClass(blockType)\r\n    {\r\n        try {\r\n            // Get the block class from the factory\r\n            return BlockFactory.getBlockClass(blockType);\r\n        } catch (error) {\r\n            console.warn(`Could not get block class for type: ${blockType}`, error);\r\n            return null;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Sets the current block\r\n     * @param {HTMLElement} block \r\n     */\r\n    setCurrentBlock(block)\r\n    {\r\n        log('setCurrentBlock()', 'Editor.', { block });\r\n\r\n        // Ensure block is valid before proceeding\r\n        if (!block) {\r\n            return;\r\n        }\r\n\r\n        // Prevent duplicate calls for the same block - check this first before any other operations\r\n        if (this.currentBlock === block) {\r\n            return;\r\n        }\r\n\r\n        log('setCurrentBlock()', 'Editor.', { block });\r\n\r\n        const previousBlock = this.currentBlock;\r\n        \r\n        if (this.currentBlock) {\r\n            this.currentBlock.classList.remove('active-block');\r\n        }\r\n        \r\n        this.currentBlock = block;\r\n        this.currentBlock.classList.add('active-block');\r\n        \r\n        // Update toolbar button states based on current block\r\n        this.updateToolbarButtonStates();\r\n        \r\n        // Emit block focus event\r\n        this.eventEmitter.emit(EVENTS.BLOCK_ACTIVATED, {\r\n            blockId: (block && block.getAttribute) ? (block.getAttribute('data-block-id') || block.id) : null,\r\n            blockType: (block && block.getAttribute) ? block.getAttribute('data-block-type') : null,\r\n            previousBlockId: (previousBlock && previousBlock.getAttribute) ? (previousBlock.getAttribute('data-block-id') || previousBlock.id) : null,\r\n            timestamp: Date.now()\r\n        }, { throttle: 50, source: 'editor.focus' });\r\n        \r\n        // Update debug tooltip for the active block only\r\n        if (this.debugMode && this.debugTooltip) {\r\n            this.debugTooltip.updateActiveBlockTooltip();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Creates and initializes the markdown container\r\n     * @returns {boolean} True if successful, false otherwise\r\n     */\r\n    initMarkdownContainer()\r\n    {\r\n        log('initMarkdownContainer()', 'Editor.');\r\n\r\n        try {\r\n            const markdownContainer = document.createElement('textarea');\r\n            markdownContainer.id = 'editor-markdown';\r\n            markdownContainer.className = 'editor-text-md visually-hidden';\r\n            markdownContainer.style.width = '100%';\r\n            markdownContainer.style.minHeight = '300px';\r\n\r\n            const container = document.querySelector('.editor-container');\r\n            if (container) {\r\n                // Check if container already exists to avoid duplicates\r\n                const existing = container.querySelector('#editor-markdown');\r\n                if (existing) {\r\n                    logWarning('Markdown container already exists, skipping initialization.', 'Editor.initMarkdownContainer()');\r\n                    return true;\r\n                }\r\n                container.appendChild(markdownContainer);\r\n                return true;\r\n            } else {\r\n                logWarning('Editor container not found for Markdown container initialization.', 'Editor.initMarkdownContainer()');\r\n                return false;\r\n            }\r\n        } catch (error) {\r\n            logWarning('Error initializing markdown container: ' + error.message, 'Editor.initMarkdownContainer()');\r\n            return false;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Creates and initializes the HTML container\r\n     * @returns {boolean} True if successful, false otherwise\r\n     */\r\n    initHtmlContainer()\r\n    {\r\n        log('initHtmlContainer()', 'Editor.');\r\n        \r\n        try {\r\n            const htmlContainer = document.createElement('div');\r\n            htmlContainer.id = 'editor-html';\r\n            htmlContainer.className = 'editor-text-html visually-hidden';\r\n            htmlContainer.style.width = '100%';\r\n            htmlContainer.style.minHeight = '300px';\r\n\r\n            const container = document.querySelector('.editor-container');\r\n            if (container) {\r\n                // Check if container already exists to avoid duplicates\r\n                const existing = container.querySelector('#editor-html');\r\n                if (existing) {\r\n                    logWarning('HTML container already exists, skipping initialization.', 'Editor.initHtmlContainer()');\r\n                    return true;\r\n                }\r\n                container.appendChild(htmlContainer);\r\n                return true;\r\n            } else {\r\n                logWarning('Editor container not found for HTML container initialization.', 'Editor.initHtmlContainer()');\r\n                return false;\r\n            }\r\n        } catch (error) {\r\n            logWarning('Error initializing HTML container: ' + error.message, 'Editor.initHtmlContainer()');\r\n            return false;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get all editor content as markdown\r\n     * @returns {string} - markdown representation of all content\r\n     */\r\n    getMarkdown()\r\n    {\r\n        log('getMarkdown()', 'Editor.');\r\n        \r\n        try {\r\n            if (!this.blocks || this.blocks.length === 0) {\r\n                return '';\r\n            }\r\n\r\n            const markdownBlocks = this.blocks.map(block => {\r\n                if (typeof block.toMarkdown === 'function') {\r\n                    return block.toMarkdown();\r\n                }\r\n                // Fallback for blocks that don't implement toMarkdown\r\n                return Editor.html2md(block.html || block.content || '');\r\n            });\r\n\r\n            return markdownBlocks.join('\\n\\n').trim();\r\n        } catch (error) {\r\n            logWarning('Error getting markdown content: ' + error.message, 'Editor.getMarkdown()');\r\n            return '';\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get all editor content as HTML\r\n     * @returns {string} - HTML representation of all content\r\n     */\r\n    getHtml()\r\n    {\r\n        log('getHtml()', 'Editor.');\r\n        \r\n        try {\r\n            if (!this.blocks || this.blocks.length === 0) {\r\n                return '';\r\n            }\r\n\r\n            const htmlBlocks = this.blocks.map(block => {\r\n                if (typeof block.toHtml === 'function') {\r\n                    return block.toHtml();\r\n                }\r\n                // Fallback for blocks that don't implement toHtml\r\n                return block.html || Editor.md2html(block.content || '');\r\n            });\r\n\r\n            return htmlBlocks.join('\\n').trim();\r\n        } catch (error) {\r\n            logWarning('Error getting HTML content: ' + error.message, 'Editor.getHtml()');\r\n            return '';\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Check if a block should be converted to a different type based on its content\r\n     * @param {HTMLElement} blockElement - The block element to check\r\n     * @returns {boolean} - true if block was converted, false otherwise\r\n     */\r\n    checkAndConvertBlock(blockElement) \r\n    {\r\n        log('checkAndConvertBlock()', 'Editor.');\r\n        \r\n        if (!blockElement || !blockElement.hasAttribute('data-block-type')) {\r\n            return false;\r\n        }\r\n\r\n        const currentBlockType = blockElement.getAttribute('data-block-type');\r\n        // Preserve trailing space to allow triggers like \"# \" to match\r\n        // but ignore leading whitespace so triggers at the start still detect\r\n        const rawText = Utils.stripTags(blockElement.innerHTML);\r\n        // Normalize non-breaking spaces (&nbsp; and \\u00A0) to regular spaces before checking triggers\r\n        const normalizedText = rawText.replace(/&nbsp;/g, ' ').replace(/\\u00A0|\\xA0|\\u00a0/g, ' ');\r\n        const textContent = normalizedText.replace(/^\\s+/, '');\r\n        \r\n        // Find matching block class for the current text content\r\n        const matchingBlockClass = BlockFactory.findBlockClassForTrigger(textContent);\r\n        \r\n        // Only skip conversion if content is empty AND no markdown trigger was found\r\n        // This allows triggers like \"# \" to work even in \"empty\" blocks\r\n        if (!textContent && !matchingBlockClass) {\r\n            return false;\r\n        }\r\n        \r\n        if (!matchingBlockClass) {\r\n            return false;\r\n        }\r\n\r\n        // Get the block type that should be created\r\n        const targetBlockType = new matchingBlockClass().type;\r\n        \r\n        // Don't convert if it's already the correct type\r\n        if (currentBlockType === targetBlockType) {\r\n            return false;\r\n        }\r\n\r\n        // Don't convert non-paragraph blocks (to avoid conflicts)\r\n        // Handle both 'p' (legacy/HTML) and 'paragraph' (current) formats\r\n        if (currentBlockType !== 'p' && currentBlockType !== 'paragraph') {\r\n            return false;\r\n        }\r\n\r\n        // Perform the conversion\r\n        return this.convertBlockType(blockElement, targetBlockType, textContent);\r\n    }\r\n\r\n    /**\r\n     * Convert a block from one type to another\r\n     * @param {HTMLElement} blockElement - The block element to convert\r\n     * @param {string} targetBlockType - The target block type\r\n     * @param {string} triggerText - The text that triggered the conversion\r\n     * @returns {boolean} - true if conversion was successful, false otherwise\r\n     */\r\n    convertBlockType(blockElement, targetBlockType, triggerText) \r\n    {\r\n        log('convertBlockType()', 'Editor.');\r\n        \r\n        try {\r\n            // Set flag to prevent input event handler interference\r\n            this.isConvertingBlock = true;\r\n            \r\n            // Create new block instance\r\n            const newBlock = BlockFactory.createBlock(targetBlockType);\r\n            \r\n            if (!newBlock) {\r\n                return false;\r\n            }\r\n\r\n            // Calculate remaining content after removing the trigger\r\n            const triggers = newBlock.constructor.getMarkdownTriggers();\r\n            let remainingContent = triggerText;\r\n            \r\n            // Find and remove the matching trigger\r\n            for (const trigger of triggers) {\r\n                if (triggerText.startsWith(trigger)) {\r\n                    remainingContent = triggerText.substring(trigger.length);\r\n                    break;\r\n                }\r\n            }\r\n\r\n            // Store the cursor position before applying transformation\r\n            const wasFocused = blockElement === this.currentBlock;\r\n            \r\n            // Set the block content to just the remaining content (without trigger)\r\n            // so that applyTransformation can read the correct content\r\n            blockElement.textContent = remainingContent.trim();\r\n            \r\n            // Apply the transformation (this will call the appropriate Toolbar method)\r\n            newBlock.applyTransformation();\r\n            \r\n            // Position cursor appropriately after transformation\r\n            if (wasFocused) {\r\n                requestAnimationFrame(() => {\r\n                    const editableElement = this.findEditableElementInBlock(blockElement);\r\n                    if (editableElement) {\r\n                        editableElement.focus();\r\n                        // If there's content, place cursor at the end\r\n                        if (remainingContent.trim()) {\r\n                            this.placeCursorAtEnd(editableElement);\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n            \r\n            // Emit block conversion event\r\n            this.eventEmitter.emit(EVENTS.BLOCK_CONVERTED, {\r\n                blockId: blockElement.getAttribute('data-block-id') || blockElement.id,\r\n                fromType: blockElement.getAttribute('data-block-type'),\r\n                toType: targetBlockType,\r\n                triggerText: triggerText,\r\n                remainingContent: remainingContent,\r\n                timestamp: Date.now()\r\n            });\r\n            \r\n            return true;\r\n            \r\n        } catch (error) {\r\n            logWarning('Error converting block type: ' + error.message, 'Editor.convertBlockType()');\r\n            return false;\r\n        } finally {\r\n            // Always clear the conversion flag\r\n            this.isConvertingBlock = false;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Find the editable element within a block (for lists, this might be an <li>, for others the block itself)\r\n     * @param {HTMLElement} blockElement - The block element to search in\r\n     * @returns {HTMLElement|null} - The editable element or null if not found\r\n     */\r\n    findEditableElementInBlock(blockElement)\r\n    {\r\n        log('findEditableElementInBlock()', 'Editor.');\r\n\r\n        // 1) For list blocks, prefer the first list item (or its editable child)\r\n        const firstListItem = blockElement.querySelector('li');\r\n        if (firstListItem) {\r\n            const editableInLi = firstListItem.querySelector('[contenteditable=\"true\"]');\r\n            return editableInLi || firstListItem;\r\n        }\r\n\r\n        // 2) Prefer any explicitly editable descendant (e.g., <h1 contenteditable=\"true\">)</n+        const editableChild = blockElement.querySelector('[contenteditable=\"true\"]');\r\n        if (editableChild) {\r\n            return editableChild;\r\n        }\r\n\r\n        // 3) If the block itself is contenteditable, use it\r\n        // Use isContentEditable or explicit attribute check for 'true'\r\n        if (blockElement.isContentEditable || blockElement.getAttribute('contenteditable') === 'true') {\r\n            return blockElement;\r\n        }\r\n\r\n        // 4) Fallback to the block itself\r\n        return blockElement;\r\n    }\r\n\r\n    /**\r\n     * Place cursor at the end of the given element\r\n     * @param {HTMLElement} element - The element to place cursor in\r\n     */\r\n    placeCursorAtEnd(element)\r\n    {\r\n        log('placeCursorAtEnd()', 'Editor.');\r\n\r\n        if (!element) {\r\n            return;\r\n        }\r\n\r\n        try {\r\n            const selection = window.getSelection();\r\n            const range = document.createRange();\r\n            \r\n            // If element has text content, place cursor at the end\r\n            if (element.childNodes.length > 0) {\r\n                const lastChild = element.childNodes[element.childNodes.length - 1];\r\n                if (lastChild.nodeType === Node.TEXT_NODE) {\r\n                    range.setStart(lastChild, lastChild.textContent.length);\r\n                } else {\r\n                    range.setStart(element, element.childNodes.length);\r\n                }\r\n            } else {\r\n                range.setStart(element, 0);\r\n            }\r\n            \r\n            range.collapse(true);\r\n            selection.removeAllRanges();\r\n            selection.addRange(range);\r\n        } catch (error) {\r\n            // Silently fail for cursor positioning\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Convert current block to target type or create new block if conversion is not possible\r\n     * @param {string} targetBlockType - The target block type to convert to\r\n     * @param {Object} options - Optional parameters for block creation\r\n     * @returns {boolean} - true if conversion or creation was successful\r\n     */\r\n    convertCurrentBlockOrCreate(targetBlockType, options = {})\r\n    {\r\n        log('convertCurrentBlockOrCreate()', 'Editor.');\r\n        \r\n        console.log('convertCurrentBlockOrCreate called with:', targetBlockType);\r\n        \r\n        const currentBlock = this.currentBlock;\r\n        log('Current block:', currentBlock);\r\n\r\n        if (!currentBlock) {\r\n            // No current block, create a new one\r\n            console.log('No current block, calling createNewBlock');\r\n            return this.createNewBlock(targetBlockType, options);\r\n        }\r\n\r\n        const currentBlockType = currentBlock.getAttribute('data-block-type');\r\n        console.log('Current block type:', currentBlockType);\r\n        \r\n        // If current block is a paragraph with content, convert it\r\n        if (currentBlockType === BlockType.PARAGRAPH) {\r\n            // Get current content\r\n            const textContent = currentBlock.textContent || '';\r\n            \r\n            // For conversion, we simulate a trigger that matches the target type\r\n            const triggerText = this.generateTriggerForBlockType(targetBlockType, textContent);\r\n            \r\n            // Use existing conversion logic\r\n            return this.convertBlockType(currentBlock, targetBlockType, triggerText);\r\n        }\r\n        \r\n        // For non-paragraph blocks or empty paragraphs, create a new block after current\r\n        console.log('Creating new block after current');\r\n        return this.createNewBlock(targetBlockType, options);\r\n    }\r\n\r\n    /**\r\n     * Generate appropriate trigger text for a given block type\r\n     * @param {string} blockType - The block type to generate trigger for\r\n     * @param {string} existingContent - Existing content to preserve\r\n     * @returns {string} - The trigger text with existing content\r\n     */\r\n    generateTriggerForBlockType(blockType, existingContent = '')\r\n    {\r\n        log('generateTriggerForBlockType()', 'Editor.');\r\n\r\n        const blockClass = BlockFactory.getBlockClass(blockType);\r\n        if (!blockClass || typeof blockClass.getMarkdownTriggers !== 'function') {\r\n            return existingContent;\r\n        }\r\n        \r\n        const triggers = blockClass.getMarkdownTriggers();\r\n        if (triggers.length === 0) {\r\n            return existingContent;\r\n        }\r\n        \r\n        // Use the first trigger and append existing content\r\n        return triggers[0] + existingContent;\r\n    }\r\n\r\n    /**\r\n     * Create a new block of the specified type\r\n     * @param {string} blockType - The type of block to create\r\n     * @param {Object} options - Optional parameters for block creation\r\n     * @returns {boolean} - true if creation was successful\r\n     */\r\n    createNewBlock(blockType, options = {})\r\n    {\r\n        log('createNewBlock()', 'Editor.');\r\n\r\n        try {\r\n            // Set flag to prevent input event handler from checking empty editor state\r\n            this.isCreatingBlock = true;\r\n            \r\n            // Ensure there's a current block context\r\n            if (!this.currentBlock) {\r\n                this.ensureDefaultBlock();\r\n            }\r\n            \r\n            // Create the block object\r\n            const newBlock = BlockFactory.createBlock(blockType);\r\n            if (!newBlock) {\r\n                return false;\r\n            }\r\n            \r\n            // Convert block to HTML element\r\n            const htmlBlock = Parser.html(newBlock);\r\n            if (!htmlBlock) {\r\n                return false;\r\n            }\r\n            \r\n            // Generate unique block ID\r\n            const blockId = 'block-' + Date.now() + '-' + Math.random().toString(36).substr(2, 9);\r\n            htmlBlock.setAttribute('data-block-id', blockId);\r\n            htmlBlock.setAttribute('data-timestamp', Date.now().toString());\r\n            \r\n            // Add the block to the DOM\r\n            const currentBlock = this.currentBlock;\r\n            if (!currentBlock) {\r\n                console.log('Appending to instance');\r\n                this.instance.appendChild(htmlBlock);\r\n            } else {\r\n                console.log('Adding after current block');\r\n                currentBlock.after(htmlBlock);\r\n            }\r\n            \r\n            // Update current block reference\r\n            this.setCurrentBlock(htmlBlock);\r\n            \r\n            // For list blocks, focus on the first list item\r\n            if (blockType === 'ul' || blockType === 'ol') {\r\n                const listItem = htmlBlock.querySelector('li');\r\n                if (listItem) {\r\n                    listItem.focus();\r\n                }\r\n            }\r\n            \r\n            // Emit block creation event\r\n            this.eventEmitter.emit(EVENTS.BLOCK_CREATED, {\r\n                blockId: blockId,\r\n                blockType: blockType,\r\n                options: options,\r\n                position: Array.from(this.instance.querySelectorAll('.block')).indexOf(htmlBlock),\r\n                timestamp: Date.now()\r\n            }, { source: 'editor.create' });\r\n            \r\n            console.log('Block creation successful');\r\n            \r\n            // Clear the flag after a short delay to allow the new block to be processed\r\n            setTimeout(() => {\r\n                this.isCreatingBlock = false;\r\n            }, 100);\r\n            \r\n            return true;\r\n        } catch (error) {\r\n            console.error('Error in createNewBlock:', error);\r\n            logWarning('Error creating new block: ' + error.message, 'Editor.createNewBlock()');\r\n            \r\n            // Clear the flag even in error case\r\n            this.isCreatingBlock = false;\r\n            \r\n            return false;\r\n        }\r\n    }\r\n    \r\n    /**\r\n     * Destroy the editor instance and clean up resources\r\n     */\r\n    destroy() {\r\n        log('destroy()', 'Editor.');\r\n        \r\n        // Disable debug tooltips if enabled\r\n        if (this.debugTooltip) {\r\n            this.debugTooltip.disable();\r\n        }\r\n        \r\n        // Remove this instance from the registry\r\n        if (this.instance) {\r\n            Editor._instances.delete(this.instance);\r\n        }\r\n        \r\n        // Clear references\r\n        this.blocks = [];\r\n        this.currentBlock = null;\r\n        this.debugTooltip = null;\r\n        this.eventEmitter = null;\r\n    }\r\n}\r\n\r\n// Static property getters for backward compatibility\r\nObject.defineProperty(Editor, 'instance', {\r\n    get() {\r\n        const firstInstance = Editor._instances.keys().next().value;\r\n        return firstInstance || null;\r\n    },\r\n    set(value) {\r\n        if (value === null) {\r\n            Editor._instances.clear();\r\n        }\r\n    }\r\n});\r\n\r\nObject.defineProperty(Editor, 'currentBlock', {\r\n    get() {\r\n        const firstEditor = Editor._instances.values().next().value;\r\n        return firstEditor ? firstEditor.currentBlock : null;\r\n    },\r\n    set(value) {\r\n        const firstEditor = Editor._instances.values().next().value;\r\n        if (firstEditor) {\r\n            firstEditor.currentBlock = value;\r\n        }\r\n    }\r\n});\r\n\r\nObject.defineProperty(Editor, 'keybuffer', {\r\n    get() {\r\n        const firstEditor = Editor._instances.values().next().value;\r\n        return firstEditor ? firstEditor.keybuffer : [];\r\n    },\r\n    set(value) {\r\n        const firstEditor = Editor._instances.values().next().value;\r\n        if (firstEditor) {\r\n            firstEditor.keybuffer = value;\r\n        }\r\n    }\r\n});\r\n\r\nObject.defineProperty(Editor, 'blocks', {\r\n    get() {\r\n        const firstEditor = Editor._instances.values().next().value;\r\n        return firstEditor ? firstEditor.blocks : (Editor._fallbackBlocks || []);\r\n    },\r\n    set(value) {\r\n        const firstEditor = Editor._instances.values().next().value;\r\n        if (firstEditor) {\r\n            firstEditor.blocks = value;\r\n        } else {\r\n            Editor._fallbackBlocks = value;\r\n        }\r\n    }\r\n});\r\n\r\n/**\r\n * @deprecated Use editor instance methods instead\r\n * Static method for backward compatibility - delegates to first editor instance\r\n */\r\nEditor.addDefaultBlock = function() {\r\n    const firstEditor = Editor._instances.values().next().value;\r\n    return firstEditor ? firstEditor.addDefaultBlock() : undefined;\r\n};\r\n\r\n/**\r\n * @deprecated Use editor instance methods instead  \r\n * Static method for backward compatibility - delegates to first editor instance\r\n */\r\nEditor.setCurrentBlock = function(block) {\r\n    const firstEditor = Editor._instances.values().next().value;\r\n    if (firstEditor) {\r\n        firstEditor.setCurrentBlock(block);\r\n    }\r\n};\r\n\r\n/**\r\n * @deprecated Use editor instance methods instead\r\n * Static method for backward compatibility - delegates to first editor instance  \r\n */\r\nEditor.update = function() {\r\n    const firstEditor = Editor._instances.values().next().value;\r\n    if (firstEditor) {\r\n        firstEditor.update();\r\n    }\r\n};\r\n\r\n/**\r\n * @deprecated Use editor instance methods instead\r\n * Static method for backward compatibility - delegates to first editor instance\r\n */\r\nEditor.getMarkdown = function() {\r\n    const firstEditor = Editor._instances.values().next().value;\r\n    return firstEditor ? firstEditor.getMarkdown() : '';\r\n};\r\n\r\n/**\r\n * @deprecated Use editor instance methods instead  \r\n * Static method for backward compatibility - delegates to first editor instance\r\n */\r\nEditor.getHtml = function() {\r\n    const firstEditor = Editor._instances.values().next().value;\r\n    return firstEditor ? firstEditor.getHtml() : '';\r\n};","\n    import './src/css/editor.css';\n    import './src/css/prism-theme.css';\n    import '@popperjs/core';\n    import 'bootstrap';\n    import 'bootstrap/dist/css/bootstrap.min.css';\n    import '@fortawesome/fontawesome-free/css/all.min.css';\n    import { Editor } from './src/Editor.js';\n    import { EVENTS } from './src/utils/eventEmitter.js';\n\n    // Toolbar config for dynamic generation\n    const toolbarConfig = [\n        {\n            group: [\n                { class: 'editor-toolbar-undo', icon: 'fa-undo', title: ' ' },\n                { class: 'editor-toolbar-redo', icon: 'fa-redo', title: ' ' }\n            ]\n        },\n        {\n            group: [\n                { class: 'editor-toolbar-header1', label: ' 1' },\n                { class: 'editor-toolbar-header2', label: ' 2' },\n                { class: 'editor-toolbar-header3', label: ' 3' },\n                { class: 'editor-toolbar-header4', label: ' 4' },\n                { class: 'editor-toolbar-header5', label: ' 5' },\n                { class: 'editor-toolbar-header6', label: ' 6' },\n                { class: 'editor-toolbar-paragraph', label: ' ' }\n            ],\n            dropdown: true,\n            icon: 'fa-heading',\n            id: 'dropdownMenuHeader'\n        },\n        {\n            group: [\n                { class: 'editor-toolbar-bold', icon: 'fa-bold', title: ' ' },\n                { class: 'editor-toolbar-italic', icon: 'fa-italic', title: '' },\n                { class: 'editor-toolbar-underline', icon: 'fa-underline', title: '' },\n                { class: 'editor-toolbar-strikethrough', icon: 'fa-strikethrough', title: '' }\n            ]\n        },\n        {\n            group: [\n                { class: 'editor-toolbar-ul', icon: 'fa-list', title: ' ' },\n                { class: 'editor-toolbar-ol', icon: 'fa-list-ol', title: '  ' },\n                { class: 'editor-toolbar-sq', icon: 'fa-list-check', title: '   ' }\n            ]\n        },\n        {\n            group: [\n                { class: 'editor-toolbar-table', icon: 'fa-table', title: ' ' },\n                { class: 'editor-toolbar-image', icon: 'fa-image', title: ' ' }\n            ]\n        },\n        {\n            group: [\n                { class: 'editor-toolbar-code', icon: 'fa-code', title: '   ' }\n            ]\n        },\n        {\n            group: [\n                { class: 'editor-toolbar-text', icon: 'fa-paragraph', title: '  ', disabled: true },\n                { class: 'editor-toolbar-markdown', icon: 'fa-brands fa-markdown', title: ' markdown' },\n                { class: 'editor-toolbar-html', icon: 'fa-brands fa-html5', title: ' html' }\n            ]\n        }\n    ];\n\n    //Toolbar.createToolbar(document.querySelector('.editor-container'), toolbarConfig);\n    const editor = new Editor(\n        {\n            id: 'editor',\n            container: document.querySelector('.editor-container'),\n            debug: true, // Enable debug mode\n            toolbar: {\n                container: document.querySelector('.editor-container'),\n                config: toolbarConfig\n            },\n            // initial markdown content\n            text: `# JS Editor\n\n## Paragraph Block\n\n** **  **  ~~~~.\n\n## Code Block\n\n\\`\\`\\`javascript\nconsole.log('Hello, world!');\n\\`\\`\\`\n\n## Lists\n\n### Unordered List\n-   \n-   \n-   \n\n### Ordered List\n1.    \n2.  \n3.  \n\n### Task List\n- [ ]   \n- [x]  \n- [ ]   \n\n## Table Block\n|  1 |  2 |  3 |\n|-------------|-------------|-------------|\n|  1    |  2    |  3    |\n|  A    |  B    |  C    |\n\n## Blockquote block\n\n>  .\n\n## Inline Code\n\n \\`\\` \n\n## URL Links\n\n[  ](https://www.yandex.ru)\n[  Google](https://www.google.com)\n\n## Image Block\n\n![ ](./tests/test-image.svg)\n\n## Paragraph Block\n\n      .    ** **, **, ~~~~     ,  [](https://www.yandex.ru)  [Google](https://www.google.com).\n`\n        }\n    );\n\n    /*editor.on(EVENTS.CONTENT_CHANGED, (event) => {\n        console.log(editor.getMarkdown());\n    }, { debounce: 500 });*/\n\n"],"names":["top","bottom","right","left","auto","basePlacements","start","end","clippingParents","viewport","popper","reference","variationPlacements","acc","placement","placements","beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite","modifierPhases","getNodeName","element","getWindow","node","ownerDocument","isElement","OwnElement","isHTMLElement","isShadowRoot","applyStyles","_ref","state","name","style","attributes","value","effect","_ref2","initialStyles","styleProperties","property","attribute","applyStyles$1","getBasePlacement","max","min","round","getUAString","uaData","item","isLayoutViewport","getBoundingClientRect","includeScale","isFixedStrategy","clientRect","scaleX","scaleY","visualViewport","addVisualOffsets","x","y","width","height","getLayoutRect","contains","parent","child","rootNode","next","getComputedStyle","isTableElement","getDocumentElement","getParentNode","getTrueOffsetParent","getContainingBlock","isFirefox","isIE","elementCss","currentNode","css","getOffsetParent","window","offsetParent","getMainAxisFromPlacement","within","mathMax","mathMin","withinMaxClamp","v","getFreshSideObject","mergePaddingObject","paddingObject","expandToHashMap","keys","hashMap","key","toPaddingObject","padding","arrow","_state$modifiersData$","options","arrowElement","popperOffsets","basePlacement","axis","isVertical","len","arrowRect","minProp","maxProp","endDiff","startDiff","arrowOffsetParent","clientSize","centerToReference","center","offset","axisProp","_options$element","arrow$1","getVariation","unsetSides","roundOffsetsByDPR","win","dpr","mapToStyles","_Object$assign2","popperRect","variation","offsets","position","gpuAcceleration","adaptive","roundOffsets","isFixed","_offsets$x","_offsets$y","_ref3","hasX","hasY","sideX","sideY","heightProp","widthProp","offsetY","offsetX","commonStyles","_ref4","_Object$assign","computeStyles","_ref5","_options$gpuAccelerat","_options$adaptive","_options$roundOffsets","computeStyles$1","passive","instance","_options$scroll","scroll","_options$resize","resize","scrollParents","scrollParent","eventListeners","hash","getOppositePlacement","matched","getOppositeVariationPlacement","getWindowScroll","scrollLeft","scrollTop","getWindowScrollBarX","getViewportRect","strategy","html","layoutViewport","getDocumentRect","_element$ownerDocumen","winScroll","body","isScrollParent","_getComputedStyle","overflow","overflowX","overflowY","getScrollParent","listScrollParents","list","isBody","target","updatedList","rectToClientRect","rect","getInnerBoundingClientRect","getClientRectFromMixedType","clippingParent","getClippingParents","canEscapeClipping","clipperElement","getClippingRect","boundary","rootBoundary","mainClippingParents","firstClippingParent","clippingRect","accRect","computeOffsets","commonX","commonY","mainAxis","detectOverflow","_options","_options$placement","_options$strategy","_options$boundary","_options$rootBoundary","_options$elementConte","elementContext","_options$altBoundary","altBoundary","_options$padding","altContext","clippingClientRect","referenceClientRect","popperClientRect","elementClientRect","overflowOffsets","offsetData","multiply","computeAutoPlacement","flipVariations","_options$allowedAutoP","allowedAutoPlacements","allPlacements","allowedPlacements","overflows","a","b","getExpandedFallbackPlacements","oppositePlacement","flip","_options$mainAxis","checkMainAxis","_options$altAxis","checkAltAxis","specifiedFallbackPlacements","_options$flipVariatio","preferredPlacement","isBasePlacement","fallbackPlacements","referenceRect","checksMap","makeFallbackChecks","firstFittingPlacement","i","_basePlacement","isStartVariation","mainVariationSide","altVariationSide","checks","check","numberOfChecks","_loop","_i","fittingPlacement","_ret","flip$1","getSideOffsets","preventedOffsets","isAnySideFullyClipped","side","hide","referenceOverflow","popperAltOverflow","referenceClippingOffsets","popperEscapeOffsets","isReferenceHidden","hasPopperEscaped","hide$1","distanceAndSkiddingToXY","rects","invertDistance","skidding","distance","_options$offset","data","_data$state$placement","offset$1","popperOffsets$1","getAltAxis","preventOverflow","_options$tether","tether","_options$tetherOffset","tetherOffset","altAxis","tetherOffsetValue","normalizedTetherOffsetValue","offsetModifierState","_offsetModifierState$","mainSide","altSide","additive","minLen","maxLen","arrowPaddingObject","arrowPaddingMin","arrowPaddingMax","arrowLen","minOffset","maxOffset","clientOffset","offsetModifierValue","tetherMin","tetherMax","preventedOffset","_offsetModifierState$2","_mainSide","_altSide","_offset","_len","_min","_max","isOriginSide","_offsetModifierValue","_tetherMin","_tetherMax","_preventedOffset","preventOverflow$1","getHTMLElementScroll","getNodeScroll","isElementScaled","getCompositeRect","elementOrVirtualElement","isOffsetParentAnElement","offsetParentIsScaled","documentElement","order","modifiers","map","visited","result","modifier","sort","requires","dep","depModifier","orderModifiers","orderedModifiers","phase","debounce","fn","pending","resolve","mergeByName","merged","current","existing","DEFAULT_OPTIONS","areValidElements","args","_key","popperGenerator","generatorOptions","_generatorOptions","_generatorOptions$def","defaultModifiers","_generatorOptions$def2","defaultOptions","effectCleanupFns","isDestroyed","setOptionsAction","cleanupModifierEffects","m","runModifierEffects","_state$elements","index","_state$orderedModifie","_state$orderedModifie2","_ref$options","cleanupFn","noopFn","createPopper","elementMap","Data","instanceMap","MAX_UID","MILLISECONDS_MULTIPLIER","TRANSITION_END","parseSelector","selector","match","id","toType","object","getUID","prefix","getTransitionDurationFromElement","transitionDuration","transitionDelay","floatTransitionDuration","floatTransitionDelay","triggerTransitionEnd","getElement","isVisible","elementIsVisible","closedDetails","summary","isDisabled","findShadowRoot","root","noop","reflow","getjQuery","DOMContentLoadedCallbacks","onDOMContentLoaded","callback","isRTL","defineJQueryPlugin","plugin","$","JQUERY_NO_CONFLICT","execute","possibleCallback","defaultValue","executeAfterTransition","transitionElement","waitForTransition","emulatedDuration","called","handler","getNextActiveElement","activeElement","shouldGetNext","isCycleAllowed","listLength","namespaceRegex","stripNameRegex","stripUidRegex","eventRegistry","uidEvent","customEvents","nativeEvents","makeEventUid","uid","getElementEvents","bootstrapHandler","event","hydrateObj","EventHandler","bootstrapDelegationHandler","domElements","domElement","findHandler","events","callable","delegationSelector","normalizeParameters","originalTypeEvent","delegationFunction","isDelegated","typeEvent","getTypeEvent","addHandler","oneOff","handlers","previousFunction","removeHandler","removeNamespacedHandlers","namespace","storeElementEvent","handlerKey","inNamespace","isNamespace","elementEvent","keyHandlers","jQueryEvent","bubbles","nativeDispatch","defaultPrevented","evt","obj","meta","normalizeData","normalizeDataKey","chr","Manipulator","bsKeys","pureKey","Config","config","jsonConfig","configTypes","expectedTypes","valueType","VERSION","BaseComponent","propertyName","isAnimated","getSelector","hrefAttribute","sel","SelectorEngine","parents","ancestor","previous","focusables","el","enableDismissTrigger","component","method","clickEvent","NAME$f","DATA_KEY$a","EVENT_KEY$b","EVENT_CLOSE","EVENT_CLOSED","CLASS_NAME_FADE$5","CLASS_NAME_SHOW$8","Alert","NAME$e","DATA_KEY$9","EVENT_KEY$a","DATA_API_KEY$6","CLASS_NAME_ACTIVE$3","SELECTOR_DATA_TOGGLE$5","EVENT_CLICK_DATA_API$6","Button","button","NAME$d","EVENT_KEY$9","EVENT_TOUCHSTART","EVENT_TOUCHMOVE","EVENT_TOUCHEND","EVENT_POINTERDOWN","EVENT_POINTERUP","POINTER_TYPE_TOUCH","POINTER_TYPE_PEN","CLASS_NAME_POINTER_EVENT","SWIPE_THRESHOLD","Default$c","DefaultType$c","Swipe","absDeltaX","direction","NAME$c","DATA_KEY$8","EVENT_KEY$8","DATA_API_KEY$5","ARROW_LEFT_KEY$1","ARROW_RIGHT_KEY$1","TOUCHEVENT_COMPAT_WAIT","ORDER_NEXT","ORDER_PREV","DIRECTION_LEFT","DIRECTION_RIGHT","EVENT_SLIDE","EVENT_SLID","EVENT_KEYDOWN$1","EVENT_MOUSEENTER$1","EVENT_MOUSELEAVE$1","EVENT_DRAG_START","EVENT_LOAD_DATA_API$3","EVENT_CLICK_DATA_API$5","CLASS_NAME_CAROUSEL","CLASS_NAME_ACTIVE$2","CLASS_NAME_SLIDE","CLASS_NAME_END","CLASS_NAME_START","CLASS_NAME_NEXT","CLASS_NAME_PREV","SELECTOR_ACTIVE","SELECTOR_ITEM","SELECTOR_ACTIVE_ITEM","SELECTOR_ITEM_IMG","SELECTOR_INDICATORS","SELECTOR_DATA_SLIDE","SELECTOR_DATA_RIDE","KEY_TO_DIRECTION","Default$b","DefaultType$b","Carousel","items","activeIndex","img","swipeConfig","activeIndicator","newActiveIndicator","elementInterval","isNext","nextElement","nextElementIndex","triggerEvent","eventName","isCycling","directionalClassName","orderClassName","completeCallBack","carousel","slideIndex","carousels","NAME$b","DATA_KEY$7","EVENT_KEY$7","DATA_API_KEY$4","EVENT_SHOW$6","EVENT_SHOWN$6","EVENT_HIDE$6","EVENT_HIDDEN$6","EVENT_CLICK_DATA_API$4","CLASS_NAME_SHOW$7","CLASS_NAME_COLLAPSE","CLASS_NAME_COLLAPSING","CLASS_NAME_COLLAPSED","CLASS_NAME_DEEPER_CHILDREN","CLASS_NAME_HORIZONTAL","WIDTH","HEIGHT","SELECTOR_ACTIVES","SELECTOR_DATA_TOGGLE$4","Default$a","DefaultType$a","Collapse","toggleList","elem","filterElement","foundElement","activeChildren","activeInstance","dimension","complete","scrollSize","trigger","children","selected","triggerArray","isOpen","_config","NAME$a","DATA_KEY$6","EVENT_KEY$6","DATA_API_KEY$3","ESCAPE_KEY$2","TAB_KEY$1","ARROW_UP_KEY$1","ARROW_DOWN_KEY$1","RIGHT_MOUSE_BUTTON","EVENT_HIDE$5","EVENT_HIDDEN$5","EVENT_SHOW$5","EVENT_SHOWN$5","EVENT_CLICK_DATA_API$3","EVENT_KEYDOWN_DATA_API","EVENT_KEYUP_DATA_API","CLASS_NAME_SHOW$6","CLASS_NAME_DROPUP","CLASS_NAME_DROPEND","CLASS_NAME_DROPSTART","CLASS_NAME_DROPUP_CENTER","CLASS_NAME_DROPDOWN_CENTER","SELECTOR_DATA_TOGGLE$3","SELECTOR_DATA_TOGGLE_SHOWN","SELECTOR_MENU","SELECTOR_NAVBAR","SELECTOR_NAVBAR_NAV","SELECTOR_VISIBLE_ITEMS","PLACEMENT_TOP","PLACEMENT_TOPEND","PLACEMENT_BOTTOM","PLACEMENT_BOTTOMEND","PLACEMENT_RIGHT","PLACEMENT_LEFT","PLACEMENT_TOPCENTER","PLACEMENT_BOTTOMCENTER","Default$9","DefaultType$9","Dropdown","relatedTarget","Popper","referenceElement","popperConfig","Popper.createPopper","parentDropdown","isEnd","popperData","defaultBsPopperConfig","openToggles","toggle","context","composedPath","isMenuTarget","isInput","isEscapeEvent","isUpOrDownEvent","getToggleButton","NAME$9","CLASS_NAME_FADE$4","CLASS_NAME_SHOW$5","EVENT_MOUSEDOWN","Default$8","DefaultType$8","Backdrop","backdrop","NAME$8","DATA_KEY$5","EVENT_KEY$5","EVENT_FOCUSIN$2","EVENT_KEYDOWN_TAB","TAB_KEY","TAB_NAV_FORWARD","TAB_NAV_BACKWARD","Default$7","DefaultType$7","FocusTrap","trapElement","elements","SELECTOR_FIXED_CONTENT","SELECTOR_STICKY_CONTENT","PROPERTY_PADDING","PROPERTY_MARGIN","ScrollBarHelper","documentWidth","calculatedValue","styleProperty","scrollbarWidth","manipulationCallBack","actualValue","callBack","NAME$7","DATA_KEY$4","EVENT_KEY$4","DATA_API_KEY$2","ESCAPE_KEY$1","EVENT_HIDE$4","EVENT_HIDE_PREVENTED$1","EVENT_HIDDEN$4","EVENT_SHOW$4","EVENT_SHOWN$4","EVENT_RESIZE$1","EVENT_CLICK_DISMISS","EVENT_MOUSEDOWN_DISMISS","EVENT_KEYDOWN_DISMISS$1","EVENT_CLICK_DATA_API$2","CLASS_NAME_OPEN","CLASS_NAME_FADE$3","CLASS_NAME_SHOW$4","CLASS_NAME_STATIC","OPEN_SELECTOR$1","SELECTOR_DIALOG","SELECTOR_MODAL_BODY","SELECTOR_DATA_TOGGLE$2","Default$6","DefaultType$6","Modal","modalBody","transitionComplete","event2","isModalOverflowing","initialOverflowY","isBodyOverflowing","showEvent","alreadyOpen","NAME$6","DATA_KEY$3","EVENT_KEY$3","DATA_API_KEY$1","EVENT_LOAD_DATA_API$2","ESCAPE_KEY","CLASS_NAME_SHOW$3","CLASS_NAME_SHOWING$1","CLASS_NAME_HIDING","CLASS_NAME_BACKDROP","OPEN_SELECTOR","EVENT_SHOW$3","EVENT_SHOWN$3","EVENT_HIDE$3","EVENT_HIDE_PREVENTED","EVENT_HIDDEN$3","EVENT_RESIZE","EVENT_CLICK_DATA_API$1","EVENT_KEYDOWN_DISMISS","SELECTOR_DATA_TOGGLE$1","Default$5","DefaultType$5","Offcanvas","completeCallback","clickCallback","ARIA_ATTRIBUTE_PATTERN","DefaultAllowlist","uriAttributes","SAFE_URL_PATTERN","allowedAttribute","allowedAttributeList","attributeName","attributeRegex","regex","sanitizeHtml","unsafeHtml","allowList","sanitizeFunction","createdDocument","elementName","attributeList","allowedAttributes","NAME$5","Default$4","DefaultType$4","DefaultContentType","TemplateFactory","content","templateWrapper","text","template","extraClass","arg","templateElement","NAME$4","DISALLOWED_ATTRIBUTES","CLASS_NAME_FADE$2","CLASS_NAME_MODAL","CLASS_NAME_SHOW$2","SELECTOR_TOOLTIP_INNER","SELECTOR_MODAL","EVENT_MODAL_HIDE","TRIGGER_HOVER","TRIGGER_FOCUS","TRIGGER_CLICK","TRIGGER_MANUAL","EVENT_HIDE$2","EVENT_HIDDEN$2","EVENT_SHOW$2","EVENT_SHOWN$2","EVENT_INSERTED","EVENT_CLICK$1","EVENT_FOCUSIN$1","EVENT_FOCUSOUT$1","EVENT_MOUSEENTER","EVENT_MOUSELEAVE","AttachmentMap","Default$3","DefaultType$3","Tooltip","isInTheDom","tip","container","tipId","attachment","triggers","eventIn","eventOut","title","timeout","dataAttributes","dataAttribute","NAME$3","SELECTOR_TITLE","SELECTOR_CONTENT","Default$2","DefaultType$2","Popover","NAME$2","DATA_KEY$2","EVENT_KEY$2","DATA_API_KEY","EVENT_ACTIVATE","EVENT_CLICK","EVENT_LOAD_DATA_API$1","CLASS_NAME_DROPDOWN_ITEM","CLASS_NAME_ACTIVE$1","SELECTOR_DATA_SPY","SELECTOR_TARGET_LINKS","SELECTOR_NAV_LIST_GROUP","SELECTOR_NAV_LINKS","SELECTOR_NAV_ITEMS","SELECTOR_LIST_ITEMS","SELECTOR_LINK_ITEMS","SELECTOR_DROPDOWN","SELECTOR_DROPDOWN_TOGGLE$1","Default$1","DefaultType$1","ScrollSpy","section","observableSection","entries","targetElement","entry","activate","parentScrollTop","userScrollsDown","entryIsLowerThanPrevious","targetLinks","anchor","listGroup","activeNodes","spy","NAME$1","DATA_KEY$1","EVENT_KEY$1","EVENT_HIDE$1","EVENT_HIDDEN$1","EVENT_SHOW$1","EVENT_SHOWN$1","EVENT_CLICK_DATA_API","EVENT_KEYDOWN","EVENT_LOAD_DATA_API","ARROW_LEFT_KEY","ARROW_RIGHT_KEY","ARROW_UP_KEY","ARROW_DOWN_KEY","HOME_KEY","END_KEY","CLASS_NAME_ACTIVE","CLASS_NAME_FADE$1","CLASS_NAME_SHOW$1","CLASS_DROPDOWN","SELECTOR_DROPDOWN_TOGGLE","SELECTOR_DROPDOWN_MENU","NOT_SELECTOR_DROPDOWN_TOGGLE","SELECTOR_TAB_PANEL","SELECTOR_OUTER","SELECTOR_INNER","SELECTOR_DATA_TOGGLE","SELECTOR_INNER_ELEM","SELECTOR_DATA_TOGGLE_ACTIVE","Tab","innerElem","active","hideEvent","relatedElem","nextActiveElement","isActive","outerElem","open","className","NAME","DATA_KEY","EVENT_KEY","EVENT_MOUSEOVER","EVENT_MOUSEOUT","EVENT_FOCUSIN","EVENT_FOCUSOUT","EVENT_HIDE","EVENT_HIDDEN","EVENT_SHOW","EVENT_SHOWN","CLASS_NAME_FADE","CLASS_NAME_HIDE","CLASS_NAME_SHOW","CLASS_NAME_SHOWING","DefaultType","Default","Toast","isInteracting","EVENTS","EditorEventEmitter","eventType","wrappedCallback","listeners","eventData","delay","timeoutId","now","lastCall","listener","error","_a","validListeners","eventEmitter","ToolbarHandlers","actionName","actionFunction","e","btn","Toolbar","listenerInfo","_BlockType","tag","type","__publicField","BlockType","BaseBlock","nested","blockElement","range","textLength","preRange","htmlString","markdownString","ParagraphBlock","line","HeadingBlock","level","currentBlock","Editor","existingContent","headingElement","selection","H1Block","H2Block","H3Block","H4Block","H5Block","H6Block","ListBlock","currentListItem","listContainer","allItems","isLastItem","UnorderedListBlock","ulElement","newListItem","editorInstance","li","ul","OrderedListBlock","olElement","ol","TaskListBlock","checkbox","targetListItem","textContainer","_b","existingText","tasks","task","isChecked","checked","listItem","taskText","taskItems","checkboxMatch","textContent","taskBlock","firstTask","_self","Prism","lang","uniqueId","plainTextGrammar","_","encode","tokens","Token","o","deepClone","clone","language","err","src","scripts","defaultActivation","no","classList","redef","inside","before","insert","grammar","ret","token","newToken","old","DFS","objId","propertyType","async","env","code","insertHighlightedCode","highlightedCode","worker","rest","tokenList","LinkedList","addAfter","matchGrammar","toArray","hooks","callbacks","alias","matchedStr","stringify","s","aliases","matchPattern","pattern","pos","lookbehind","lookbehindLength","startNode","startPos","rematch","patterns","j","patternObj","greedy","flags","str","removeCount","from","to","p","k","matchStr","after","reach","removeFrom","removeRange","wrapped","nestedRematch","head","tail","newNode","count","array","message","immediateClose","script","highlightAutomaticallyCallback","readyState","module","global","tagName","includedCdataInside","def","attrName","string","markup","LOADING_MESSAGE","FAILURE_MESSAGE","status","FAILURE_EMPTY_MESSAGE","EXTENSIONS","STATUS_ATTR","STATUS_LOADING","STATUS_LOADED","STATUS_FAILED","SELECTOR","loadFile","success","xhr","parseRange","comma","pre","extension","autoloader","lines","logged","getPlaceholder","placeholderPattern","replaceFilter","tokenStack","placeholder","walkTokens","t","middle","replacement","typeInside","keywords","classNamePrefix","replace","replacements","re","depthLog2","keywordKinds","keywordsToPattern","words","typeDeclarationKeywords","nonTypeKeywords","nonContextualKeywords","generic","nestedRound","genericName","identifier","typeExpressionWithoutTuple","tupleElement","tuple","typeExpression","character","regularString","verbatimString","regularStringOrCharacter","regularStringCharacterOrComment","roundExpression","attrTarget","attr","formatString","mInterpolationRound","mInterpolation","sInterpolationRound","sInterpolation","createInterpolationInside","interpolation","interpolationRound","comment","constant","number","operator","punctuation","string_interpolation","phpPattern","envVars","commandAfterHeredoc","insideString","toBeCopied","SyntaxHighlighter","normalizedLang","div","CodeBlock","highlighted","languageSelector","select","defaultOption","option","codeAttributes","classMatch","classes","cls","preAttributes","QuoteBlock","DelimiterBlock","trimmed","TableBlock","cell","backwards","table","cells","currentCell","currentIndex","nextIndex","tbody","newRow","firstCell","tableBlock","headerCells","rows","row","header","controlsContainer","topLeftControl","rightControl","bottomControl","control","triggerElement","menu","divider","menuItem","headerRow","bodyRows","newHeader","columnCount","newCell","lastHeader","lastCell","lastRow","markdown","headers","rowData","dataRows","ImageBlock","markdownMatch","imageFile","file","fileInput","reader","isResizing","startX","startWidth","startHeight","threshold","doResize","stopResize","newWidth","aspectRatio","newHeight","url","widthStyle","heightStyle","widthAttr","heightAttr","alt","imageBlock","BlockFactory","blockClasses","bestMatch","longestTrigger","blockClass","logTimers","log","label","bgColor","textColor","duration","date","hours","minutes","seconds","milliseconds","time","logWarning","debug","preElement","br","noteText","textMd","textHtml","btnText","btnMarkdown","btnHtml","debugBtn","toolbar","group","dropdown","debugGroup","debugButton","getDefaultOpts","simple","opt","allOptionsOn","showdown","parsers","extensions","globalOptions","setFlavor","flavor","preset","func","ext","validExtension","validate","errMsg","baseMsg","ln","validateExtension","getType","prop","escapeCharactersCallback","wholeMatch","m1","charCodeToEscape","charsToEscape","afterBackslash","regexString","txt","rgxFindMatchPos","f","g","l","matchPos","results","repStr","finalStr","lng","bits","fromIndex","indexOf","mail","ch","r","targetLength","padString","msg","converterOptions","langExtensions","outputModifiers","setConvFlavor","metadata","_constructor","gOpt","_parseExtension","legacyExtensionLoading","validExt","listen","valid","rTrimInputText","rsp","rgx","evtName","globals","ei","nText","HTMLParser","doc","substitutePreCodeTags","clean","nodes","mdDoc","n","pres","presPH","c","matches","extensionName","ii","raw","format","writeAnchorTag","linkText","linkId","m5","m6","wm","st","escape","mentions","username","lnk","simpleURLRegex","simpleURLRegex2","delimUrlRegex","simpleMailRegex","delimMailRegex","replaceLink","leadingMagicChars","link","m2","m3","trailingPunctuation","trailingMagicChars","lnkTxt","append","lmc","tmc","replaceMail","href","bq","codeblock","nextChar","doctype","doctypeParsed","charset","leadingText","numSpaces","emojiRgx","emojiCode","tags","comments","delim","repFunc","blockText","blockTags","opTagPos","rgx1","patLeft","patRight","subTexts","newSubText1","hashHTMLSpan","repText","limit","num","headerLevelStart","setextRegexH1","setextRegexH2","spanGamut","hID","headerId","hLevel","hashBlock","matchFound","atxStyle","hText","span","inlineRegExp","crazyRegExp","base64RegExp","referenceRegExp","refShortcutRegExp","writeImageTagBase64","altText","writeImageTag","gUrls","gTitles","gDims","parseInside","lead","processListItems","listStr","trimTrailing","isParagraphed","m4","taskbtn","bulletStyle","otp","wm2","styleStartNumber","listType","res","parseConsecutiveLists","olRgx","ulRgx","counterRxg","parseCL","parseMetadataContents","wholematch","grafs","grafsOut","grafsOutIt","codeFlag","base64Regex","replaceFunc","blankLines","tableRgx","singeColTblRgx","parseStyles","sLine","parseHeaders","parseCells","subText","buildTable","tb","tblLgn","parseTable","rawTable","tableLines","rawHeaders","rawStyles","rawCells","styles","charCodeToReplace","childrenLength","innerTxt","headerLevel","headerMark","listItems","listItemsLenght","listNum","bullet","listItemTxt","childrenLenght","spansOnly","tableArray","headings","headContent","allign","cols","cellContent","cellSpacesCount","strLen","this","Block","blockInstance","newBlockInstance","Parser","blocks","blockElements","htmlBlock","block","selfClosingTags","currentPos","tagMatch","tagStart","closingTag","depth","searchPos","endPos","nextOpen","nextClose","blockHtml","BlockClass","processedMarkdown","cleanHtml","processed","indent","cleaned","liElements","typeClass","preCodeMatch","codeMatch","Utils","allow","commentsAndPhpTags","$0","$1","KeyHandler","innerHtml","blockType","ticksCounter","sliceKey","isAtEnd","previousBlock","nextBlock","DebugTooltip","editor","tooltip","existingTooltip","blockRect","tooltipWidth","gap","markdownContent","htmlContent","lastUpdatedStr","lastUpdatedDate","timeDisplay","_Editor","toolbarContainer","defaultToolbarConfig","toolbarConfig","toolbarOptions","editorContainer","currentElement","instances","allBlocks","firstBlock","htmlData","finalHtml","editorHtml","currentTimestamp","lastContent","clonedBlock","md","blockId","disabledButtons","buttonClass","markdownContainer","htmlContainer","currentBlockType","matchingBlockClass","targetBlockType","triggerText","newBlock","remainingContent","wasFocused","editableElement","firstListItem","lastChild","firstEditor"],"mappings":"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ACvB,aAAc,GACd,SAAU,wDACV,KAAM,SACP,EACD,WAAY,CACV,aAAc,GACd,SAAU,kCACV,KAAM,SACP,EACD,eAAgB,CACd,aAAc,GACd,SAAU,4JACV,KAAM,QACP,EACD,kBAAmB,CACjB,aAAc,GACd,SAAU,uKACV,KAAM,SACP,EACD,qBAAsB,CACpB,aAAc,GACd,SAAU,oIACV,KAAM,SACP,EACD,YAAa,CACX,aAAc,GACd,SAAU,0JACV,KAAM,SACP,EACD,iBAAkB,CAChB,aAAc,GACd,SAAU,gCACV,KAAM,SACP,EACD,mBAAoB,CAClB,aAAc,GACd,SAAU,sCACV,KAAM,SACP,EACD,mBAAoB,CAClB,aAAc,GACd,SAAU,iCACV,KAAM,SACP,EACD,mCAAoC,CAClC,aAAc,GACd,SAAU,sEACV,KAAM,SACP,EACD,0BAA2B,CACzB,aAAc,GACd,SAAU,mDACV,KAAM,SACP,EACD,wBAAyB,CACvB,aAAc,GACd,SAAU,+CACV,KAAM,SACP,EACD,cAAe,CACb,aAAc,GACd,SAAU,oCACV,KAAM,SACP,EACD,OAAQ,CACN,aAAc,GACd,SAAU,6BACV,KAAM,SACP,EACD,eAAgB,CACd,aAAc,GACd,SAAU,6BACV,KAAM,SACP,EACD,aAAc,CACZ,aAAc,GACd,SAAU,6CACV,KAAM,SACP,EACD,UAAW,CACT,aAAc,GACd,SAAU,mCACV,KAAM,SACP,EACD,kBAAmB,CACjB,aAAc,GACd,SAAU,kEACV,KAAM,SACP,EACD,oBAAqB,CACnB,aAAc,GACd,SAAU,kDACV,KAAM,SACP,EACD,qCAAsC,CACpC,aAAc,GACd,SAAU,oEACV,KAAM,SACP,EACD,iBAAkB,CAChB,aAAc,GACd,SAAU,gDACV,KAAM,SACP,EACD,8BAA+B,CAC7B,aAAc,GACd,SAAU,6EACV,KAAM,SACP,EACD,WAAY,CACV,aAAc,GACd,SAAU,2BACV,KAAM,SACP,EACD,eAAgB,CACd,aAAc,yBACd,SAAU,yFACV,KAAM,QACP,EACD,aAAc,CACZ,aAAc,GACd,SAAU,0IACV,KAAM,SACP,EACD,qBAAsB,CACpB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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,72,73,74,75,76,77,78,79,80,81,82,83,84,94]}