<!DOCTYPE html>
<html>
<head>
    <title>Toolbar Configuration Test</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet">
    <link href="./dist/style.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-4">
        <h1>Toolbar Configuration Test</h1>
        
        <div class="row">
            <div class="col-md-4">
                <h3>1. toolbar: true</h3>
                <div id="editor1" style="border: 1px solid #ccc; padding: 1rem; min-height: 150px;"></div>
            </div>
            <div class="col-md-4">
                <h3>2. toolbar: false</h3>
                <div id="editor2" style="border: 1px solid #ccc; padding: 1rem; min-height: 150px;"></div>
            </div>
            <div class="col-md-4">
                <h3>3. custom toolbar</h3>
                <div id="editor3" style="border: 1px solid #ccc; padding: 1rem; min-height: 150px;"></div>
            </div>
        </div>
        
        <div class="row mt-4">
            <div class="col-md-4">
                <h3>4. toolbar config object</h3>
                <div id="editor4" style="border: 1px solid #ccc; padding: 1rem; min-height: 150px;"></div>
            </div>
            <div class="col-md-4">
                <h3>5. undefined toolbar</h3>
                <div id="editor5" style="border: 1px solid #ccc; padding: 1rem; min-height: 150px;"></div>
            </div>
            <div class="col-md-4">
                <h3>Results</h3>
                <ul id="results"></ul>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.30.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/showdown/2.1.0/showdown.min.js"></script>

    <script type="module">
        import Editor from './dist/js-editor.es.js';
        
        const results = document.getElementById('results');
        
        function addResult(test, success, error = null) {
            const li = document.createElement('li');
            li.innerHTML = `<strong>${test}:</strong> ${success ? '✅ Success' : '❌ Failed' + (error ? ` - ${error}` : '')}`;
            li.className = success ? 'text-success' : 'text-danger';
            results.appendChild(li);
        }
        
        // Test 1: toolbar: true
        try {
            const editor1 = new Editor({
                id: 'editor1',
                toolbar: true,
                markdown: '# Test 1\ntoolbar: true'
            });
            addResult('toolbar: true', true);
        } catch (e) {
            addResult('toolbar: true', false, e.message);
        }
        
        // Test 2: toolbar: false
        try {
            const editor2 = new Editor({
                id: 'editor2',
                toolbar: false,
                markdown: '# Test 2\ntoolbar: false'
            });
            addResult('toolbar: false', true);
        } catch (e) {
            addResult('toolbar: false', false, e.message);
        }
        
        // Test 3: custom toolbar array
        try {
            const editor3 = new Editor({
                id: 'editor3',
                toolbar: [
                    {
                        group: [
                            { class: 'editor-toolbar-bold', icon: 'fa-bold', title: 'Bold' },
                            { class: 'editor-toolbar-italic', icon: 'fa-italic', title: 'Italic' }
                        ]
                    }
                ],
                markdown: '# Test 3\ncustom toolbar array'
            });
            addResult('custom toolbar array', true);
        } catch (e) {
            addResult('custom toolbar array', false, e.message);
        }
        
        // Test 4: toolbar config object
        try {
            const editor4 = new Editor({
                id: 'editor4',
                toolbar: {
                    config: [
                        {
                            group: [
                                { class: 'editor-toolbar-ul', icon: 'fa-list', title: 'List' }
                            ]
                        }
                    ]
                },
                markdown: '# Test 4\ntoolbar config object'
            });
            addResult('toolbar config object', true);
        } catch (e) {
            addResult('toolbar config object', false, e.message);
        }
        
        // Test 5: undefined toolbar (should default)
        try {
            const editor5 = new Editor({
                id: 'editor5',
                markdown: '# Test 5\nundefined toolbar'
            });
            addResult('undefined toolbar (default)', true);
        } catch (e) {
            addResult('undefined toolbar (default)', false, e.message);
        }
        
        console.log('All tests completed');
    </script>
</body>
</html>
