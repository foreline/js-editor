<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WYSIWYG Editor</title>
    <style>
        .editor-container {
            max-width: 800px;
            margin: 20px auto;
            padding: 20px;
        }
        .note-text {
            min-height: 300px;
            padding: 15px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
    </style>
</head>
<body>

<div class="editor-container">
    <div id="editor" class="editor"></div>
</div>

<script type="module">
    import './src/css/editor.css';
    import '@popperjs/core';
    import 'bootstrap';
    import 'bootstrap/dist/css/bootstrap.min.css';
    import '@fortawesome/fontawesome-free/css/all.min.css';
    import { Editor } from './src/Editor.js';

    // Toolbar config for dynamic generation
    const toolbarConfig = [
        {
            group: [
                { class: 'editor-toolbar-undo', icon: 'fa-undo', title: 'отменить действие' },
                { class: 'editor-toolbar-redo', icon: 'fa-redo', title: 'применить действие' }
            ]
        },
        {
            group: [
                { class: 'editor-toolbar-header1', label: 'Заголовок 1' },
                { class: 'editor-toolbar-header2', label: 'Заголовок 2' },
                { class: 'editor-toolbar-header3', label: 'Заголовок 3' },
                { class: 'editor-toolbar-header4', label: 'Заголовок 4' },
                { class: 'editor-toolbar-header5', label: 'Заголовок 5' },
                { class: 'editor-toolbar-header6', label: 'Заголовок 6' },
                { class: 'editor-toolbar-paragraph', label: 'Обычный текст' }
            ],
            dropdown: true,
            icon: 'fa-heading',
            id: 'dropdownMenuHeader'
        },
        {
            group: [
                { class: 'editor-toolbar-bold', icon: 'fa-bold', title: 'жирный текст' },
                { class: 'editor-toolbar-italic', icon: 'fa-italic', title: 'курсив' },
                { class: 'editor-toolbar-underline', icon: 'fa-underline', title: 'подчеркнутый' },
                { class: 'editor-toolbar-strikethrough', icon: 'fa-strikethrough', title: 'перечеркнутый' }
            ]
        },
        {
            group: [
                { class: 'editor-toolbar-ul', icon: 'fa-list', title: 'вставить список' },
                { class: 'editor-toolbar-ol', icon: 'fa-list-ol', title: 'вставить нумерованный список' },
                { class: 'editor-toolbar-sq', icon: 'fa-list-check', title: 'вставить список с чекбоксами' }
            ]
        },
        {
            group: [
                { class: 'editor-toolbar-table', icon: 'fa-table', title: 'вставить таблицу' },
                { class: 'editor-toolbar-image', icon: 'fa-image', title: 'вставить изображение' }
            ]
        },
        {
            group: [
                { class: 'editor-toolbar-code', icon: 'fa-code', title: 'форматировать как исходный код' }
            ]
        },
        {
            group: [
                { class: 'editor-toolbar-text', icon: 'fa-paragraph', title: 'просмотр форматированного текста', disabled: true },
                { class: 'editor-toolbar-markdown', icon: 'fa-brands fa-markdown', title: 'просмотр markdown' },
                { class: 'editor-toolbar-html', icon: 'fa-brands fa-html5', title: 'просмотр html' }
            ]
        }
    ];

    //Toolbar.createToolbar(document.querySelector('.editor-container'), toolbarConfig);
    const editor = new Editor(
        {
            id: 'editor',
            container: document.querySelector('.editor-container'),
            toolbar: {
                container: document.querySelector('.editor-container'),
                config: toolbarConfig
            },
            // initial markdown content
            text: `# JS Editor

## Paragraph Block

**Жирный текст** и *курсив* и ~~перечеркнутый~~.

## Lists

### Unordered List
- Первый элемент списка
- Второй элемент списка
- Третий элемент списка

### Ordered List
1. Первый элемент нумерованного списка
2. Второй элемент
3. Третий элемент

### Task List
- [ ] Задача не выполнена
- [x] Задача выполнена
- [ ] Еще одна задача

## Table Block
| Заголовок 1 | Заголовок 2 | Заголовок 3 |
|-------------|-------------|-------------|
| Ячейка 1    | Ячейка 2    | Ячейка 3    |
| Данные A    | Данные B    | Данные C    |

## Blockquote block
> Это цитата.

## Inline Code Block
Код \`внутри\` строки

## Code Block
\`\`\`javascript
console.log('Hello, world!');
\`\`\`

## URL Links
[Ссылка на Яндекс](https://www.yandex.ru)
[Ссылка на Google](https://www.google.com)

## Image Block
![Пример изображения](https://via.placeholder.com/300x200/0066CC/FFFFFF?text=Пример+изображения)

## Paragraph Block
Это обычный текстовый блок с возможностью форматирования. Вы можете использовать **жирный текст**, *курсив*, ~~перечеркнутый~~ текст и даже вставлять ссылки, например [Яндекс](https://www.yandex.ru) или [Google](https://www.google.com).
`
        }
    );
</script>
</body>
</html>